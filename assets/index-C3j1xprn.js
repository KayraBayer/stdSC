(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Hm={exports:{}},nu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sT;function KC(){if(sT)return nu;sT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:e,type:s,key:c,ref:o!==void 0?o:null,props:u}}return nu.Fragment=t,nu.jsx=n,nu.jsxs=n,nu}var rT;function YC(){return rT||(rT=1,Hm.exports=KC()),Hm.exports}var tt=YC(),Fm={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aT;function $C(){if(aT)return Rt;aT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),E=Symbol.iterator;function S(M){return M===null||typeof M!="object"?null:(M=E&&M[E]||M["@@iterator"],typeof M=="function"?M:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,H={};function k(M,nt,ut){this.props=M,this.context=nt,this.refs=H,this.updater=ut||C}k.prototype.isReactComponent={},k.prototype.setState=function(M,nt){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,nt,"setState")},k.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function G(){}G.prototype=k.prototype;function Y(M,nt,ut){this.props=M,this.context=nt,this.refs=H,this.updater=ut||C}var $=Y.prototype=new G;$.constructor=Y,P($,k.prototype),$.isPureReactComponent=!0;var lt=Array.isArray,it={H:null,A:null,T:null,S:null,V:null},dt=Object.prototype.hasOwnProperty;function V(M,nt,ut,at,gt,xt){return ut=xt.ref,{$$typeof:e,type:M,key:nt,ref:ut!==void 0?ut:null,props:xt}}function w(M,nt){return V(M.type,nt,void 0,void 0,void 0,M.props)}function R(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function D(M){var nt={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ut){return nt[ut]})}var N=/\/+/g;function L(M,nt){return typeof M=="object"&&M!==null&&M.key!=null?D(""+M.key):nt.toString(36)}function x(){}function ce(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(x,x):(M.status="pending",M.then(function(nt){M.status==="pending"&&(M.status="fulfilled",M.value=nt)},function(nt){M.status==="pending"&&(M.status="rejected",M.reason=nt)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function te(M,nt,ut,at,gt){var xt=typeof M;(xt==="undefined"||xt==="boolean")&&(M=null);var At=!1;if(M===null)At=!0;else switch(xt){case"bigint":case"string":case"number":At=!0;break;case"object":switch(M.$$typeof){case e:case t:At=!0;break;case y:return At=M._init,te(At(M._payload),nt,ut,at,gt)}}if(At)return gt=gt(M),At=at===""?"."+L(M,0):at,lt(gt)?(ut="",At!=null&&(ut=At.replace(N,"$&/")+"/"),te(gt,nt,ut,"",function(ti){return ti})):gt!=null&&(R(gt)&&(gt=w(gt,ut+(gt.key==null||M&&M.key===gt.key?"":(""+gt.key).replace(N,"$&/")+"/")+At)),nt.push(gt)),1;At=0;var Pe=at===""?".":at+":";if(lt(M))for(var Zt=0;Zt<M.length;Zt++)at=M[Zt],xt=Pe+L(at,Zt),At+=te(at,nt,ut,xt,gt);else if(Zt=S(M),typeof Zt=="function")for(M=Zt.call(M),Zt=0;!(at=M.next()).done;)at=at.value,xt=Pe+L(at,Zt++),At+=te(at,nt,ut,xt,gt);else if(xt==="object"){if(typeof M.then=="function")return te(ce(M),nt,ut,at,gt);throw nt=String(M),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return At}function X(M,nt,ut){if(M==null)return M;var at=[],gt=0;return te(M,at,"","",function(xt){return nt.call(ut,xt,gt++)}),at}function st(M){if(M._status===-1){var nt=M._result;nt=nt(),nt.then(function(ut){(M._status===0||M._status===-1)&&(M._status=1,M._result=ut)},function(ut){(M._status===0||M._status===-1)&&(M._status=2,M._result=ut)}),M._status===-1&&(M._status=0,M._result=nt)}if(M._status===1)return M._result.default;throw M._result}var ct=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function Ct(){}return Rt.Children={map:X,forEach:function(M,nt,ut){X(M,function(){nt.apply(this,arguments)},ut)},count:function(M){var nt=0;return X(M,function(){nt++}),nt},toArray:function(M){return X(M,function(nt){return nt})||[]},only:function(M){if(!R(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Rt.Component=k,Rt.Fragment=n,Rt.Profiler=o,Rt.PureComponent=Y,Rt.StrictMode=s,Rt.Suspense=m,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=it,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return it.H.useMemoCache(M)}},Rt.cache=function(M){return function(){return M.apply(null,arguments)}},Rt.cloneElement=function(M,nt,ut){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var at=P({},M.props),gt=M.key,xt=void 0;if(nt!=null)for(At in nt.ref!==void 0&&(xt=void 0),nt.key!==void 0&&(gt=""+nt.key),nt)!dt.call(nt,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&nt.ref===void 0||(at[At]=nt[At]);var At=arguments.length-2;if(At===1)at.children=ut;else if(1<At){for(var Pe=Array(At),Zt=0;Zt<At;Zt++)Pe[Zt]=arguments[Zt+2];at.children=Pe}return V(M.type,gt,void 0,void 0,xt,at)},Rt.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Rt.createElement=function(M,nt,ut){var at,gt={},xt=null;if(nt!=null)for(at in nt.key!==void 0&&(xt=""+nt.key),nt)dt.call(nt,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(gt[at]=nt[at]);var At=arguments.length-2;if(At===1)gt.children=ut;else if(1<At){for(var Pe=Array(At),Zt=0;Zt<At;Zt++)Pe[Zt]=arguments[Zt+2];gt.children=Pe}if(M&&M.defaultProps)for(at in At=M.defaultProps,At)gt[at]===void 0&&(gt[at]=At[at]);return V(M,xt,void 0,void 0,null,gt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(M){return{$$typeof:d,render:M}},Rt.isValidElement=R,Rt.lazy=function(M){return{$$typeof:y,_payload:{_status:-1,_result:M},_init:st}},Rt.memo=function(M,nt){return{$$typeof:g,type:M,compare:nt===void 0?null:nt}},Rt.startTransition=function(M){var nt=it.T,ut={};it.T=ut;try{var at=M(),gt=it.S;gt!==null&&gt(ut,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Ct,ct)}catch(xt){ct(xt)}finally{it.T=nt}},Rt.unstable_useCacheRefresh=function(){return it.H.useCacheRefresh()},Rt.use=function(M){return it.H.use(M)},Rt.useActionState=function(M,nt,ut){return it.H.useActionState(M,nt,ut)},Rt.useCallback=function(M,nt){return it.H.useCallback(M,nt)},Rt.useContext=function(M){return it.H.useContext(M)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(M,nt){return it.H.useDeferredValue(M,nt)},Rt.useEffect=function(M,nt,ut){var at=it.H;if(typeof ut=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return at.useEffect(M,nt)},Rt.useId=function(){return it.H.useId()},Rt.useImperativeHandle=function(M,nt,ut){return it.H.useImperativeHandle(M,nt,ut)},Rt.useInsertionEffect=function(M,nt){return it.H.useInsertionEffect(M,nt)},Rt.useLayoutEffect=function(M,nt){return it.H.useLayoutEffect(M,nt)},Rt.useMemo=function(M,nt){return it.H.useMemo(M,nt)},Rt.useOptimistic=function(M,nt){return it.H.useOptimistic(M,nt)},Rt.useReducer=function(M,nt,ut){return it.H.useReducer(M,nt,ut)},Rt.useRef=function(M){return it.H.useRef(M)},Rt.useState=function(M){return it.H.useState(M)},Rt.useSyncExternalStore=function(M,nt,ut){return it.H.useSyncExternalStore(M,nt,ut)},Rt.useTransition=function(){return it.H.useTransition()},Rt.version="19.1.1",Rt}var oT;function Ag(){return oT||(oT=1,Fm.exports=$C()),Fm.exports}var B=Ag(),Gm={exports:{}},iu={},Km={exports:{}},Ym={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lT;function QC(){return lT||(lT=1,(function(e){function t(X,st){var ct=X.length;X.push(st);t:for(;0<ct;){var Ct=ct-1>>>1,M=X[Ct];if(0<o(M,st))X[Ct]=st,X[ct]=M,ct=Ct;else break t}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var st=X[0],ct=X.pop();if(ct!==st){X[0]=ct;t:for(var Ct=0,M=X.length,nt=M>>>1;Ct<nt;){var ut=2*(Ct+1)-1,at=X[ut],gt=ut+1,xt=X[gt];if(0>o(at,ct))gt<M&&0>o(xt,at)?(X[Ct]=xt,X[gt]=ct,Ct=gt):(X[Ct]=at,X[ut]=ct,Ct=ut);else if(gt<M&&0>o(xt,ct))X[Ct]=xt,X[gt]=ct,Ct=gt;else break t}}return st}function o(X,st){var ct=X.sortIndex-st.sortIndex;return ct!==0?ct:X.id-st.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var m=[],g=[],y=1,E=null,S=3,C=!1,P=!1,H=!1,k=!1,G=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function lt(X){for(var st=n(g);st!==null;){if(st.callback===null)s(g);else if(st.startTime<=X)s(g),st.sortIndex=st.expirationTime,t(m,st);else break;st=n(g)}}function it(X){if(H=!1,lt(X),!P)if(n(m)!==null)P=!0,dt||(dt=!0,L());else{var st=n(g);st!==null&&te(it,st.startTime-X)}}var dt=!1,V=-1,w=5,R=-1;function D(){return k?!0:!(e.unstable_now()-R<w)}function N(){if(k=!1,dt){var X=e.unstable_now();R=X;var st=!0;try{t:{P=!1,H&&(H=!1,Y(V),V=-1),C=!0;var ct=S;try{e:{for(lt(X),E=n(m);E!==null&&!(E.expirationTime>X&&D());){var Ct=E.callback;if(typeof Ct=="function"){E.callback=null,S=E.priorityLevel;var M=Ct(E.expirationTime<=X);if(X=e.unstable_now(),typeof M=="function"){E.callback=M,lt(X),st=!0;break e}E===n(m)&&s(m),lt(X)}else s(m);E=n(m)}if(E!==null)st=!0;else{var nt=n(g);nt!==null&&te(it,nt.startTime-X),st=!1}}break t}finally{E=null,S=ct,C=!1}st=void 0}}finally{st?L():dt=!1}}}var L;if(typeof $=="function")L=function(){$(N)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,ce=x.port2;x.port1.onmessage=N,L=function(){ce.postMessage(null)}}else L=function(){G(N,0)};function te(X,st){V=G(function(){X(e.unstable_now())},st)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_next=function(X){switch(S){case 1:case 2:case 3:var st=3;break;default:st=S}var ct=S;S=st;try{return X()}finally{S=ct}},e.unstable_requestPaint=function(){k=!0},e.unstable_runWithPriority=function(X,st){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ct=S;S=X;try{return st()}finally{S=ct}},e.unstable_scheduleCallback=function(X,st,ct){var Ct=e.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Ct+ct:Ct):ct=Ct,X){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ct+M,X={id:y++,callback:st,priorityLevel:X,startTime:ct,expirationTime:M,sortIndex:-1},ct>Ct?(X.sortIndex=ct,t(g,X),n(m)===null&&X===n(g)&&(H?(Y(V),V=-1):H=!0,te(it,ct-Ct))):(X.sortIndex=M,t(m,X),P||C||(P=!0,dt||(dt=!0,L()))),X},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(X){var st=S;return function(){var ct=S;S=st;try{return X.apply(this,arguments)}finally{S=ct}}}})(Ym)),Ym}var uT;function XC(){return uT||(uT=1,Km.exports=QC()),Km.exports}var $m={exports:{}},Ze={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cT;function WC(){if(cT)return Ze;cT=1;var e=Ag();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,y){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:m,containerInfo:g,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ze.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(m,g,null,y)},Ze.flushSync=function(m){var g=c.T,y=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=g,s.p=y,s.d.f()}},Ze.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},Ze.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Ze.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,E=d(y,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:S,fetchPriority:C}):y==="script"&&s.d.X(m,{crossOrigin:E,integrity:S,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ze.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=d(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},Ze.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,E=d(y,g.crossOrigin);s.d.L(m,y,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ze.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=d(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},Ze.requestFormReset=function(m){s.d.r(m)},Ze.unstable_batchedUpdates=function(m,g){return m(g)},Ze.useFormState=function(m,g,y){return c.H.useFormState(m,g,y)},Ze.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ze.version="19.1.1",Ze}var hT;function ZC(){if(hT)return $m.exports;hT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),$m.exports=WC(),$m.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fT;function JC(){if(fT)return iu;fT=1;var e=XC(),t=Ag(),n=ZC();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var r=i,a=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(a=r.return),i=r.return;while(i)}return r.tag===3?a:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(u(i)!==i)throw Error(s(188))}function m(i){var r=i.alternate;if(!r){if(r=u(i),r===null)throw Error(s(188));return r!==i?null:i}for(var a=i,l=r;;){var f=a.return;if(f===null)break;var p=f.alternate;if(p===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===a)return d(f),i;if(p===l)return d(f),r;p=p.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=p;else{for(var T=!1,A=f.child;A;){if(A===a){T=!0,a=f,l=p;break}if(A===l){T=!0,l=f,a=p;break}A=A.sibling}if(!T){for(A=p.child;A;){if(A===a){T=!0,a=p,l=f;break}if(A===l){T=!0,l=p,a=f;break}A=A.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?i:r}function g(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=g(i),r!==null)return r;i=i.sibling}return null}var y=Object.assign,E=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),Y=Symbol.for("react.consumer"),$=Symbol.for("react.context"),lt=Symbol.for("react.forward_ref"),it=Symbol.for("react.suspense"),dt=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function L(i){return i===null||typeof i!="object"?null:(i=N&&i[N]||i["@@iterator"],typeof i=="function"?i:null)}var x=Symbol.for("react.client.reference");function ce(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===x?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case P:return"Fragment";case k:return"Profiler";case H:return"StrictMode";case it:return"Suspense";case dt:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case C:return"Portal";case $:return(i.displayName||"Context")+".Provider";case Y:return(i._context.displayName||"Context")+".Consumer";case lt:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case V:return r=i.displayName||null,r!==null?r:ce(i.type)||"Memo";case w:r=i._payload,i=i._init;try{return ce(i(r))}catch{}}return null}var te=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Ct=[],M=-1;function nt(i){return{current:i}}function ut(i){0>M||(i.current=Ct[M],Ct[M]=null,M--)}function at(i,r){M++,Ct[M]=i.current,i.current=r}var gt=nt(null),xt=nt(null),At=nt(null),Pe=nt(null);function Zt(i,r){switch(at(At,r),at(xt,i),at(gt,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?V0(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=V0(r),i=N0(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ut(gt),at(gt,i)}function ti(){ut(gt),ut(xt),ut(At)}function ms(i){i.memoizedState!==null&&at(Pe,i);var r=gt.current,a=N0(r,i.type);r!==a&&(at(xt,i),at(gt,a))}function Mi(i){xt.current===i&&(ut(gt),ut(xt)),Pe.current===i&&(ut(Pe),Wl._currentValue=ct)}var fr=Object.prototype.hasOwnProperty,dr=e.unstable_scheduleCallback,mr=e.unstable_cancelCallback,$o=e.unstable_shouldYield,Ju=e.unstable_requestPaint,Rn=e.unstable_now,Hf=e.unstable_getCurrentPriorityLevel,Qo=e.unstable_ImmediatePriority,ha=e.unstable_UserBlockingPriority,pr=e.unstable_NormalPriority,Ff=e.unstable_LowPriority,fa=e.unstable_IdlePriority,Xo=e.log,tc=e.unstable_setDisableYieldValue,he=null,Ft=null;function yn(i){if(typeof Xo=="function"&&tc(i),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(he,i)}catch{}}var Xe=Math.clz32?Math.clz32:gr,ec=Math.log,Gf=Math.LN2;function gr(i){return i>>>=0,i===0?32:31-(ec(i)/Gf|0)|0}var yr=256,vr=4194304;function Hn(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function da(i,r,a){var l=i.pendingLanes;if(l===0)return 0;var f=0,p=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var A=l&134217727;return A!==0?(l=A&~p,l!==0?f=Hn(l):(T&=A,T!==0?f=Hn(T):a||(a=A&~i,a!==0&&(f=Hn(a))))):(A=l&~p,A!==0?f=Hn(A):T!==0?f=Hn(T):a||(a=l&~i,a!==0&&(f=Hn(a)))),f===0?0:r!==0&&r!==f&&(r&p)===0&&(p=f&-f,a=r&-r,p>=a||p===32&&(a&4194048)!==0)?r:f}function _r(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Wo(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zo(){var i=yr;return yr<<=1,(yr&4194048)===0&&(yr=256),i}function Jo(){var i=vr;return vr<<=1,(vr&62914560)===0&&(vr=4194304),i}function Vi(i){for(var r=[],a=0;31>a;a++)r.push(i);return r}function Ni(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function tl(i,r,a,l,f,p){var T=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var A=i.entanglements,I=i.expirationTimes,q=i.hiddenUpdates;for(a=T&~a;0<a;){var W=31-Xe(a),J=1<<W;A[W]=0,I[W]=-1;var F=q[W];if(F!==null)for(q[W]=null,W=0;W<F.length;W++){var K=F[W];K!==null&&(K.lane&=-536870913)}a&=~J}l!==0&&ei(i,l,0),p!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=p&~(T&~r))}function ei(i,r,a){i.pendingLanes|=r,i.suspendedLanes&=~r;var l=31-Xe(r);i.entangledLanes|=r,i.entanglements[l]=i.entanglements[l]|1073741824|a&4194090}function el(i,r){var a=i.entangledLanes|=r;for(i=i.entanglements;a;){var l=31-Xe(a),f=1<<l;f&r|i[l]&r&&(i[l]|=r),a&=~f}}function ps(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ma(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function gs(){var i=st.p;return i!==0?i:(i=window.event,i===void 0?32:Z0(i.type))}function nc(i,r){var a=st.p;try{return st.p=i,r()}finally{st.p=a}}var ee=Math.random().toString(36).slice(2),xe="__reactFiber$"+ee,Ee="__reactProps$"+ee,Cn="__reactContainer$"+ee,nl="__reactEvents$"+ee,Kf="__reactListeners$"+ee,ys="__reactHandles$"+ee,ic="__reactResources$"+ee,Tr="__reactMarker$"+ee;function vs(i){delete i[xe],delete i[Ee],delete i[nl],delete i[Kf],delete i[ys]}function Oi(i){var r=i[xe];if(r)return r;for(var a=i.parentNode;a;){if(r=a[Cn]||a[xe]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(i=k0(i);i!==null;){if(a=i[xe])return a;i=k0(i)}return r}i=a,a=i.parentNode}return null}function ni(i){if(i=i[xe]||i[Cn]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function ii(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function rn(i){var r=i[ic];return r||(r=i[ic]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function pe(i){i[Tr]=!0}var il=new Set,pa={};function Fn(i,r){Pi(i,r),Pi(i+"Capture",r)}function Pi(i,r){for(pa[i]=r,i=0;i<r.length;i++)il.add(r[i])}var sc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rc={},Er={};function ac(i){return fr.call(Er,i)?!0:fr.call(rc,i)?!1:sc.test(i)?Er[i]=!0:(rc[i]=!0,!1)}function _s(i,r,a){if(ac(r))if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+a)}}function si(i,r,a){if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+a)}}function qe(i,r,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(r,a,""+l)}}var Sr,oc;function Li(i){if(Sr===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Sr=r&&r[1]||"",oc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sr+i+oc}var ga=!1;function ya(i,r){if(!i||ga)return"";ga=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(K){var F=K}Reflect.construct(i,[],J)}else{try{J.call()}catch(K){F=K}i.call(J.prototype)}}else{try{throw Error()}catch(K){F=K}(J=i())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(K){if(K&&F&&typeof K.stack=="string")return[K.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),T=p[0],A=p[1];if(T&&A){var I=T.split(`
`),q=A.split(`
`);for(f=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(l===I.length||f===q.length)for(l=I.length-1,f=q.length-1;1<=l&&0<=f&&I[l]!==q[f];)f--;for(;1<=l&&0<=f;l--,f--)if(I[l]!==q[f]){if(l!==1||f!==1)do if(l--,f--,0>f||I[l]!==q[f]){var W=`
`+I[l].replace(" at new "," at ");return i.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",i.displayName)),W}while(1<=l&&0<=f);break}}}finally{ga=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?Li(a):""}function sl(i){switch(i.tag){case 26:case 27:case 5:return Li(i.type);case 16:return Li("Lazy");case 13:return Li("Suspense");case 19:return Li("SuspenseList");case 0:case 15:return ya(i.type,!1);case 11:return ya(i.type.render,!1);case 1:return ya(i.type,!0);case 31:return Li("Activity");default:return""}}function va(i){try{var r="";do r+=sl(i),i=i.return;while(i);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function an(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function rl(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Yf(i){var r=rl(i)?"checked":"value",a=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),l=""+i[r];if(!i.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,p=a.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(T){l=""+T,p.call(this,T)}}),Object.defineProperty(i,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function _a(i){i._valueTracker||(i._valueTracker=Yf(i))}function al(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return i&&(l=rl(i)?i.checked?"true":"false":i.value),i=l,i!==a?(r.setValue(i),!0):!1}function Ar(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var $f=/[\n"\\]/g;function Se(i){return i.replace($f,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function vn(i,r,a,l,f,p,T,A){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),r!=null?T==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+an(r)):i.value!==""+an(r)&&(i.value=""+an(r)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),r!=null?Ts(i,T,an(r)):a!=null?Ts(i,T,an(a)):l!=null&&i.removeAttribute("value"),f==null&&p!=null&&(i.defaultChecked=!!p),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+an(A):i.removeAttribute("name")}function br(i,r,a,l,f,p,T,A){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),r!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||r!=null))return;a=a!=null?""+an(a):"",r=r!=null?""+an(r):a,A||r===i.value||(i.value=r),i.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=A?i.checked:!!l,i.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T)}function Ts(i,r,a){r==="number"&&Ar(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function ki(i,r,a,l){if(i=i.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<i.length;a++)f=r.hasOwnProperty("$"+i[a].value),i[a].selected!==f&&(i[a].selected=f),f&&l&&(i[a].defaultSelected=!0)}else{for(a=""+an(a),r=null,f=0;f<i.length;f++){if(i[f].value===a){i[f].selected=!0,l&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function Yt(i,r,a){if(r!=null&&(r=""+an(r),r!==i.value&&(i.value=r),a==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=a!=null?""+an(a):""}function wr(i,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(te(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=an(r),i.defaultValue=a,l=i.textContent,l===a&&l!==""&&l!==null&&(i.value=l)}function In(i,r){if(r){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=r;return}}i.textContent=r}var Rr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lc(i,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":l?i.setProperty(r,a):typeof a!="number"||a===0||Rr.has(r)?r==="float"?i.cssFloat=a:i[r]=(""+a).trim():i[r]=a+"px"}function ol(i,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&lc(i,f,l)}else for(var p in r)r.hasOwnProperty(p)&&lc(i,p,r[p])}function ll(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(i){return Xf.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Ui=null;function xn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Bi=null,zi=null;function ul(i){var r=ni(i);if(r&&(i=r.stateNode)){var a=i[Ee]||null;t:switch(i=r.stateNode,r.type){case"input":if(vn(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Se(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==i&&l.form===i.form){var f=l[Ee]||null;if(!f)throw Error(s(90));vn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===i.form&&al(l)}break t;case"textarea":Yt(i,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&ki(i,!!a.multiple,r,!1)}}}var ri=!1;function uc(i,r,a){if(ri)return i(r,a);ri=!0;try{var l=i(r);return l}finally{if(ri=!1,(Bi!==null||zi!==null)&&(nh(),Bi&&(r=Bi,i=zi,zi=Bi=null,ul(r),i)))for(r=0;r<i.length;r++)ul(i[r])}}function Cr(i,r){var a=i.stateNode;if(a===null)return null;var l=a[Ee]||null;if(l===null)return null;a=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break t;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dn=!1;if(Gn)try{var Ir={};Object.defineProperty(Ir,"passive",{get:function(){Dn=!0}}),window.addEventListener("test",Ir,Ir),window.removeEventListener("test",Ir,Ir)}catch{Dn=!1}var ai=null,Es=null,ji=null;function cl(){if(ji)return ji;var i,r=Es,a=r.length,l,f="value"in ai?ai.value:ai.textContent,p=f.length;for(i=0;i<a&&r[i]===f[i];i++);var T=a-i;for(l=1;l<=T&&r[a-l]===f[p-l];l++);return ji=f.slice(i,1<l?1-l:void 0)}function oi(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function li(){return!0}function hl(){return!1}function Le(i){function r(a,l,f,p,T){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(a=i[A],this[A]=a?a(p):p[A]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?li:hl,this.isPropagationStopped=hl,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=li)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=li)},persist:function(){},isPersistent:li}),r}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ea=Le(Ht),xr=y({},Ht,{view:0,detail:0}),cc=Le(xr),Sa,Aa,ui,Dr=y({},xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ui&&(ui&&i.type==="mousemove"?(Sa=i.screenX-ui.screenX,Aa=i.screenY-ui.screenY):Aa=Sa=0,ui=i),Sa)},movementY:function(i){return"movementY"in i?i.movementY:Aa}}),Mn=Le(Dr),hc=y({},Dr,{dataTransfer:0}),Wf=Le(hc),Mr=y({},xr,{relatedTarget:0}),ba=Le(Mr),fl=y({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),wa=Le(fl),fc=y({},Ht,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ra=Le(fc),Zf=y({},Ht,{data:0}),dl=Le(Zf),Vr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ml(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=mc[i])?!!r[i]:!1}function Nr(){return ml}var pc=y({},xr,{key:function(i){if(i.key){var r=Vr[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=oi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?dc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nr,charCode:function(i){return i.type==="keypress"?oi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?oi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ca=Le(pc),gc=y({},Dr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pl=Le(gc),qi=y({},xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nr}),yc=Le(qi),vc=y({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),_c=Le(vc),Tc=y({},Dr,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ia=Le(Tc),on=y({},Ht,{newState:0,oldState:0}),Ec=Le(on),Sc=[9,13,27,32],ci=Gn&&"CompositionEvent"in window,h=null;Gn&&"documentMode"in document&&(h=document.documentMode);var v=Gn&&"TextEvent"in window&&!h,_=Gn&&(!ci||h&&8<h&&11>=h),b=" ",z=!1;function Q(i,r){switch(i){case"keyup":return Sc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ot(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Pt=!1;function De(i,r){switch(i){case"compositionend":return ot(r);case"keypress":return r.which!==32?null:(z=!0,b);case"textInput":return i=r.data,i===b&&z?null:i;default:return null}}function Lt(i,r){if(Pt)return i==="compositionend"||!ci&&Q(i,r)?(i=cl(),ji=Es=ai=null,Pt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var ke={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Me(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!ke[i.type]:r==="textarea"}function Hi(i,r,a,l){Bi?zi?zi.push(l):zi=[l]:Bi=l,r=lh(r,"onChange"),0<r.length&&(a=new Ea("onChange","change",null,a,l),i.push({event:a,listeners:r}))}var He=null,hi=null;function gl(i){C0(i,0)}function Ac(i){var r=ii(i);if(al(r))return i}function $y(i,r){if(i==="change")return r}var Qy=!1;if(Gn){var Jf;if(Gn){var td="oninput"in document;if(!td){var Xy=document.createElement("div");Xy.setAttribute("oninput","return;"),td=typeof Xy.oninput=="function"}Jf=td}else Jf=!1;Qy=Jf&&(!document.documentMode||9<document.documentMode)}function Wy(){He&&(He.detachEvent("onpropertychange",Zy),hi=He=null)}function Zy(i){if(i.propertyName==="value"&&Ac(hi)){var r=[];Hi(r,hi,i,xn(i)),uc(gl,r)}}function SR(i,r,a){i==="focusin"?(Wy(),He=r,hi=a,He.attachEvent("onpropertychange",Zy)):i==="focusout"&&Wy()}function AR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ac(hi)}function bR(i,r){if(i==="click")return Ac(r)}function wR(i,r){if(i==="input"||i==="change")return Ac(r)}function RR(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var _n=typeof Object.is=="function"?Object.is:RR;function yl(i,r){if(_n(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var a=Object.keys(i),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!fr.call(r,f)||!_n(i[f],r[f]))return!1}return!0}function Jy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function tv(i,r){var a=Jy(i);i=0;for(var l;a;){if(a.nodeType===3){if(l=i+a.textContent.length,i<=r&&l>=r)return{node:a,offset:r-i};i=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Jy(a)}}function ev(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?ev(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function nv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Ar(i.document);r instanceof i.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)i=r.contentWindow;else break;r=Ar(i.document)}return r}function ed(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var CR=Gn&&"documentMode"in document&&11>=document.documentMode,xa=null,nd=null,vl=null,id=!1;function iv(i,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;id||xa==null||xa!==Ar(l)||(l=xa,"selectionStart"in l&&ed(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),vl&&yl(vl,l)||(vl=l,l=lh(nd,"onSelect"),0<l.length&&(r=new Ea("onSelect","select",null,r,a),i.push({event:r,listeners:l}),r.target=xa)))}function Or(i,r){var a={};return a[i.toLowerCase()]=r.toLowerCase(),a["Webkit"+i]="webkit"+r,a["Moz"+i]="moz"+r,a}var Da={animationend:Or("Animation","AnimationEnd"),animationiteration:Or("Animation","AnimationIteration"),animationstart:Or("Animation","AnimationStart"),transitionrun:Or("Transition","TransitionRun"),transitionstart:Or("Transition","TransitionStart"),transitioncancel:Or("Transition","TransitionCancel"),transitionend:Or("Transition","TransitionEnd")},sd={},sv={};Gn&&(sv=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function Pr(i){if(sd[i])return sd[i];if(!Da[i])return i;var r=Da[i],a;for(a in r)if(r.hasOwnProperty(a)&&a in sv)return sd[i]=r[a];return i}var rv=Pr("animationend"),av=Pr("animationiteration"),ov=Pr("animationstart"),IR=Pr("transitionrun"),xR=Pr("transitionstart"),DR=Pr("transitioncancel"),lv=Pr("transitionend"),uv=new Map,rd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rd.push("scrollEnd");function Kn(i,r){uv.set(i,r),Fn(r,[i])}var cv=new WeakMap;function Vn(i,r){if(typeof i=="object"&&i!==null){var a=cv.get(i);return a!==void 0?a:(r={value:i,source:r,stack:va(r)},cv.set(i,r),r)}return{value:i,source:r,stack:va(r)}}var Nn=[],Ma=0,ad=0;function bc(){for(var i=Ma,r=ad=Ma=0;r<i;){var a=Nn[r];Nn[r++]=null;var l=Nn[r];Nn[r++]=null;var f=Nn[r];Nn[r++]=null;var p=Nn[r];if(Nn[r++]=null,l!==null&&f!==null){var T=l.pending;T===null?f.next=f:(f.next=T.next,T.next=f),l.pending=f}p!==0&&hv(a,f,p)}}function wc(i,r,a,l){Nn[Ma++]=i,Nn[Ma++]=r,Nn[Ma++]=a,Nn[Ma++]=l,ad|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function od(i,r,a,l){return wc(i,r,a,l),Rc(i)}function Va(i,r){return wc(i,null,null,r),Rc(i)}function hv(i,r,a){i.lanes|=a;var l=i.alternate;l!==null&&(l.lanes|=a);for(var f=!1,p=i.return;p!==null;)p.childLanes|=a,l=p.alternate,l!==null&&(l.childLanes|=a),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(f=!0)),i=p,p=p.return;return i.tag===3?(p=i.stateNode,f&&r!==null&&(f=31-Xe(a),i=p.hiddenUpdates,l=i[f],l===null?i[f]=[r]:l.push(r),r.lane=a|536870912),p):null}function Rc(i){if(50<Hl)throw Hl=0,dm=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Na={};function MR(i,r,a,l){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(i,r,a,l){return new MR(i,r,a,l)}function ld(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Fi(i,r){var a=i.alternate;return a===null?(a=Tn(i.tag,r,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=r,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,r=i.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function fv(i,r){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,r=a.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Cc(i,r,a,l,f,p){var T=0;if(l=i,typeof i=="function")ld(i)&&(T=1);else if(typeof i=="string")T=NC(i,a,gt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case R:return i=Tn(31,a,r,f),i.elementType=R,i.lanes=p,i;case P:return Lr(a.children,f,p,r);case H:T=8,f|=24;break;case k:return i=Tn(12,a,r,f|2),i.elementType=k,i.lanes=p,i;case it:return i=Tn(13,a,r,f),i.elementType=it,i.lanes=p,i;case dt:return i=Tn(19,a,r,f),i.elementType=dt,i.lanes=p,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case G:case $:T=10;break t;case Y:T=9;break t;case lt:T=11;break t;case V:T=14;break t;case w:T=16,l=null;break t}T=29,a=Error(s(130,i===null?"null":typeof i,"")),l=null}return r=Tn(T,a,r,f),r.elementType=i,r.type=l,r.lanes=p,r}function Lr(i,r,a,l){return i=Tn(7,i,l,r),i.lanes=a,i}function ud(i,r,a){return i=Tn(6,i,null,r),i.lanes=a,i}function cd(i,r,a){return r=Tn(4,i.children!==null?i.children:[],i.key,r),r.lanes=a,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Oa=[],Pa=0,Ic=null,xc=0,On=[],Pn=0,kr=null,Gi=1,Ki="";function Ur(i,r){Oa[Pa++]=xc,Oa[Pa++]=Ic,Ic=i,xc=r}function dv(i,r,a){On[Pn++]=Gi,On[Pn++]=Ki,On[Pn++]=kr,kr=i;var l=Gi;i=Ki;var f=32-Xe(l)-1;l&=~(1<<f),a+=1;var p=32-Xe(r)+f;if(30<p){var T=f-f%5;p=(l&(1<<T)-1).toString(32),l>>=T,f-=T,Gi=1<<32-Xe(r)+f|a<<f|l,Ki=p+i}else Gi=1<<p|a<<f|l,Ki=i}function hd(i){i.return!==null&&(Ur(i,1),dv(i,1,0))}function fd(i){for(;i===Ic;)Ic=Oa[--Pa],Oa[Pa]=null,xc=Oa[--Pa],Oa[Pa]=null;for(;i===kr;)kr=On[--Pn],On[Pn]=null,Ki=On[--Pn],On[Pn]=null,Gi=On[--Pn],On[Pn]=null}var ln=null,fe=null,qt=!1,Br=null,fi=!1,dd=Error(s(519));function zr(i){var r=Error(s(418,""));throw El(Vn(r,i)),dd}function mv(i){var r=i.stateNode,a=i.type,l=i.memoizedProps;switch(r[xe]=i,r[Ee]=l,a){case"dialog":Vt("cancel",r),Vt("close",r);break;case"iframe":case"object":case"embed":Vt("load",r);break;case"video":case"audio":for(a=0;a<Gl.length;a++)Vt(Gl[a],r);break;case"source":Vt("error",r);break;case"img":case"image":case"link":Vt("error",r),Vt("load",r);break;case"details":Vt("toggle",r);break;case"input":Vt("invalid",r),br(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),_a(r);break;case"select":Vt("invalid",r);break;case"textarea":Vt("invalid",r),wr(r,l.value,l.defaultValue,l.children),_a(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||M0(r.textContent,a)?(l.popover!=null&&(Vt("beforetoggle",r),Vt("toggle",r)),l.onScroll!=null&&Vt("scroll",r),l.onScrollEnd!=null&&Vt("scrollend",r),l.onClick!=null&&(r.onclick=uh),r=!0):r=!1,r||zr(i)}function pv(i){for(ln=i.return;ln;)switch(ln.tag){case 5:case 13:fi=!1;return;case 27:case 3:fi=!0;return;default:ln=ln.return}}function _l(i){if(i!==ln)return!1;if(!qt)return pv(i),qt=!0,!1;var r=i.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||xm(i.type,i.memoizedProps)),a=!a),a&&fe&&zr(i),pv(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));t:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(a=i.data,a==="/$"){if(r===0){fe=$n(i.nextSibling);break t}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;i=i.nextSibling}fe=null}}else r===27?(r=fe,ks(i.type)?(i=Nm,Nm=null,fe=i):fe=r):fe=ln?$n(i.stateNode.nextSibling):null;return!0}function Tl(){fe=ln=null,qt=!1}function gv(){var i=Br;return i!==null&&(dn===null?dn=i:dn.push.apply(dn,i),Br=null),i}function El(i){Br===null?Br=[i]:Br.push(i)}var md=nt(null),jr=null,Yi=null;function Ss(i,r,a){at(md,r._currentValue),r._currentValue=a}function $i(i){i._currentValue=md.current,ut(md)}function pd(i,r,a){for(;i!==null;){var l=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),i===a)break;i=i.return}}function gd(i,r,a,l){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var p=f.dependencies;if(p!==null){var T=f.child;p=p.firstContext;t:for(;p!==null;){var A=p;p=f;for(var I=0;I<r.length;I++)if(A.context===r[I]){p.lanes|=a,A=p.alternate,A!==null&&(A.lanes|=a),pd(p.return,a,i),l||(T=null);break t}p=A.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=a,p=T.alternate,p!==null&&(p.lanes|=a),pd(T,a,i),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===i){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function Sl(i,r,a,l){i=null;for(var f=r,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var A=f.type;_n(f.pendingProps.value,T.value)||(i!==null?i.push(A):i=[A])}}else if(f===Pe.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(Wl):i=[Wl])}f=f.return}i!==null&&gd(r,i,a,l),r.flags|=262144}function Dc(i){for(i=i.firstContext;i!==null;){if(!_n(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function qr(i){jr=i,Yi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function We(i){return yv(jr,i)}function Mc(i,r){return jr===null&&qr(i),yv(i,r)}function yv(i,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Yi===null){if(i===null)throw Error(s(308));Yi=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Yi=Yi.next=r;return a}var VR=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(a,l){i.push(l)}};this.abort=function(){r.aborted=!0,i.forEach(function(a){return a()})}},NR=e.unstable_scheduleCallback,OR=e.unstable_NormalPriority,Ve={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yd(){return{controller:new VR,data:new Map,refCount:0}}function Al(i){i.refCount--,i.refCount===0&&NR(OR,function(){i.controller.abort()})}var bl=null,vd=0,La=0,ka=null;function PR(i,r){if(bl===null){var a=bl=[];vd=0,La=Tm(),ka={status:"pending",value:void 0,then:function(l){a.push(l)}}}return vd++,r.then(vv,vv),r}function vv(){if(--vd===0&&bl!==null){ka!==null&&(ka.status="fulfilled");var i=bl;bl=null,La=0,ka=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function LR(i,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return i.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var _v=X.S;X.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&PR(i,r),_v!==null&&_v(i,r)};var Hr=nt(null);function _d(){var i=Hr.current;return i!==null?i:Jt.pooledCache}function Vc(i,r){r===null?at(Hr,Hr.current):at(Hr,r.pool)}function Tv(){var i=_d();return i===null?null:{parent:Ve._currentValue,pool:i}}var wl=Error(s(460)),Ev=Error(s(474)),Nc=Error(s(542)),Td={then:function(){}};function Sv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Oc(){}function Av(i,r,a){switch(a=i[a],a===void 0?i.push(r):a!==r&&(r.then(Oc,Oc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,wv(i),i;default:if(typeof r.status=="string")r.then(Oc,Oc);else{if(i=Jt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,wv(i),i}throw Rl=r,wl}}var Rl=null;function bv(){if(Rl===null)throw Error(s(459));var i=Rl;return Rl=null,i}function wv(i){if(i===wl||i===Nc)throw Error(s(483))}var As=!1;function Ed(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sd(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function bs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ws(i,r,a){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=Rc(i),hv(i,null,a),r}return wc(i,l,r,a),Rc(i)}function Cl(i,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=i.pendingLanes,a|=l,r.lanes=a,el(i,a)}}function Ad(i,r){var a=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?f=p=T:p=p.next=T,a=a.next}while(a!==null);p===null?f=p=r:p=p.next=r}else f=p=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=r:i.next=r,a.lastBaseUpdate=r}var bd=!1;function Il(){if(bd){var i=ka;if(i!==null)throw i}}function xl(i,r,a,l){bd=!1;var f=i.updateQueue;As=!1;var p=f.firstBaseUpdate,T=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var I=A,q=I.next;I.next=null,T===null?p=q:T.next=q,T=I;var W=i.alternate;W!==null&&(W=W.updateQueue,A=W.lastBaseUpdate,A!==T&&(A===null?W.firstBaseUpdate=q:A.next=q,W.lastBaseUpdate=I))}if(p!==null){var J=f.baseState;T=0,W=q=I=null,A=p;do{var F=A.lane&-536870913,K=F!==A.lane;if(K?(kt&F)===F:(l&F)===F){F!==0&&F===La&&(bd=!0),W!==null&&(W=W.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var Tt=i,yt=A;F=r;var Xt=a;switch(yt.tag){case 1:if(Tt=yt.payload,typeof Tt=="function"){J=Tt.call(Xt,J,F);break t}J=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=yt.payload,F=typeof Tt=="function"?Tt.call(Xt,J,F):Tt,F==null)break t;J=y({},J,F);break t;case 2:As=!0}}F=A.callback,F!==null&&(i.flags|=64,K&&(i.flags|=8192),K=f.callbacks,K===null?f.callbacks=[F]:K.push(F))}else K={lane:F,tag:A.tag,payload:A.payload,callback:A.callback,next:null},W===null?(q=W=K,I=J):W=W.next=K,T|=F;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;K=A,A=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);W===null&&(I=J),f.baseState=I,f.firstBaseUpdate=q,f.lastBaseUpdate=W,p===null&&(f.shared.lanes=0),Ns|=T,i.lanes=T,i.memoizedState=J}}function Rv(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Cv(i,r){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)Rv(a[i],r)}var Ua=nt(null),Pc=nt(0);function Iv(i,r){i=es,at(Pc,i),at(Ua,r),es=i|r.baseLanes}function wd(){at(Pc,es),at(Ua,Ua.current)}function Rd(){es=Pc.current,ut(Ua),ut(Pc)}var Rs=0,It=null,$t=null,Ae=null,Lc=!1,Ba=!1,Fr=!1,kc=0,Dl=0,za=null,kR=0;function ge(){throw Error(s(321))}function Cd(i,r){if(r===null)return!1;for(var a=0;a<r.length&&a<i.length;a++)if(!_n(i[a],r[a]))return!1;return!0}function Id(i,r,a,l,f,p){return Rs=p,It=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=i===null||i.memoizedState===null?h_:f_,Fr=!1,p=a(l,f),Fr=!1,Ba&&(p=Dv(r,a,l,f)),xv(i),p}function xv(i){X.H=Hc;var r=$t!==null&&$t.next!==null;if(Rs=0,Ae=$t=It=null,Lc=!1,Dl=0,za=null,r)throw Error(s(300));i===null||Ue||(i=i.dependencies,i!==null&&Dc(i)&&(Ue=!0))}function Dv(i,r,a,l){It=i;var f=0;do{if(Ba&&(za=null),Dl=0,Ba=!1,25<=f)throw Error(s(301));if(f+=1,Ae=$t=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}X.H=FR,p=r(a,l)}while(Ba);return p}function UR(){var i=X.H,r=i.useState()[0];return r=typeof r.then=="function"?Ml(r):r,i=i.useState()[0],($t!==null?$t.memoizedState:null)!==i&&(It.flags|=1024),r}function xd(){var i=kc!==0;return kc=0,i}function Dd(i,r,a){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~a}function Md(i){if(Lc){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Lc=!1}Rs=0,Ae=$t=It=null,Ba=!1,Dl=kc=0,za=null}function hn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?It.memoizedState=Ae=i:Ae=Ae.next=i,Ae}function be(){if($t===null){var i=It.alternate;i=i!==null?i.memoizedState:null}else i=$t.next;var r=Ae===null?It.memoizedState:Ae.next;if(r!==null)Ae=r,$t=i;else{if(i===null)throw It.alternate===null?Error(s(467)):Error(s(310));$t=i,i={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Ae===null?It.memoizedState=Ae=i:Ae=Ae.next=i}return Ae}function Vd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ml(i){var r=Dl;return Dl+=1,za===null&&(za=[]),i=Av(za,i,r),r=It,(Ae===null?r.memoizedState:Ae.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?h_:f_),i}function Uc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ml(i);if(i.$$typeof===$)return We(i)}throw Error(s(438,String(i)))}function Nd(i){var r=null,a=It.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Vd(),It.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(i),l=0;l<i;l++)a[l]=D;return r.index++,a}function Qi(i,r){return typeof r=="function"?r(i):r}function Bc(i){var r=be();return Od(r,$t,i)}function Od(i,r,a){var l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=i.baseQueue,p=l.pending;if(p!==null){if(f!==null){var T=f.next;f.next=p.next,p.next=T}r.baseQueue=f=p,l.pending=null}if(p=i.baseState,f===null)i.memoizedState=p;else{r=f.next;var A=T=null,I=null,q=r,W=!1;do{var J=q.lane&-536870913;if(J!==q.lane?(kt&J)===J:(Rs&J)===J){var F=q.revertLane;if(F===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),J===La&&(W=!0);else if((Rs&F)===F){q=q.next,F===La&&(W=!0);continue}else J={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(A=I=J,T=p):I=I.next=J,It.lanes|=F,Ns|=F;J=q.action,Fr&&a(p,J),p=q.hasEagerState?q.eagerState:a(p,J)}else F={lane:J,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(A=I=F,T=p):I=I.next=F,It.lanes|=J,Ns|=J;q=q.next}while(q!==null&&q!==r);if(I===null?T=p:I.next=A,!_n(p,i.memoizedState)&&(Ue=!0,W&&(a=ka,a!==null)))throw a;i.memoizedState=p,i.baseState=T,i.baseQueue=I,l.lastRenderedState=p}return f===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function Pd(i){var r=be(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=i;var l=a.dispatch,f=a.pending,p=r.memoizedState;if(f!==null){a.pending=null;var T=f=f.next;do p=i(p,T.action),T=T.next;while(T!==f);_n(p,r.memoizedState)||(Ue=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),a.lastRenderedState=p}return[p,l]}function Mv(i,r,a){var l=It,f=be(),p=qt;if(p){if(a===void 0)throw Error(s(407));a=a()}else a=r();var T=!_n(($t||f).memoizedState,a);T&&(f.memoizedState=a,Ue=!0),f=f.queue;var A=Ov.bind(null,l,f,i);if(Vl(2048,8,A,[i]),f.getSnapshot!==r||T||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,ja(9,zc(),Nv.bind(null,l,f,a,r),null),Jt===null)throw Error(s(349));p||(Rs&124)!==0||Vv(l,r,a)}return a}function Vv(i,r,a){i.flags|=16384,i={getSnapshot:r,value:a},r=It.updateQueue,r===null?(r=Vd(),It.updateQueue=r,r.stores=[i]):(a=r.stores,a===null?r.stores=[i]:a.push(i))}function Nv(i,r,a,l){r.value=a,r.getSnapshot=l,Pv(r)&&Lv(i)}function Ov(i,r,a){return a(function(){Pv(r)&&Lv(i)})}function Pv(i){var r=i.getSnapshot;i=i.value;try{var a=r();return!_n(i,a)}catch{return!0}}function Lv(i){var r=Va(i,2);r!==null&&wn(r,i,2)}function Ld(i){var r=hn();if(typeof i=="function"){var a=i;if(i=a(),Fr){yn(!0);try{a()}finally{yn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:i},r}function kv(i,r,a,l){return i.baseState=a,Od(i,$t,typeof l=="function"?l:Qi)}function BR(i,r,a,l,f){if(qc(i))throw Error(s(485));if(i=r.action,i!==null){var p={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};X.T!==null?a(!0):p.isTransition=!1,l(p),a=r.pending,a===null?(p.next=r.pending=p,Uv(r,p)):(p.next=a.next,r.pending=a.next=p)}}function Uv(i,r){var a=r.action,l=r.payload,f=i.state;if(r.isTransition){var p=X.T,T={};X.T=T;try{var A=a(f,l),I=X.S;I!==null&&I(T,A),Bv(i,r,A)}catch(q){kd(i,r,q)}finally{X.T=p}}else try{p=a(f,l),Bv(i,r,p)}catch(q){kd(i,r,q)}}function Bv(i,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){zv(i,r,l)},function(l){return kd(i,r,l)}):zv(i,r,a)}function zv(i,r,a){r.status="fulfilled",r.value=a,jv(r),i.state=a,r=i.pending,r!==null&&(a=r.next,a===r?i.pending=null:(a=a.next,r.next=a,Uv(i,a)))}function kd(i,r,a){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,jv(r),r=r.next;while(r!==l)}i.action=null}function jv(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function qv(i,r){return r}function Hv(i,r){if(qt){var a=Jt.formState;if(a!==null){t:{var l=It;if(qt){if(fe){e:{for(var f=fe,p=fi;f.nodeType!==8;){if(!p){f=null;break e}if(f=$n(f.nextSibling),f===null){f=null;break e}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){fe=$n(f.nextSibling),l=f.data==="F!";break t}}zr(l)}l=!1}l&&(r=a[0])}}return a=hn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qv,lastRenderedState:r},a.queue=l,a=l_.bind(null,It,l),l.dispatch=a,l=Ld(!1),p=qd.bind(null,It,!1,l.queue),l=hn(),f={state:r,dispatch:null,action:i,pending:null},l.queue=f,a=BR.bind(null,It,f,p,a),f.dispatch=a,l.memoizedState=i,[r,a,!1]}function Fv(i){var r=be();return Gv(r,$t,i)}function Gv(i,r,a){if(r=Od(i,r,qv)[0],i=Bc(Qi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Ml(r)}catch(T){throw T===wl?Nc:T}else l=r;r=be();var f=r.queue,p=f.dispatch;return a!==r.memoizedState&&(It.flags|=2048,ja(9,zc(),zR.bind(null,f,a),null)),[l,p,i]}function zR(i,r){i.action=r}function Kv(i){var r=be(),a=$t;if(a!==null)return Gv(r,a,i);be(),r=r.memoizedState,a=be();var l=a.queue.dispatch;return a.memoizedState=i,[r,l,!1]}function ja(i,r,a,l){return i={tag:i,create:a,deps:l,inst:r,next:null},r=It.updateQueue,r===null&&(r=Vd(),It.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=i.next=i:(l=a.next,a.next=i,i.next=l,r.lastEffect=i),i}function zc(){return{destroy:void 0,resource:void 0}}function Yv(){return be().memoizedState}function jc(i,r,a,l){var f=hn();l=l===void 0?null:l,It.flags|=i,f.memoizedState=ja(1|r,zc(),a,l)}function Vl(i,r,a,l){var f=be();l=l===void 0?null:l;var p=f.memoizedState.inst;$t!==null&&l!==null&&Cd(l,$t.memoizedState.deps)?f.memoizedState=ja(r,p,a,l):(It.flags|=i,f.memoizedState=ja(1|r,p,a,l))}function $v(i,r){jc(8390656,8,i,r)}function Qv(i,r){Vl(2048,8,i,r)}function Xv(i,r){return Vl(4,2,i,r)}function Wv(i,r){return Vl(4,4,i,r)}function Zv(i,r){if(typeof r=="function"){i=i();var a=r(i);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Jv(i,r,a){a=a!=null?a.concat([i]):null,Vl(4,4,Zv.bind(null,r,i),a)}function Ud(){}function t_(i,r){var a=be();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Cd(r,l[1])?l[0]:(a.memoizedState=[i,r],i)}function e_(i,r){var a=be();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Cd(r,l[1]))return l[0];if(l=i(),Fr){yn(!0);try{i()}finally{yn(!1)}}return a.memoizedState=[l,r],l}function Bd(i,r,a){return a===void 0||(Rs&1073741824)!==0?i.memoizedState=r:(i.memoizedState=a,i=s0(),It.lanes|=i,Ns|=i,a)}function n_(i,r,a,l){return _n(a,r)?a:Ua.current!==null?(i=Bd(i,a,l),_n(i,r)||(Ue=!0),i):(Rs&42)===0?(Ue=!0,i.memoizedState=a):(i=s0(),It.lanes|=i,Ns|=i,r)}function i_(i,r,a,l,f){var p=st.p;st.p=p!==0&&8>p?p:8;var T=X.T,A={};X.T=A,qd(i,!1,r,a);try{var I=f(),q=X.S;if(q!==null&&q(A,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var W=LR(I,l);Nl(i,r,W,bn(i))}else Nl(i,r,l,bn(i))}catch(J){Nl(i,r,{then:function(){},status:"rejected",reason:J},bn())}finally{st.p=p,X.T=T}}function jR(){}function zd(i,r,a,l){if(i.tag!==5)throw Error(s(476));var f=s_(i).queue;i_(i,f,r,ct,a===null?jR:function(){return r_(i),a(l)})}function s_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:ct},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:a},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function r_(i){var r=s_(i).next.queue;Nl(i,r,{},bn())}function jd(){return We(Wl)}function a_(){return be().memoizedState}function o_(){return be().memoizedState}function qR(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var a=bn();i=bs(a);var l=ws(r,i,a);l!==null&&(wn(l,r,a),Cl(l,r,a)),r={cache:yd()},i.payload=r;return}r=r.return}}function HR(i,r,a){var l=bn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},qc(i)?u_(r,a):(a=od(i,r,a,l),a!==null&&(wn(a,i,l),c_(a,r,l)))}function l_(i,r,a){var l=bn();Nl(i,r,a,l)}function Nl(i,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(qc(i))u_(r,f);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var T=r.lastRenderedState,A=p(T,a);if(f.hasEagerState=!0,f.eagerState=A,_n(A,T))return wc(i,r,f,0),Jt===null&&bc(),!1}catch{}finally{}if(a=od(i,r,f,l),a!==null)return wn(a,i,l),c_(a,r,l),!0}return!1}function qd(i,r,a,l){if(l={lane:2,revertLane:Tm(),action:l,hasEagerState:!1,eagerState:null,next:null},qc(i)){if(r)throw Error(s(479))}else r=od(i,a,l,2),r!==null&&wn(r,i,2)}function qc(i){var r=i.alternate;return i===It||r!==null&&r===It}function u_(i,r){Ba=Lc=!0;var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}function c_(i,r,a){if((a&4194048)!==0){var l=r.lanes;l&=i.pendingLanes,a|=l,r.lanes=a,el(i,a)}}var Hc={readContext:We,use:Uc,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge},h_={readContext:We,use:Uc,useCallback:function(i,r){return hn().memoizedState=[i,r===void 0?null:r],i},useContext:We,useEffect:$v,useImperativeHandle:function(i,r,a){a=a!=null?a.concat([i]):null,jc(4194308,4,Zv.bind(null,r,i),a)},useLayoutEffect:function(i,r){return jc(4194308,4,i,r)},useInsertionEffect:function(i,r){jc(4,2,i,r)},useMemo:function(i,r){var a=hn();r=r===void 0?null:r;var l=i();if(Fr){yn(!0);try{i()}finally{yn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(i,r,a){var l=hn();if(a!==void 0){var f=a(r);if(Fr){yn(!0);try{a(r)}finally{yn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},l.queue=i,i=i.dispatch=HR.bind(null,It,i),[l.memoizedState,i]},useRef:function(i){var r=hn();return i={current:i},r.memoizedState=i},useState:function(i){i=Ld(i);var r=i.queue,a=l_.bind(null,It,r);return r.dispatch=a,[i.memoizedState,a]},useDebugValue:Ud,useDeferredValue:function(i,r){var a=hn();return Bd(a,i,r)},useTransition:function(){var i=Ld(!1);return i=i_.bind(null,It,i.queue,!0,!1),hn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,a){var l=It,f=hn();if(qt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Jt===null)throw Error(s(349));(kt&124)!==0||Vv(l,r,a)}f.memoizedState=a;var p={value:a,getSnapshot:r};return f.queue=p,$v(Ov.bind(null,l,p,i),[i]),l.flags|=2048,ja(9,zc(),Nv.bind(null,l,p,a,r),null),a},useId:function(){var i=hn(),r=Jt.identifierPrefix;if(qt){var a=Ki,l=Gi;a=(l&~(1<<32-Xe(l)-1)).toString(32)+a,r=""+r+"R"+a,a=kc++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=kR++,r=""+r+"r"+a.toString(32)+"";return i.memoizedState=r},useHostTransitionStatus:jd,useFormState:Hv,useActionState:Hv,useOptimistic:function(i){var r=hn();r.memoizedState=r.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=qd.bind(null,It,!0,a),a.dispatch=r,[i,r]},useMemoCache:Nd,useCacheRefresh:function(){return hn().memoizedState=qR.bind(null,It)}},f_={readContext:We,use:Uc,useCallback:t_,useContext:We,useEffect:Qv,useImperativeHandle:Jv,useInsertionEffect:Xv,useLayoutEffect:Wv,useMemo:e_,useReducer:Bc,useRef:Yv,useState:function(){return Bc(Qi)},useDebugValue:Ud,useDeferredValue:function(i,r){var a=be();return n_(a,$t.memoizedState,i,r)},useTransition:function(){var i=Bc(Qi)[0],r=be().memoizedState;return[typeof i=="boolean"?i:Ml(i),r]},useSyncExternalStore:Mv,useId:a_,useHostTransitionStatus:jd,useFormState:Fv,useActionState:Fv,useOptimistic:function(i,r){var a=be();return kv(a,$t,i,r)},useMemoCache:Nd,useCacheRefresh:o_},FR={readContext:We,use:Uc,useCallback:t_,useContext:We,useEffect:Qv,useImperativeHandle:Jv,useInsertionEffect:Xv,useLayoutEffect:Wv,useMemo:e_,useReducer:Pd,useRef:Yv,useState:function(){return Pd(Qi)},useDebugValue:Ud,useDeferredValue:function(i,r){var a=be();return $t===null?Bd(a,i,r):n_(a,$t.memoizedState,i,r)},useTransition:function(){var i=Pd(Qi)[0],r=be().memoizedState;return[typeof i=="boolean"?i:Ml(i),r]},useSyncExternalStore:Mv,useId:a_,useHostTransitionStatus:jd,useFormState:Kv,useActionState:Kv,useOptimistic:function(i,r){var a=be();return $t!==null?kv(a,$t,i,r):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:Nd,useCacheRefresh:o_},qa=null,Ol=0;function Fc(i){var r=Ol;return Ol+=1,qa===null&&(qa=[]),Av(qa,i,r)}function Pl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Gc(i,r){throw r.$$typeof===E?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function d_(i){var r=i._init;return r(i._payload)}function m_(i){function r(U,O){if(i){var j=U.deletions;j===null?(U.deletions=[O],U.flags|=16):j.push(O)}}function a(U,O){if(!i)return null;for(;O!==null;)r(U,O),O=O.sibling;return null}function l(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function f(U,O){return U=Fi(U,O),U.index=0,U.sibling=null,U}function p(U,O,j){return U.index=j,i?(j=U.alternate,j!==null?(j=j.index,j<O?(U.flags|=67108866,O):j):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function T(U){return i&&U.alternate===null&&(U.flags|=67108866),U}function A(U,O,j,Z){return O===null||O.tag!==6?(O=ud(j,U.mode,Z),O.return=U,O):(O=f(O,j),O.return=U,O)}function I(U,O,j,Z){var mt=j.type;return mt===P?W(U,O,j.props.children,Z,j.key):O!==null&&(O.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&d_(mt)===O.type)?(O=f(O,j.props),Pl(O,j),O.return=U,O):(O=Cc(j.type,j.key,j.props,null,U.mode,Z),Pl(O,j),O.return=U,O)}function q(U,O,j,Z){return O===null||O.tag!==4||O.stateNode.containerInfo!==j.containerInfo||O.stateNode.implementation!==j.implementation?(O=cd(j,U.mode,Z),O.return=U,O):(O=f(O,j.children||[]),O.return=U,O)}function W(U,O,j,Z,mt){return O===null||O.tag!==7?(O=Lr(j,U.mode,Z,mt),O.return=U,O):(O=f(O,j),O.return=U,O)}function J(U,O,j){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=ud(""+O,U.mode,j),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case S:return j=Cc(O.type,O.key,O.props,null,U.mode,j),Pl(j,O),j.return=U,j;case C:return O=cd(O,U.mode,j),O.return=U,O;case w:var Z=O._init;return O=Z(O._payload),J(U,O,j)}if(te(O)||L(O))return O=Lr(O,U.mode,j,null),O.return=U,O;if(typeof O.then=="function")return J(U,Fc(O),j);if(O.$$typeof===$)return J(U,Mc(U,O),j);Gc(U,O)}return null}function F(U,O,j,Z){var mt=O!==null?O.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return mt!==null?null:A(U,O,""+j,Z);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case S:return j.key===mt?I(U,O,j,Z):null;case C:return j.key===mt?q(U,O,j,Z):null;case w:return mt=j._init,j=mt(j._payload),F(U,O,j,Z)}if(te(j)||L(j))return mt!==null?null:W(U,O,j,Z,null);if(typeof j.then=="function")return F(U,O,Fc(j),Z);if(j.$$typeof===$)return F(U,O,Mc(U,j),Z);Gc(U,j)}return null}function K(U,O,j,Z,mt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return U=U.get(j)||null,A(O,U,""+Z,mt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case S:return U=U.get(Z.key===null?j:Z.key)||null,I(O,U,Z,mt);case C:return U=U.get(Z.key===null?j:Z.key)||null,q(O,U,Z,mt);case w:var Dt=Z._init;return Z=Dt(Z._payload),K(U,O,j,Z,mt)}if(te(Z)||L(Z))return U=U.get(j)||null,W(O,U,Z,mt,null);if(typeof Z.then=="function")return K(U,O,j,Fc(Z),mt);if(Z.$$typeof===$)return K(U,O,j,Mc(O,Z),mt);Gc(O,Z)}return null}function Tt(U,O,j,Z){for(var mt=null,Dt=null,pt=O,_t=O=0,ze=null;pt!==null&&_t<j.length;_t++){pt.index>_t?(ze=pt,pt=null):ze=pt.sibling;var jt=F(U,pt,j[_t],Z);if(jt===null){pt===null&&(pt=ze);break}i&&pt&&jt.alternate===null&&r(U,pt),O=p(jt,O,_t),Dt===null?mt=jt:Dt.sibling=jt,Dt=jt,pt=ze}if(_t===j.length)return a(U,pt),qt&&Ur(U,_t),mt;if(pt===null){for(;_t<j.length;_t++)pt=J(U,j[_t],Z),pt!==null&&(O=p(pt,O,_t),Dt===null?mt=pt:Dt.sibling=pt,Dt=pt);return qt&&Ur(U,_t),mt}for(pt=l(pt);_t<j.length;_t++)ze=K(pt,U,_t,j[_t],Z),ze!==null&&(i&&ze.alternate!==null&&pt.delete(ze.key===null?_t:ze.key),O=p(ze,O,_t),Dt===null?mt=ze:Dt.sibling=ze,Dt=ze);return i&&pt.forEach(function(qs){return r(U,qs)}),qt&&Ur(U,_t),mt}function yt(U,O,j,Z){if(j==null)throw Error(s(151));for(var mt=null,Dt=null,pt=O,_t=O=0,ze=null,jt=j.next();pt!==null&&!jt.done;_t++,jt=j.next()){pt.index>_t?(ze=pt,pt=null):ze=pt.sibling;var qs=F(U,pt,jt.value,Z);if(qs===null){pt===null&&(pt=ze);break}i&&pt&&qs.alternate===null&&r(U,pt),O=p(qs,O,_t),Dt===null?mt=qs:Dt.sibling=qs,Dt=qs,pt=ze}if(jt.done)return a(U,pt),qt&&Ur(U,_t),mt;if(pt===null){for(;!jt.done;_t++,jt=j.next())jt=J(U,jt.value,Z),jt!==null&&(O=p(jt,O,_t),Dt===null?mt=jt:Dt.sibling=jt,Dt=jt);return qt&&Ur(U,_t),mt}for(pt=l(pt);!jt.done;_t++,jt=j.next())jt=K(pt,U,_t,jt.value,Z),jt!==null&&(i&&jt.alternate!==null&&pt.delete(jt.key===null?_t:jt.key),O=p(jt,O,_t),Dt===null?mt=jt:Dt.sibling=jt,Dt=jt);return i&&pt.forEach(function(GC){return r(U,GC)}),qt&&Ur(U,_t),mt}function Xt(U,O,j,Z){if(typeof j=="object"&&j!==null&&j.type===P&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case S:t:{for(var mt=j.key;O!==null;){if(O.key===mt){if(mt=j.type,mt===P){if(O.tag===7){a(U,O.sibling),Z=f(O,j.props.children),Z.return=U,U=Z;break t}}else if(O.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&d_(mt)===O.type){a(U,O.sibling),Z=f(O,j.props),Pl(Z,j),Z.return=U,U=Z;break t}a(U,O);break}else r(U,O);O=O.sibling}j.type===P?(Z=Lr(j.props.children,U.mode,Z,j.key),Z.return=U,U=Z):(Z=Cc(j.type,j.key,j.props,null,U.mode,Z),Pl(Z,j),Z.return=U,U=Z)}return T(U);case C:t:{for(mt=j.key;O!==null;){if(O.key===mt)if(O.tag===4&&O.stateNode.containerInfo===j.containerInfo&&O.stateNode.implementation===j.implementation){a(U,O.sibling),Z=f(O,j.children||[]),Z.return=U,U=Z;break t}else{a(U,O);break}else r(U,O);O=O.sibling}Z=cd(j,U.mode,Z),Z.return=U,U=Z}return T(U);case w:return mt=j._init,j=mt(j._payload),Xt(U,O,j,Z)}if(te(j))return Tt(U,O,j,Z);if(L(j)){if(mt=L(j),typeof mt!="function")throw Error(s(150));return j=mt.call(j),yt(U,O,j,Z)}if(typeof j.then=="function")return Xt(U,O,Fc(j),Z);if(j.$$typeof===$)return Xt(U,O,Mc(U,j),Z);Gc(U,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,O!==null&&O.tag===6?(a(U,O.sibling),Z=f(O,j),Z.return=U,U=Z):(a(U,O),Z=ud(j,U.mode,Z),Z.return=U,U=Z),T(U)):a(U,O)}return function(U,O,j,Z){try{Ol=0;var mt=Xt(U,O,j,Z);return qa=null,mt}catch(pt){if(pt===wl||pt===Nc)throw pt;var Dt=Tn(29,pt,null,U.mode);return Dt.lanes=Z,Dt.return=U,Dt}finally{}}}var Ha=m_(!0),p_=m_(!1),Ln=nt(null),di=null;function Cs(i){var r=i.alternate;at(Ne,Ne.current&1),at(Ln,i),di===null&&(r===null||Ua.current!==null||r.memoizedState!==null)&&(di=i)}function g_(i){if(i.tag===22){if(at(Ne,Ne.current),at(Ln,i),di===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(di=i)}}else Is()}function Is(){at(Ne,Ne.current),at(Ln,Ln.current)}function Xi(i){ut(Ln),di===i&&(di=null),ut(Ne)}var Ne=nt(0);function Kc(i){for(var r=i;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Vm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Hd(i,r,a,l){r=i.memoizedState,a=a(l,r),a=a==null?r:y({},r,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var Fd={enqueueSetState:function(i,r,a){i=i._reactInternals;var l=bn(),f=bs(l);f.payload=r,a!=null&&(f.callback=a),r=ws(i,f,l),r!==null&&(wn(r,i,l),Cl(r,i,l))},enqueueReplaceState:function(i,r,a){i=i._reactInternals;var l=bn(),f=bs(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=ws(i,f,l),r!==null&&(wn(r,i,l),Cl(r,i,l))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var a=bn(),l=bs(a);l.tag=2,r!=null&&(l.callback=r),r=ws(i,l,a),r!==null&&(wn(r,i,a),Cl(r,i,a))}};function y_(i,r,a,l,f,p,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,p,T):r.prototype&&r.prototype.isPureReactComponent?!yl(a,l)||!yl(f,p):!0}function v_(i,r,a,l){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==i&&Fd.enqueueReplaceState(r,r.state,null)}function Gr(i,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(i=i.defaultProps){a===r&&(a=y({},a));for(var f in i)a[f]===void 0&&(a[f]=i[f])}return a}var Yc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function __(i){Yc(i)}function T_(i){console.error(i)}function E_(i){Yc(i)}function $c(i,r){try{var a=i.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function S_(i,r,a){try{var l=i.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Gd(i,r,a){return a=bs(a),a.tag=3,a.payload={element:null},a.callback=function(){$c(i,r)},a}function A_(i){return i=bs(i),i.tag=3,i}function b_(i,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var p=l.value;i.payload=function(){return f(p)},i.callback=function(){S_(r,a,l)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){S_(r,a,l),typeof f!="function"&&(Os===null?Os=new Set([this]):Os.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function GR(i,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Sl(r,a,f,!0),a=Ln.current,a!==null){switch(a.tag){case 13:return di===null?pm():a.alternate===null&&de===0&&(de=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Td?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),ym(i,l,f)),!1;case 22:return a.flags|=65536,l===Td?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),ym(i,l,f)),!1}throw Error(s(435,a.tag))}return ym(i,l,f),pm(),!1}if(qt)return r=Ln.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==dd&&(i=Error(s(422),{cause:l}),El(Vn(i,a)))):(l!==dd&&(r=Error(s(423),{cause:l}),El(Vn(r,a))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,l=Vn(l,a),f=Gd(i.stateNode,l,f),Ad(i,f),de!==4&&(de=2)),!1;var p=Error(s(520),{cause:l});if(p=Vn(p,a),ql===null?ql=[p]:ql.push(p),de!==4&&(de=2),r===null)return!0;l=Vn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,i=f&-f,a.lanes|=i,i=Gd(a.stateNode,l,i),Ad(a,i),!1;case 1:if(r=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Os===null||!Os.has(p))))return a.flags|=65536,f&=-f,a.lanes|=f,f=A_(f),b_(f,i,a,l),Ad(a,f),!1}a=a.return}while(a!==null);return!1}var w_=Error(s(461)),Ue=!1;function Fe(i,r,a,l){r.child=i===null?p_(r,null,a,l):Ha(r,i.child,a,l)}function R_(i,r,a,l,f){a=a.render;var p=r.ref;if("ref"in l){var T={};for(var A in l)A!=="ref"&&(T[A]=l[A])}else T=l;return qr(r),l=Id(i,r,a,T,p,f),A=xd(),i!==null&&!Ue?(Dd(i,r,f),Wi(i,r,f)):(qt&&A&&hd(r),r.flags|=1,Fe(i,r,l,f),r.child)}function C_(i,r,a,l,f){if(i===null){var p=a.type;return typeof p=="function"&&!ld(p)&&p.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=p,I_(i,r,p,l,f)):(i=Cc(a.type,null,l,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(p=i.child,!Jd(i,f)){var T=p.memoizedProps;if(a=a.compare,a=a!==null?a:yl,a(T,l)&&i.ref===r.ref)return Wi(i,r,f)}return r.flags|=1,i=Fi(p,l),i.ref=r.ref,i.return=r,r.child=i}function I_(i,r,a,l,f){if(i!==null){var p=i.memoizedProps;if(yl(p,l)&&i.ref===r.ref)if(Ue=!1,r.pendingProps=l=p,Jd(i,f))(i.flags&131072)!==0&&(Ue=!0);else return r.lanes=i.lanes,Wi(i,r,f)}return Kd(i,r,a,l,f)}function x_(i,r,a){var l=r.pendingProps,f=l.children,p=i!==null?i.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=p!==null?p.baseLanes|a:a,i!==null){for(f=r.child=i.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;r.childLanes=p&~l}else r.childLanes=0,r.child=null;return D_(i,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Vc(r,p!==null?p.cachePool:null),p!==null?Iv(r,p):wd(),g_(r);else return r.lanes=r.childLanes=536870912,D_(i,r,p!==null?p.baseLanes|a:a,a)}else p!==null?(Vc(r,p.cachePool),Iv(r,p),Is(),r.memoizedState=null):(i!==null&&Vc(r,null),wd(),Is());return Fe(i,r,f,a),r.child}function D_(i,r,a,l){var f=_d();return f=f===null?null:{parent:Ve._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},i!==null&&Vc(r,null),wd(),g_(r),i!==null&&Sl(i,r,l,!0),null}function Qc(i,r){var a=r.ref;if(a===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(i===null||i.ref!==a)&&(r.flags|=4194816)}}function Kd(i,r,a,l,f){return qr(r),a=Id(i,r,a,l,void 0,f),l=xd(),i!==null&&!Ue?(Dd(i,r,f),Wi(i,r,f)):(qt&&l&&hd(r),r.flags|=1,Fe(i,r,a,f),r.child)}function M_(i,r,a,l,f,p){return qr(r),r.updateQueue=null,a=Dv(r,l,a,f),xv(i),l=xd(),i!==null&&!Ue?(Dd(i,r,p),Wi(i,r,p)):(qt&&l&&hd(r),r.flags|=1,Fe(i,r,a,p),r.child)}function V_(i,r,a,l,f){if(qr(r),r.stateNode===null){var p=Na,T=a.contextType;typeof T=="object"&&T!==null&&(p=We(T)),p=new a(l,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Fd,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=l,p.state=r.memoizedState,p.refs={},Ed(r),T=a.contextType,p.context=typeof T=="object"&&T!==null?We(T):Na,p.state=r.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(Hd(r,a,T,l),p.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&Fd.enqueueReplaceState(p,p.state,null),xl(r,l,p,f),Il(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(i===null){p=r.stateNode;var A=r.memoizedProps,I=Gr(a,A);p.props=I;var q=p.context,W=a.contextType;T=Na,typeof W=="object"&&W!==null&&(T=We(W));var J=a.getDerivedStateFromProps;W=typeof J=="function"||typeof p.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,W||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(A||q!==T)&&v_(r,p,l,T),As=!1;var F=r.memoizedState;p.state=F,xl(r,l,p,f),Il(),q=r.memoizedState,A||F!==q||As?(typeof J=="function"&&(Hd(r,a,J,l),q=r.memoizedState),(I=As||y_(r,a,I,l,F,q,T))?(W||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=q),p.props=l,p.state=q,p.context=T,l=I):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{p=r.stateNode,Sd(i,r),T=r.memoizedProps,W=Gr(a,T),p.props=W,J=r.pendingProps,F=p.context,q=a.contextType,I=Na,typeof q=="object"&&q!==null&&(I=We(q)),A=a.getDerivedStateFromProps,(q=typeof A=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==J||F!==I)&&v_(r,p,l,I),As=!1,F=r.memoizedState,p.state=F,xl(r,l,p,f),Il();var K=r.memoizedState;T!==J||F!==K||As||i!==null&&i.dependencies!==null&&Dc(i.dependencies)?(typeof A=="function"&&(Hd(r,a,A,l),K=r.memoizedState),(W=As||y_(r,a,W,l,F,K,I)||i!==null&&i.dependencies!==null&&Dc(i.dependencies))?(q||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,K,I),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,K,I)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===i.memoizedProps&&F===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&F===i.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=K),p.props=l,p.state=K,p.context=I,l=W):(typeof p.componentDidUpdate!="function"||T===i.memoizedProps&&F===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&F===i.memoizedState||(r.flags|=1024),l=!1)}return p=l,Qc(i,r),l=(r.flags&128)!==0,p||l?(p=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,i!==null&&l?(r.child=Ha(r,i.child,null,f),r.child=Ha(r,null,a,f)):Fe(i,r,a,f),r.memoizedState=p.state,i=r.child):i=Wi(i,r,f),i}function N_(i,r,a,l){return Tl(),r.flags|=256,Fe(i,r,a,l),r.child}var Yd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $d(i){return{baseLanes:i,cachePool:Tv()}}function Qd(i,r,a){return i=i!==null?i.childLanes&~a:0,r&&(i|=kn),i}function O_(i,r,a){var l=r.pendingProps,f=!1,p=(r.flags&128)!==0,T;if((T=p)||(T=i!==null&&i.memoizedState===null?!1:(Ne.current&2)!==0),T&&(f=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,i===null){if(qt){if(f?Cs(r):Is(),qt){var A=fe,I;if(I=A){t:{for(I=A,A=fi;I.nodeType!==8;){if(!A){A=null;break t}if(I=$n(I.nextSibling),I===null){A=null;break t}}A=I}A!==null?(r.memoizedState={dehydrated:A,treeContext:kr!==null?{id:Gi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},I=Tn(18,null,null,0),I.stateNode=A,I.return=r,r.child=I,ln=r,fe=null,I=!0):I=!1}I||zr(r)}if(A=r.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Vm(A)?r.lanes=32:r.lanes=536870912,null;Xi(r)}return A=l.children,l=l.fallback,f?(Is(),f=r.mode,A=Xc({mode:"hidden",children:A},f),l=Lr(l,f,a,null),A.return=r,l.return=r,A.sibling=l,r.child=A,f=r.child,f.memoizedState=$d(a),f.childLanes=Qd(i,T,a),r.memoizedState=Yd,l):(Cs(r),Xd(r,A))}if(I=i.memoizedState,I!==null&&(A=I.dehydrated,A!==null)){if(p)r.flags&256?(Cs(r),r.flags&=-257,r=Wd(i,r,a)):r.memoizedState!==null?(Is(),r.child=i.child,r.flags|=128,r=null):(Is(),f=l.fallback,A=r.mode,l=Xc({mode:"visible",children:l.children},A),f=Lr(f,A,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,Ha(r,i.child,null,a),l=r.child,l.memoizedState=$d(a),l.childLanes=Qd(i,T,a),r.memoizedState=Yd,r=f);else if(Cs(r),Vm(A)){if(T=A.nextSibling&&A.nextSibling.dataset,T)var q=T.dgst;T=q,l=Error(s(419)),l.stack="",l.digest=T,El({value:l,source:null,stack:null}),r=Wd(i,r,a)}else if(Ue||Sl(i,r,a,!1),T=(a&i.childLanes)!==0,Ue||T){if(T=Jt,T!==null&&(l=a&-a,l=(l&42)!==0?1:ps(l),l=(l&(T.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Va(i,l),wn(T,i,l),w_;A.data==="$?"||pm(),r=Wd(i,r,a)}else A.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=I.treeContext,fe=$n(A.nextSibling),ln=r,qt=!0,Br=null,fi=!1,i!==null&&(On[Pn++]=Gi,On[Pn++]=Ki,On[Pn++]=kr,Gi=i.id,Ki=i.overflow,kr=r),r=Xd(r,l.children),r.flags|=4096);return r}return f?(Is(),f=l.fallback,A=r.mode,I=i.child,q=I.sibling,l=Fi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,q!==null?f=Fi(q,f):(f=Lr(f,A,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,A=i.child.memoizedState,A===null?A=$d(a):(I=A.cachePool,I!==null?(q=Ve._currentValue,I=I.parent!==q?{parent:q,pool:q}:I):I=Tv(),A={baseLanes:A.baseLanes|a,cachePool:I}),f.memoizedState=A,f.childLanes=Qd(i,T,a),r.memoizedState=Yd,l):(Cs(r),a=i.child,i=a.sibling,a=Fi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,i!==null&&(T=r.deletions,T===null?(r.deletions=[i],r.flags|=16):T.push(i)),r.child=a,r.memoizedState=null,a)}function Xd(i,r){return r=Xc({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Xc(i,r){return i=Tn(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Wd(i,r,a){return Ha(r,i.child,null,a),i=Xd(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function P_(i,r,a){i.lanes|=r;var l=i.alternate;l!==null&&(l.lanes|=r),pd(i.return,r,a)}function Zd(i,r,a,l,f){var p=i.memoizedState;p===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=a,p.tailMode=f)}function L_(i,r,a){var l=r.pendingProps,f=l.revealOrder,p=l.tail;if(Fe(i,r,l.children,a),l=Ne.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&P_(i,a,r);else if(i.tag===19)P_(i,a,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}l&=1}switch(at(Ne,l),f){case"forwards":for(a=r.child,f=null;a!==null;)i=a.alternate,i!==null&&Kc(i)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Zd(r,!1,f,a,p);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&Kc(i)===null){r.child=f;break}i=f.sibling,f.sibling=a,a=f,f=i}Zd(r,!0,a,null,p);break;case"together":Zd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Wi(i,r,a){if(i!==null&&(r.dependencies=i.dependencies),Ns|=r.lanes,(a&r.childLanes)===0)if(i!==null){if(Sl(i,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,a=Fi(i,i.pendingProps),r.child=a,a.return=r;i.sibling!==null;)i=i.sibling,a=a.sibling=Fi(i,i.pendingProps),a.return=r;a.sibling=null}return r.child}function Jd(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Dc(i)))}function KR(i,r,a){switch(r.tag){case 3:Zt(r,r.stateNode.containerInfo),Ss(r,Ve,i.memoizedState.cache),Tl();break;case 27:case 5:ms(r);break;case 4:Zt(r,r.stateNode.containerInfo);break;case 10:Ss(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Cs(r),r.flags|=128,null):(a&r.child.childLanes)!==0?O_(i,r,a):(Cs(r),i=Wi(i,r,a),i!==null?i.sibling:null);Cs(r);break;case 19:var f=(i.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Sl(i,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return L_(i,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),at(Ne,Ne.current),l)break;return null;case 22:case 23:return r.lanes=0,x_(i,r,a);case 24:Ss(r,Ve,i.memoizedState.cache)}return Wi(i,r,a)}function k_(i,r,a){if(i!==null)if(i.memoizedProps!==r.pendingProps)Ue=!0;else{if(!Jd(i,a)&&(r.flags&128)===0)return Ue=!1,KR(i,r,a);Ue=(i.flags&131072)!==0}else Ue=!1,qt&&(r.flags&1048576)!==0&&dv(r,xc,r.index);switch(r.lanes=0,r.tag){case 16:t:{i=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")ld(l)?(i=Gr(l,i),r.tag=1,r=V_(null,r,l,i,a)):(r.tag=0,r=Kd(null,r,l,i,a));else{if(l!=null){if(f=l.$$typeof,f===lt){r.tag=11,r=R_(null,r,l,i,a);break t}else if(f===V){r.tag=14,r=C_(null,r,l,i,a);break t}}throw r=ce(l)||l,Error(s(306,r,""))}}return r;case 0:return Kd(i,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Gr(l,r.pendingProps),V_(i,r,l,f,a);case 3:t:{if(Zt(r,r.stateNode.containerInfo),i===null)throw Error(s(387));l=r.pendingProps;var p=r.memoizedState;f=p.element,Sd(i,r),xl(r,l,null,a);var T=r.memoizedState;if(l=T.cache,Ss(r,Ve,l),l!==p.cache&&gd(r,[Ve],a,!0),Il(),l=T.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=N_(i,r,l,a);break t}else if(l!==f){f=Vn(Error(s(424)),r),El(f),r=N_(i,r,l,a);break t}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(fe=$n(i.firstChild),ln=r,qt=!0,Br=null,fi=!0,a=p_(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Tl(),l===f){r=Wi(i,r,a);break t}Fe(i,r,l,a)}r=r.child}return r;case 26:return Qc(i,r),i===null?(a=j0(r.type,null,r.pendingProps,null))?r.memoizedState=a:qt||(a=r.type,i=r.pendingProps,l=ch(At.current).createElement(a),l[xe]=r,l[Ee]=i,Ke(l,a,i),pe(l),r.stateNode=l):r.memoizedState=j0(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return ms(r),i===null&&qt&&(l=r.stateNode=U0(r.type,r.pendingProps,At.current),ln=r,fi=!0,f=fe,ks(r.type)?(Nm=f,fe=$n(l.firstChild)):fe=f),Fe(i,r,r.pendingProps.children,a),Qc(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&qt&&((f=l=fe)&&(l=TC(l,r.type,r.pendingProps,fi),l!==null?(r.stateNode=l,ln=r,fe=$n(l.firstChild),fi=!1,f=!0):f=!1),f||zr(r)),ms(r),f=r.type,p=r.pendingProps,T=i!==null?i.memoizedProps:null,l=p.children,xm(f,p)?l=null:T!==null&&xm(f,T)&&(r.flags|=32),r.memoizedState!==null&&(f=Id(i,r,UR,null,null,a),Wl._currentValue=f),Qc(i,r),Fe(i,r,l,a),r.child;case 6:return i===null&&qt&&((i=a=fe)&&(a=EC(a,r.pendingProps,fi),a!==null?(r.stateNode=a,ln=r,fe=null,i=!0):i=!1),i||zr(r)),null;case 13:return O_(i,r,a);case 4:return Zt(r,r.stateNode.containerInfo),l=r.pendingProps,i===null?r.child=Ha(r,null,l,a):Fe(i,r,l,a),r.child;case 11:return R_(i,r,r.type,r.pendingProps,a);case 7:return Fe(i,r,r.pendingProps,a),r.child;case 8:return Fe(i,r,r.pendingProps.children,a),r.child;case 12:return Fe(i,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Ss(r,r.type,l.value),Fe(i,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,qr(r),f=We(f),l=l(f),r.flags|=1,Fe(i,r,l,a),r.child;case 14:return C_(i,r,r.type,r.pendingProps,a);case 15:return I_(i,r,r.type,r.pendingProps,a);case 19:return L_(i,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},i===null?(a=Xc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Fi(i.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return x_(i,r,a);case 24:return qr(r),l=We(Ve),i===null?(f=_d(),f===null&&(f=Jt,p=yd(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=a),f=p),r.memoizedState={parent:l,cache:f},Ed(r),Ss(r,Ve,f)):((i.lanes&a)!==0&&(Sd(i,r),xl(r,null,null,a),Il()),f=i.memoizedState,p=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Ss(r,Ve,l)):(l=p.cache,Ss(r,Ve,l),l!==f.cache&&gd(r,[Ve],a,!0))),Fe(i,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Zi(i){i.flags|=4}function U_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!K0(r)){if(r=Ln.current,r!==null&&((kt&4194048)===kt?di!==null:(kt&62914560)!==kt&&(kt&536870912)===0||r!==di))throw Rl=Td,Ev;i.flags|=8192}}function Wc(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Jo():536870912,i.lanes|=r,Ya|=r)}function Ll(i,r){if(!qt)switch(i.tailMode){case"hidden":r=i.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function oe(i){var r=i.alternate!==null&&i.alternate.child===i.child,a=0,l=0;if(r)for(var f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=l,i.childLanes=a,r}function YR(i,r,a){var l=r.pendingProps;switch(fd(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(r),null;case 1:return oe(r),null;case 3:return a=r.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),$i(Ve),ti(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(_l(r)?Zi(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,gv())),oe(r),null;case 26:return a=r.memoizedState,i===null?(Zi(r),a!==null?(oe(r),U_(r,a)):(oe(r),r.flags&=-16777217)):a?a!==i.memoizedState?(Zi(r),oe(r),U_(r,a)):(oe(r),r.flags&=-16777217):(i.memoizedProps!==l&&Zi(r),oe(r),r.flags&=-16777217),null;case 27:Mi(r),a=At.current;var f=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==l&&Zi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return oe(r),null}i=gt.current,_l(r)?mv(r):(i=U0(f,l,a),r.stateNode=i,Zi(r))}return oe(r),null;case 5:if(Mi(r),a=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==l&&Zi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return oe(r),null}if(i=gt.current,_l(r))mv(r);else{switch(f=ch(At.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?i.multiple=!0:l.size&&(i.size=l.size);break;default:i=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}i[xe]=r,i[Ee]=l;t:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break t;for(;f.sibling===null;){if(f.return===null||f.return===r)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=i;t:switch(Ke(i,a,l),a){case"button":case"input":case"select":case"textarea":i=!!l.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&Zi(r)}}return oe(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==l&&Zi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(i=At.current,_l(r)){if(i=r.stateNode,a=r.memoizedProps,l=null,f=ln,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}i[xe]=r,i=!!(i.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||M0(i.nodeValue,a)),i||zr(r)}else i=ch(i).createTextNode(l),i[xe]=r,r.stateNode=i}return oe(r),null;case 13:if(l=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=_l(r),l!==null&&l.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[xe]=r}else Tl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;oe(r),f=!1}else f=gv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Xi(r),r):(Xi(r),null)}if(Xi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,i=i!==null&&i.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var p=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==f&&(l.flags|=2048)}return a!==i&&a&&(r.child.flags|=8192),Wc(r,r.updateQueue),oe(r),null;case 4:return ti(),i===null&&bm(r.stateNode.containerInfo),oe(r),null;case 10:return $i(r.type),oe(r),null;case 19:if(ut(Ne),f=r.memoizedState,f===null)return oe(r),null;if(l=(r.flags&128)!==0,p=f.rendering,p===null)if(l)Ll(f,!1);else{if(de!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(p=Kc(i),p!==null){for(r.flags|=128,Ll(f,!1),i=p.updateQueue,r.updateQueue=i,Wc(r,i),r.subtreeFlags=0,i=a,a=r.child;a!==null;)fv(a,i),a=a.sibling;return at(Ne,Ne.current&1|2),r.child}i=i.sibling}f.tail!==null&&Rn()>th&&(r.flags|=128,l=!0,Ll(f,!1),r.lanes=4194304)}else{if(!l)if(i=Kc(p),i!==null){if(r.flags|=128,l=!0,i=i.updateQueue,r.updateQueue=i,Wc(r,i),Ll(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!qt)return oe(r),null}else 2*Rn()-f.renderingStartTime>th&&a!==536870912&&(r.flags|=128,l=!0,Ll(f,!1),r.lanes=4194304);f.isBackwards?(p.sibling=r.child,r.child=p):(i=f.last,i!==null?i.sibling=p:r.child=p,f.last=p)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Rn(),r.sibling=null,i=Ne.current,at(Ne,l?i&1|2:i&1),r):(oe(r),null);case 22:case 23:return Xi(r),Rd(),l=r.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(oe(r),r.subtreeFlags&6&&(r.flags|=8192)):oe(r),a=r.updateQueue,a!==null&&Wc(r,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),i!==null&&ut(Hr),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),$i(Ve),oe(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function $R(i,r){switch(fd(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return $i(Ve),ti(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Mi(r),null;case 13:if(Xi(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Tl()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ut(Ne),null;case 4:return ti(),null;case 10:return $i(r.type),null;case 22:case 23:return Xi(r),Rd(),i!==null&&ut(Hr),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return $i(Ve),null;case 25:return null;default:return null}}function B_(i,r){switch(fd(r),r.tag){case 3:$i(Ve),ti();break;case 26:case 27:case 5:Mi(r);break;case 4:ti();break;case 13:Xi(r);break;case 19:ut(Ne);break;case 10:$i(r.type);break;case 22:case 23:Xi(r),Rd(),i!==null&&ut(Hr);break;case 24:$i(Ve)}}function kl(i,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&i)===i){l=void 0;var p=a.create,T=a.inst;l=p(),T.destroy=l}a=a.next}while(a!==f)}}catch(A){Wt(r,r.return,A)}}function xs(i,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var p=f.next;l=p;do{if((l.tag&i)===i){var T=l.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,f=r;var I=a,q=A;try{q()}catch(W){Wt(f,I,W)}}}l=l.next}while(l!==p)}}catch(W){Wt(r,r.return,W)}}function z_(i){var r=i.updateQueue;if(r!==null){var a=i.stateNode;try{Cv(r,a)}catch(l){Wt(i,i.return,l)}}}function j_(i,r,a){a.props=Gr(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(l){Wt(i,r,l)}}function Ul(i,r){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var l=i.stateNode;break;case 30:l=i.stateNode;break;default:l=i.stateNode}typeof a=="function"?i.refCleanup=a(l):a.current=l}}catch(f){Wt(i,r,f)}}function mi(i,r){var a=i.ref,l=i.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Wt(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Wt(i,r,f)}else a.current=null}function q_(i){var r=i.type,a=i.memoizedProps,l=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Wt(i,i.return,f)}}function tm(i,r,a){try{var l=i.stateNode;pC(l,i.type,a,r),l[Ee]=r}catch(f){Wt(i,i.return,f)}}function H_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ks(i.type)||i.tag===4}function em(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||H_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ks(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function nm(i,r,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(i),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=uh));else if(l!==4&&(l===27&&ks(i.type)&&(a=i.stateNode,r=null),i=i.child,i!==null))for(nm(i,r,a),i=i.sibling;i!==null;)nm(i,r,a),i=i.sibling}function Zc(i,r,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?a.insertBefore(i,r):a.appendChild(i);else if(l!==4&&(l===27&&ks(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(Zc(i,r,a),i=i.sibling;i!==null;)Zc(i,r,a),i=i.sibling}function F_(i){var r=i.stateNode,a=i.memoizedProps;try{for(var l=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Ke(r,l,a),r[xe]=i,r[Ee]=a}catch(p){Wt(i,i.return,p)}}var Ji=!1,ye=!1,im=!1,G_=typeof WeakSet=="function"?WeakSet:Set,Be=null;function QR(i,r){if(i=i.containerInfo,Cm=gh,i=nv(i),ed(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else t:{a=(a=i.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break t}var T=0,A=-1,I=-1,q=0,W=0,J=i,F=null;e:for(;;){for(var K;J!==a||f!==0&&J.nodeType!==3||(A=T+f),J!==p||l!==0&&J.nodeType!==3||(I=T+l),J.nodeType===3&&(T+=J.nodeValue.length),(K=J.firstChild)!==null;)F=J,J=K;for(;;){if(J===i)break e;if(F===a&&++q===f&&(A=T),F===p&&++W===l&&(I=T),(K=J.nextSibling)!==null)break;J=F,F=J.parentNode}J=K}a=A===-1||I===-1?null:{start:A,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Im={focusedElem:i,selectionRange:a},gh=!1,Be=r;Be!==null;)if(r=Be,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,Be=i;else for(;Be!==null;){switch(r=Be,p=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,a=r,f=p.memoizedProps,p=p.memoizedState,l=a.stateNode;try{var Tt=Gr(a.type,f,a.elementType===a.type);i=l.getSnapshotBeforeUpdate(Tt,p),l.__reactInternalSnapshotBeforeUpdate=i}catch(yt){Wt(a,a.return,yt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,a=i.nodeType,a===9)Mm(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Mm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Be=i;break}Be=r.return}}function K_(i,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ds(i,a),l&4&&kl(5,a);break;case 1:if(Ds(i,a),l&4)if(i=a.stateNode,r===null)try{i.componentDidMount()}catch(T){Wt(a,a.return,T)}else{var f=Gr(a.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(T){Wt(a,a.return,T)}}l&64&&z_(a),l&512&&Ul(a,a.return);break;case 3:if(Ds(i,a),l&64&&(i=a.updateQueue,i!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Cv(i,r)}catch(T){Wt(a,a.return,T)}}break;case 27:r===null&&l&4&&F_(a);case 26:case 5:Ds(i,a),r===null&&l&4&&q_(a),l&512&&Ul(a,a.return);break;case 12:Ds(i,a);break;case 13:Ds(i,a),l&4&&Q_(i,a),l&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=sC.bind(null,a),SC(i,a))));break;case 22:if(l=a.memoizedState!==null||Ji,!l){r=r!==null&&r.memoizedState!==null||ye,f=Ji;var p=ye;Ji=l,(ye=r)&&!p?Ms(i,a,(a.subtreeFlags&8772)!==0):Ds(i,a),Ji=f,ye=p}break;case 30:break;default:Ds(i,a)}}function Y_(i){var r=i.alternate;r!==null&&(i.alternate=null,Y_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&vs(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ne=null,fn=!1;function ts(i,r,a){for(a=a.child;a!==null;)$_(i,r,a),a=a.sibling}function $_(i,r,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(he,a)}catch{}switch(a.tag){case 26:ye||mi(a,r),ts(i,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ye||mi(a,r);var l=ne,f=fn;ks(a.type)&&(ne=a.stateNode,fn=!1),ts(i,r,a),Yl(a.stateNode),ne=l,fn=f;break;case 5:ye||mi(a,r);case 6:if(l=ne,f=fn,ne=null,ts(i,r,a),ne=l,fn=f,ne!==null)if(fn)try{(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).removeChild(a.stateNode)}catch(p){Wt(a,r,p)}else try{ne.removeChild(a.stateNode)}catch(p){Wt(a,r,p)}break;case 18:ne!==null&&(fn?(i=ne,L0(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),eu(i)):L0(ne,a.stateNode));break;case 4:l=ne,f=fn,ne=a.stateNode.containerInfo,fn=!0,ts(i,r,a),ne=l,fn=f;break;case 0:case 11:case 14:case 15:ye||xs(2,a,r),ye||xs(4,a,r),ts(i,r,a);break;case 1:ye||(mi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&j_(a,r,l)),ts(i,r,a);break;case 21:ts(i,r,a);break;case 22:ye=(l=ye)||a.memoizedState!==null,ts(i,r,a),ye=l;break;default:ts(i,r,a)}}function Q_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{eu(i)}catch(a){Wt(r,r.return,a)}}function XR(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new G_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new G_),r;default:throw Error(s(435,i.tag))}}function sm(i,r){var a=XR(i);r.forEach(function(l){var f=rC.bind(null,i,l);a.has(l)||(a.add(l),l.then(f,f))})}function En(i,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],p=i,T=r,A=T;t:for(;A!==null;){switch(A.tag){case 27:if(ks(A.type)){ne=A.stateNode,fn=!1;break t}break;case 5:ne=A.stateNode,fn=!1;break t;case 3:case 4:ne=A.stateNode.containerInfo,fn=!0;break t}A=A.return}if(ne===null)throw Error(s(160));$_(p,T,f),ne=null,fn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)X_(r,i),r=r.sibling}var Yn=null;function X_(i,r){var a=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:En(r,i),Sn(i),l&4&&(xs(3,i,i.return),kl(3,i),xs(5,i,i.return));break;case 1:En(r,i),Sn(i),l&512&&(ye||a===null||mi(a,a.return)),l&64&&Ji&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Yn;if(En(r,i),Sn(i),l&512&&(ye||a===null||mi(a,a.return)),l&4){var p=a!==null?a.memoizedState:null;if(l=i.memoizedState,a===null)if(l===null)if(i.stateNode===null){t:{l=i.type,a=i.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Tr]||p[xe]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(l),f.head.insertBefore(p,f.querySelector("head > title"))),Ke(p,l,a),p[xe]=i,pe(p),l=p;break t;case"link":var T=F0("link","href",f).get(l+(a.href||""));if(T){for(var A=0;A<T.length;A++)if(p=T[A],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(A,1);break e}}p=f.createElement(l),Ke(p,l,a),f.head.appendChild(p);break;case"meta":if(T=F0("meta","content",f).get(l+(a.content||""))){for(A=0;A<T.length;A++)if(p=T[A],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(A,1);break e}}p=f.createElement(l),Ke(p,l,a),f.head.appendChild(p);break;default:throw Error(s(468,l))}p[xe]=i,pe(p),l=p}i.stateNode=l}else G0(f,i.type,i.stateNode);else i.stateNode=H0(f,l,i.memoizedProps);else p!==l?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,l===null?G0(f,i.type,i.stateNode):H0(f,l,i.memoizedProps)):l===null&&i.stateNode!==null&&tm(i,i.memoizedProps,a.memoizedProps)}break;case 27:En(r,i),Sn(i),l&512&&(ye||a===null||mi(a,a.return)),a!==null&&l&4&&tm(i,i.memoizedProps,a.memoizedProps);break;case 5:if(En(r,i),Sn(i),l&512&&(ye||a===null||mi(a,a.return)),i.flags&32){f=i.stateNode;try{In(f,"")}catch(K){Wt(i,i.return,K)}}l&4&&i.stateNode!=null&&(f=i.memoizedProps,tm(i,f,a!==null?a.memoizedProps:f)),l&1024&&(im=!0);break;case 6:if(En(r,i),Sn(i),l&4){if(i.stateNode===null)throw Error(s(162));l=i.memoizedProps,a=i.stateNode;try{a.nodeValue=l}catch(K){Wt(i,i.return,K)}}break;case 3:if(dh=null,f=Yn,Yn=hh(r.containerInfo),En(r,i),Yn=f,Sn(i),l&4&&a!==null&&a.memoizedState.isDehydrated)try{eu(r.containerInfo)}catch(K){Wt(i,i.return,K)}im&&(im=!1,W_(i));break;case 4:l=Yn,Yn=hh(i.stateNode.containerInfo),En(r,i),Sn(i),Yn=l;break;case 12:En(r,i),Sn(i);break;case 13:En(r,i),Sn(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(cm=Rn()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,sm(i,l)));break;case 22:f=i.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,q=Ji,W=ye;if(Ji=q||f,ye=W||I,En(r,i),ye=W,Ji=q,Sn(i),l&8192)t:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||I||Ji||ye||Kr(i)),a=null,r=i;;){if(r.tag===5||r.tag===26){if(a===null){I=a=r;try{if(p=I.stateNode,f)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{A=I.stateNode;var J=I.memoizedProps.style,F=J!=null&&J.hasOwnProperty("display")?J.display:null;A.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(K){Wt(I,I.return,K)}}}else if(r.tag===6){if(a===null){I=r;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(K){Wt(I,I.return,K)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=i.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,sm(i,a))));break;case 19:En(r,i),Sn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,sm(i,l)));break;case 30:break;case 21:break;default:En(r,i),Sn(i)}}function Sn(i){var r=i.flags;if(r&2){try{for(var a,l=i.return;l!==null;){if(H_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,p=em(i);Zc(i,p,f);break;case 5:var T=a.stateNode;a.flags&32&&(In(T,""),a.flags&=-33);var A=em(i);Zc(i,A,T);break;case 3:case 4:var I=a.stateNode.containerInfo,q=em(i);nm(i,q,I);break;default:throw Error(s(161))}}catch(W){Wt(i,i.return,W)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function W_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;W_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Ds(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)K_(i,r.alternate,r),r=r.sibling}function Kr(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:xs(4,r,r.return),Kr(r);break;case 1:mi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&j_(r,r.return,a),Kr(r);break;case 27:Yl(r.stateNode);case 26:case 5:mi(r,r.return),Kr(r);break;case 22:r.memoizedState===null&&Kr(r);break;case 30:Kr(r);break;default:Kr(r)}i=i.sibling}}function Ms(i,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=i,p=r,T=p.flags;switch(p.tag){case 0:case 11:case 15:Ms(f,p,a),kl(4,p);break;case 1:if(Ms(f,p,a),l=p,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){Wt(l,l.return,q)}if(l=p,f=l.updateQueue,f!==null){var A=l.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)Rv(I[f],A)}catch(q){Wt(l,l.return,q)}}a&&T&64&&z_(p),Ul(p,p.return);break;case 27:F_(p);case 26:case 5:Ms(f,p,a),a&&l===null&&T&4&&q_(p),Ul(p,p.return);break;case 12:Ms(f,p,a);break;case 13:Ms(f,p,a),a&&T&4&&Q_(f,p);break;case 22:p.memoizedState===null&&Ms(f,p,a),Ul(p,p.return);break;case 30:break;default:Ms(f,p,a)}r=r.sibling}}function rm(i,r){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Al(a))}function am(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Al(i))}function pi(i,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Z_(i,r,a,l),r=r.sibling}function Z_(i,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:pi(i,r,a,l),f&2048&&kl(9,r);break;case 1:pi(i,r,a,l);break;case 3:pi(i,r,a,l),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Al(i)));break;case 12:if(f&2048){pi(i,r,a,l),i=r.stateNode;try{var p=r.memoizedProps,T=p.id,A=p.onPostCommit;typeof A=="function"&&A(T,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(I){Wt(r,r.return,I)}}else pi(i,r,a,l);break;case 13:pi(i,r,a,l);break;case 23:break;case 22:p=r.stateNode,T=r.alternate,r.memoizedState!==null?p._visibility&2?pi(i,r,a,l):Bl(i,r):p._visibility&2?pi(i,r,a,l):(p._visibility|=2,Fa(i,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&rm(T,r);break;case 24:pi(i,r,a,l),f&2048&&am(r.alternate,r);break;default:pi(i,r,a,l)}}function Fa(i,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var p=i,T=r,A=a,I=l,q=T.flags;switch(T.tag){case 0:case 11:case 15:Fa(p,T,A,I,f),kl(8,T);break;case 23:break;case 22:var W=T.stateNode;T.memoizedState!==null?W._visibility&2?Fa(p,T,A,I,f):Bl(p,T):(W._visibility|=2,Fa(p,T,A,I,f)),f&&q&2048&&rm(T.alternate,T);break;case 24:Fa(p,T,A,I,f),f&&q&2048&&am(T.alternate,T);break;default:Fa(p,T,A,I,f)}r=r.sibling}}function Bl(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=i,l=r,f=l.flags;switch(l.tag){case 22:Bl(a,l),f&2048&&rm(l.alternate,l);break;case 24:Bl(a,l),f&2048&&am(l.alternate,l);break;default:Bl(a,l)}r=r.sibling}}var zl=8192;function Ga(i){if(i.subtreeFlags&zl)for(i=i.child;i!==null;)J_(i),i=i.sibling}function J_(i){switch(i.tag){case 26:Ga(i),i.flags&zl&&i.memoizedState!==null&&PC(Yn,i.memoizedState,i.memoizedProps);break;case 5:Ga(i);break;case 3:case 4:var r=Yn;Yn=hh(i.stateNode.containerInfo),Ga(i),Yn=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=zl,zl=16777216,Ga(i),zl=r):Ga(i));break;default:Ga(i)}}function t0(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function jl(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Be=l,n0(l,i)}t0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)e0(i),i=i.sibling}function e0(i){switch(i.tag){case 0:case 11:case 15:jl(i),i.flags&2048&&xs(9,i,i.return);break;case 3:jl(i);break;case 12:jl(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Jc(i)):jl(i);break;default:jl(i)}}function Jc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Be=l,n0(l,i)}t0(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:xs(8,r,r.return),Jc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Jc(r));break;default:Jc(r)}i=i.sibling}}function n0(i,r){for(;Be!==null;){var a=Be;switch(a.tag){case 0:case 11:case 15:xs(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Al(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Be=l;else t:for(a=i;Be!==null;){l=Be;var f=l.sibling,p=l.return;if(Y_(l),l===a){Be=null;break t}if(f!==null){f.return=p,Be=f;break t}Be=p}}}var WR={getCacheForType:function(i){var r=We(Ve),a=r.data.get(i);return a===void 0&&(a=i(),r.data.set(i,a)),a}},ZR=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Jt=null,Mt=null,kt=0,Kt=0,An=null,Vs=!1,Ka=!1,om=!1,es=0,de=0,Ns=0,Yr=0,lm=0,kn=0,Ya=0,ql=null,dn=null,um=!1,cm=0,th=1/0,eh=null,Os=null,Ge=0,Ps=null,$a=null,Qa=0,hm=0,fm=null,i0=null,Hl=0,dm=null;function bn(){if((Gt&2)!==0&&kt!==0)return kt&-kt;if(X.T!==null){var i=La;return i!==0?i:Tm()}return gs()}function s0(){kn===0&&(kn=(kt&536870912)===0||qt?Zo():536870912);var i=Ln.current;return i!==null&&(i.flags|=32),kn}function wn(i,r,a){(i===Jt&&(Kt===2||Kt===9)||i.cancelPendingCommit!==null)&&(Xa(i,0),Ls(i,kt,kn,!1)),Ni(i,a),((Gt&2)===0||i!==Jt)&&(i===Jt&&((Gt&2)===0&&(Yr|=a),de===4&&Ls(i,kt,kn,!1)),gi(i))}function r0(i,r,a){if((Gt&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&i.expiredLanes)===0||_r(i,r),f=l?eC(i,r):gm(i,r,!0),p=l;do{if(f===0){Ka&&!l&&Ls(i,r,0,!1);break}else{if(a=i.current.alternate,p&&!JR(a)){f=gm(i,r,!1),p=!1;continue}if(f===2){if(p=r,i.errorRecoveryDisabledLanes&p)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;t:{var A=i;f=ql;var I=A.current.memoizedState.isDehydrated;if(I&&(Xa(A,T).flags|=256),T=gm(A,T,!1),T!==2){if(om&&!I){A.errorRecoveryDisabledLanes|=p,Yr|=p,f=4;break t}p=dn,dn=f,p!==null&&(dn===null?dn=p:dn.push.apply(dn,p))}f=T}if(p=!1,f!==2)continue}}if(f===1){Xa(i,0),Ls(i,r,0,!0);break}t:{switch(l=i,p=f,p){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Ls(l,r,kn,!Vs);break t;case 2:dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=cm+300-Rn(),10<f)){if(Ls(l,r,kn,!Vs),da(l,0,!0)!==0)break t;l.timeoutHandle=O0(a0.bind(null,l,a,dn,eh,um,r,kn,Yr,Ya,Vs,p,2,-0,0),f);break t}a0(l,a,dn,eh,um,r,kn,Yr,Ya,Vs,p,0,-0,0)}}break}while(!0);gi(i)}function a0(i,r,a,l,f,p,T,A,I,q,W,J,F,K){if(i.timeoutHandle=-1,J=r.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Xl={stylesheets:null,count:0,unsuspend:OC},J_(r),J=LC(),J!==null)){i.cancelPendingCommit=J(d0.bind(null,i,r,p,a,l,f,T,A,I,W,1,F,K)),Ls(i,p,T,!q);return}d0(i,r,p,a,l,f,T,A,I)}function JR(i){for(var r=i;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],p=f.getSnapshot;f=f.value;try{if(!_n(p(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ls(i,r,a,l){r&=~lm,r&=~Yr,i.suspendedLanes|=r,i.pingedLanes&=~r,l&&(i.warmLanes|=r),l=i.expirationTimes;for(var f=r;0<f;){var p=31-Xe(f),T=1<<p;l[p]=-1,f&=~T}a!==0&&ei(i,a,r)}function nh(){return(Gt&6)===0?(Fl(0),!1):!0}function mm(){if(Mt!==null){if(Kt===0)var i=Mt.return;else i=Mt,Yi=jr=null,Md(i),qa=null,Ol=0,i=Mt;for(;i!==null;)B_(i.alternate,i),i=i.return;Mt=null}}function Xa(i,r){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,yC(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),mm(),Jt=i,Mt=a=Fi(i.current,null),kt=r,Kt=0,An=null,Vs=!1,Ka=_r(i,r),om=!1,Ya=kn=lm=Yr=Ns=de=0,dn=ql=null,um=!1,(r&8)!==0&&(r|=r&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=r;0<l;){var f=31-Xe(l),p=1<<f;r|=i[f],l&=~p}return es=r,bc(),a}function o0(i,r){It=null,X.H=Hc,r===wl||r===Nc?(r=bv(),Kt=3):r===Ev?(r=bv(),Kt=4):Kt=r===w_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,An=r,Mt===null&&(de=1,$c(i,Vn(r,i.current)))}function l0(){var i=X.H;return X.H=Hc,i===null?Hc:i}function u0(){var i=X.A;return X.A=WR,i}function pm(){de=4,Vs||(kt&4194048)!==kt&&Ln.current!==null||(Ka=!0),(Ns&134217727)===0&&(Yr&134217727)===0||Jt===null||Ls(Jt,kt,kn,!1)}function gm(i,r,a){var l=Gt;Gt|=2;var f=l0(),p=u0();(Jt!==i||kt!==r)&&(eh=null,Xa(i,r)),r=!1;var T=de;t:do try{if(Kt!==0&&Mt!==null){var A=Mt,I=An;switch(Kt){case 8:mm(),T=6;break t;case 3:case 2:case 9:case 6:Ln.current===null&&(r=!0);var q=Kt;if(Kt=0,An=null,Wa(i,A,I,q),a&&Ka){T=0;break t}break;default:q=Kt,Kt=0,An=null,Wa(i,A,I,q)}}tC(),T=de;break}catch(W){o0(i,W)}while(!0);return r&&i.shellSuspendCounter++,Yi=jr=null,Gt=l,X.H=f,X.A=p,Mt===null&&(Jt=null,kt=0,bc()),T}function tC(){for(;Mt!==null;)c0(Mt)}function eC(i,r){var a=Gt;Gt|=2;var l=l0(),f=u0();Jt!==i||kt!==r?(eh=null,th=Rn()+500,Xa(i,r)):Ka=_r(i,r);t:do try{if(Kt!==0&&Mt!==null){r=Mt;var p=An;e:switch(Kt){case 1:Kt=0,An=null,Wa(i,r,p,1);break;case 2:case 9:if(Sv(p)){Kt=0,An=null,h0(r);break}r=function(){Kt!==2&&Kt!==9||Jt!==i||(Kt=7),gi(i)},p.then(r,r);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Sv(p)?(Kt=0,An=null,h0(r)):(Kt=0,An=null,Wa(i,r,p,7));break;case 5:var T=null;switch(Mt.tag){case 26:T=Mt.memoizedState;case 5:case 27:var A=Mt;if(!T||K0(T)){Kt=0,An=null;var I=A.sibling;if(I!==null)Mt=I;else{var q=A.return;q!==null?(Mt=q,ih(q)):Mt=null}break e}}Kt=0,An=null,Wa(i,r,p,5);break;case 6:Kt=0,An=null,Wa(i,r,p,6);break;case 8:mm(),de=6;break t;default:throw Error(s(462))}}nC();break}catch(W){o0(i,W)}while(!0);return Yi=jr=null,X.H=l,X.A=f,Gt=a,Mt!==null?0:(Jt=null,kt=0,bc(),de)}function nC(){for(;Mt!==null&&!$o();)c0(Mt)}function c0(i){var r=k_(i.alternate,i,es);i.memoizedProps=i.pendingProps,r===null?ih(i):Mt=r}function h0(i){var r=i,a=r.alternate;switch(r.tag){case 15:case 0:r=M_(a,r,r.pendingProps,r.type,void 0,kt);break;case 11:r=M_(a,r,r.pendingProps,r.type.render,r.ref,kt);break;case 5:Md(r);default:B_(a,r),r=Mt=fv(r,es),r=k_(a,r,es)}i.memoizedProps=i.pendingProps,r===null?ih(i):Mt=r}function Wa(i,r,a,l){Yi=jr=null,Md(r),qa=null,Ol=0;var f=r.return;try{if(GR(i,f,r,a,kt)){de=1,$c(i,Vn(a,i.current)),Mt=null;return}}catch(p){if(f!==null)throw Mt=f,p;de=1,$c(i,Vn(a,i.current)),Mt=null;return}r.flags&32768?(qt||l===1?i=!0:Ka||(kt&536870912)!==0?i=!1:(Vs=i=!0,(l===2||l===9||l===3||l===6)&&(l=Ln.current,l!==null&&l.tag===13&&(l.flags|=16384))),f0(r,i)):ih(r)}function ih(i){var r=i;do{if((r.flags&32768)!==0){f0(r,Vs);return}i=r.return;var a=YR(r.alternate,r,es);if(a!==null){Mt=a;return}if(r=r.sibling,r!==null){Mt=r;return}Mt=r=i}while(r!==null);de===0&&(de=5)}function f0(i,r){do{var a=$R(i.alternate,i);if(a!==null){a.flags&=32767,Mt=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(i=i.sibling,i!==null)){Mt=i;return}Mt=i=a}while(i!==null);de=6,Mt=null}function d0(i,r,a,l,f,p,T,A,I){i.cancelPendingCommit=null;do sh();while(Ge!==0);if((Gt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(p=r.lanes|r.childLanes,p|=ad,tl(i,a,p,T,A,I),i===Jt&&(Mt=Jt=null,kt=0),$a=r,Ps=i,Qa=a,hm=p,fm=f,i0=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,aC(pr,function(){return v0(),null})):(i.callbackNode=null,i.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=st.p,st.p=2,T=Gt,Gt|=4;try{QR(i,r,a)}finally{Gt=T,st.p=f,X.T=l}}Ge=1,m0(),p0(),g0()}}function m0(){if(Ge===1){Ge=0;var i=Ps,r=$a,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=st.p;st.p=2;var f=Gt;Gt|=4;try{X_(r,i);var p=Im,T=nv(i.containerInfo),A=p.focusedElem,I=p.selectionRange;if(T!==A&&A&&A.ownerDocument&&ev(A.ownerDocument.documentElement,A)){if(I!==null&&ed(A)){var q=I.start,W=I.end;if(W===void 0&&(W=q),"selectionStart"in A)A.selectionStart=q,A.selectionEnd=Math.min(W,A.value.length);else{var J=A.ownerDocument||document,F=J&&J.defaultView||window;if(F.getSelection){var K=F.getSelection(),Tt=A.textContent.length,yt=Math.min(I.start,Tt),Xt=I.end===void 0?yt:Math.min(I.end,Tt);!K.extend&&yt>Xt&&(T=Xt,Xt=yt,yt=T);var U=tv(A,yt),O=tv(A,Xt);if(U&&O&&(K.rangeCount!==1||K.anchorNode!==U.node||K.anchorOffset!==U.offset||K.focusNode!==O.node||K.focusOffset!==O.offset)){var j=J.createRange();j.setStart(U.node,U.offset),K.removeAllRanges(),yt>Xt?(K.addRange(j),K.extend(O.node,O.offset)):(j.setEnd(O.node,O.offset),K.addRange(j))}}}}for(J=[],K=A;K=K.parentNode;)K.nodeType===1&&J.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<J.length;A++){var Z=J[A];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}gh=!!Cm,Im=Cm=null}finally{Gt=f,st.p=l,X.T=a}}i.current=r,Ge=2}}function p0(){if(Ge===2){Ge=0;var i=Ps,r=$a,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=st.p;st.p=2;var f=Gt;Gt|=4;try{K_(i,r.alternate,r)}finally{Gt=f,st.p=l,X.T=a}}Ge=3}}function g0(){if(Ge===4||Ge===3){Ge=0,Ju();var i=Ps,r=$a,a=Qa,l=i0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ge=5:(Ge=0,$a=Ps=null,y0(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(Os=null),ma(a),r=r.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(he,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=X.T,f=st.p,st.p=2,X.T=null;try{for(var p=i.onRecoverableError,T=0;T<l.length;T++){var A=l[T];p(A.value,{componentStack:A.stack})}}finally{X.T=r,st.p=f}}(Qa&3)!==0&&sh(),gi(i),f=i.pendingLanes,(a&4194090)!==0&&(f&42)!==0?i===dm?Hl++:(Hl=0,dm=i):Hl=0,Fl(0)}}function y0(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Al(r)))}function sh(i){return m0(),p0(),g0(),v0()}function v0(){if(Ge!==5)return!1;var i=Ps,r=hm;hm=0;var a=ma(Qa),l=X.T,f=st.p;try{st.p=32>a?32:a,X.T=null,a=fm,fm=null;var p=Ps,T=Qa;if(Ge=0,$a=Ps=null,Qa=0,(Gt&6)!==0)throw Error(s(331));var A=Gt;if(Gt|=4,e0(p.current),Z_(p,p.current,T,a),Gt=A,Fl(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(he,p)}catch{}return!0}finally{st.p=f,X.T=l,y0(i,r)}}function _0(i,r,a){r=Vn(a,r),r=Gd(i.stateNode,r,2),i=ws(i,r,2),i!==null&&(Ni(i,2),gi(i))}function Wt(i,r,a){if(i.tag===3)_0(i,i,a);else for(;r!==null;){if(r.tag===3){_0(r,i,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Os===null||!Os.has(l))){i=Vn(a,i),a=A_(2),l=ws(r,a,2),l!==null&&(b_(a,l,r,i),Ni(l,2),gi(l));break}}r=r.return}}function ym(i,r,a){var l=i.pingCache;if(l===null){l=i.pingCache=new ZR;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(om=!0,f.add(a),i=iC.bind(null,i,r,a),r.then(i,i))}function iC(i,r,a){var l=i.pingCache;l!==null&&l.delete(r),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,Jt===i&&(kt&a)===a&&(de===4||de===3&&(kt&62914560)===kt&&300>Rn()-cm?(Gt&2)===0&&Xa(i,0):lm|=a,Ya===kt&&(Ya=0)),gi(i)}function T0(i,r){r===0&&(r=Jo()),i=Va(i,r),i!==null&&(Ni(i,r),gi(i))}function sC(i){var r=i.memoizedState,a=0;r!==null&&(a=r.retryLane),T0(i,a)}function rC(i,r){var a=0;switch(i.tag){case 13:var l=i.stateNode,f=i.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),T0(i,a)}function aC(i,r){return dr(i,r)}var rh=null,Za=null,vm=!1,ah=!1,_m=!1,$r=0;function gi(i){i!==Za&&i.next===null&&(Za===null?rh=Za=i:Za=Za.next=i),ah=!0,vm||(vm=!0,lC())}function Fl(i,r){if(!_m&&ah){_m=!0;do for(var a=!1,l=rh;l!==null;){if(i!==0){var f=l.pendingLanes;if(f===0)var p=0;else{var T=l.suspendedLanes,A=l.pingedLanes;p=(1<<31-Xe(42|i)+1)-1,p&=f&~(T&~A),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,b0(l,p))}else p=kt,p=da(l,l===Jt?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||_r(l,p)||(a=!0,b0(l,p));l=l.next}while(a);_m=!1}}function oC(){E0()}function E0(){ah=vm=!1;var i=0;$r!==0&&(gC()&&(i=$r),$r=0);for(var r=Rn(),a=null,l=rh;l!==null;){var f=l.next,p=S0(l,r);p===0?(l.next=null,a===null?rh=f:a.next=f,f===null&&(Za=a)):(a=l,(i!==0||(p&3)!==0)&&(ah=!0)),l=f}Fl(i)}function S0(i,r){for(var a=i.suspendedLanes,l=i.pingedLanes,f=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var T=31-Xe(p),A=1<<T,I=f[T];I===-1?((A&a)===0||(A&l)!==0)&&(f[T]=Wo(A,r)):I<=r&&(i.expiredLanes|=A),p&=~A}if(r=Jt,a=kt,a=da(i,i===r?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l=i.callbackNode,a===0||i===r&&(Kt===2||Kt===9)||i.cancelPendingCommit!==null)return l!==null&&l!==null&&mr(l),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||_r(i,a)){if(r=a&-a,r===i.callbackPriority)return r;switch(l!==null&&mr(l),ma(a)){case 2:case 8:a=ha;break;case 32:a=pr;break;case 268435456:a=fa;break;default:a=pr}return l=A0.bind(null,i),a=dr(a,l),i.callbackPriority=r,i.callbackNode=a,r}return l!==null&&l!==null&&mr(l),i.callbackPriority=2,i.callbackNode=null,2}function A0(i,r){if(Ge!==0&&Ge!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(sh()&&i.callbackNode!==a)return null;var l=kt;return l=da(i,i===Jt?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l===0?null:(r0(i,l,r),S0(i,Rn()),i.callbackNode!=null&&i.callbackNode===a?A0.bind(null,i):null)}function b0(i,r){if(sh())return null;r0(i,r,!0)}function lC(){vC(function(){(Gt&6)!==0?dr(Qo,oC):E0()})}function Tm(){return $r===0&&($r=Zo()),$r}function w0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ta(""+i)}function R0(i,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,i.id&&a.setAttribute("form",i.id),r.parentNode.insertBefore(a,r),i=new FormData(i),a.parentNode.removeChild(a),i}function uC(i,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var p=w0((f[Ee]||null).action),T=l.submitter;T&&(r=(r=T[Ee]||null)?w0(r.formAction):T.getAttribute("formAction"),r!==null&&(p=r,T=null));var A=new Ea("action","action",null,l,f);i.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($r!==0){var I=T?R0(f,T):new FormData(f);zd(a,{pending:!0,data:I,method:f.method,action:p},null,I)}}else typeof p=="function"&&(A.preventDefault(),I=T?R0(f,T):new FormData(f),zd(a,{pending:!0,data:I,method:f.method,action:p},p,I))},currentTarget:f}]})}}for(var Em=0;Em<rd.length;Em++){var Sm=rd[Em],cC=Sm.toLowerCase(),hC=Sm[0].toUpperCase()+Sm.slice(1);Kn(cC,"on"+hC)}Kn(rv,"onAnimationEnd"),Kn(av,"onAnimationIteration"),Kn(ov,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(IR,"onTransitionRun"),Kn(xR,"onTransitionStart"),Kn(DR,"onTransitionCancel"),Kn(lv,"onTransitionEnd"),Pi("onMouseEnter",["mouseout","mouseover"]),Pi("onMouseLeave",["mouseout","mouseover"]),Pi("onPointerEnter",["pointerout","pointerover"]),Pi("onPointerLeave",["pointerout","pointerover"]),Fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gl));function C0(i,r){r=(r&4)!==0;for(var a=0;a<i.length;a++){var l=i[a],f=l.event;l=l.listeners;t:{var p=void 0;if(r)for(var T=l.length-1;0<=T;T--){var A=l[T],I=A.instance,q=A.currentTarget;if(A=A.listener,I!==p&&f.isPropagationStopped())break t;p=A,f.currentTarget=q;try{p(f)}catch(W){Yc(W)}f.currentTarget=null,p=I}else for(T=0;T<l.length;T++){if(A=l[T],I=A.instance,q=A.currentTarget,A=A.listener,I!==p&&f.isPropagationStopped())break t;p=A,f.currentTarget=q;try{p(f)}catch(W){Yc(W)}f.currentTarget=null,p=I}}}}function Vt(i,r){var a=r[nl];a===void 0&&(a=r[nl]=new Set);var l=i+"__bubble";a.has(l)||(I0(r,i,2,!1),a.add(l))}function Am(i,r,a){var l=0;r&&(l|=4),I0(a,i,l,r)}var oh="_reactListening"+Math.random().toString(36).slice(2);function bm(i){if(!i[oh]){i[oh]=!0,il.forEach(function(a){a!=="selectionchange"&&(fC.has(a)||Am(a,!1,i),Am(a,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[oh]||(r[oh]=!0,Am("selectionchange",!1,r))}}function I0(i,r,a,l){switch(Z0(r)){case 2:var f=BC;break;case 8:f=zC;break;default:f=Um}a=f.bind(null,r,a,i),f=void 0,!Dn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?i.addEventListener(r,a,{capture:!0,passive:f}):i.addEventListener(r,a,!0):f!==void 0?i.addEventListener(r,a,{passive:f}):i.addEventListener(r,a,!1)}function wm(i,r,a,l,f){var p=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var A=l.stateNode.containerInfo;if(A===f)break;if(T===4)for(T=l.return;T!==null;){var I=T.tag;if((I===3||I===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;A!==null;){if(T=Oi(A),T===null)return;if(I=T.tag,I===5||I===6||I===26||I===27){l=p=T;continue t}A=A.parentNode}}l=l.return}uc(function(){var q=p,W=xn(a),J=[];t:{var F=uv.get(i);if(F!==void 0){var K=Ea,Tt=i;switch(i){case"keypress":if(oi(a)===0)break t;case"keydown":case"keyup":K=Ca;break;case"focusin":Tt="focus",K=ba;break;case"focusout":Tt="blur",K=ba;break;case"beforeblur":case"afterblur":K=ba;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Wf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=yc;break;case rv:case av:case ov:K=wa;break;case lv:K=_c;break;case"scroll":case"scrollend":K=cc;break;case"wheel":K=Ia;break;case"copy":case"cut":case"paste":K=Ra;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=pl;break;case"toggle":case"beforetoggle":K=Ec}var yt=(r&4)!==0,Xt=!yt&&(i==="scroll"||i==="scrollend"),U=yt?F!==null?F+"Capture":null:F;yt=[];for(var O=q,j;O!==null;){var Z=O;if(j=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||j===null||U===null||(Z=Cr(O,U),Z!=null&&yt.push(Kl(O,Z,j))),Xt)break;O=O.return}0<yt.length&&(F=new K(F,Tt,null,a,W),J.push({event:F,listeners:yt}))}}if((r&7)===0){t:{if(F=i==="mouseover"||i==="pointerover",K=i==="mouseout"||i==="pointerout",F&&a!==Ui&&(Tt=a.relatedTarget||a.fromElement)&&(Oi(Tt)||Tt[Cn]))break t;if((K||F)&&(F=W.window===W?W:(F=W.ownerDocument)?F.defaultView||F.parentWindow:window,K?(Tt=a.relatedTarget||a.toElement,K=q,Tt=Tt?Oi(Tt):null,Tt!==null&&(Xt=u(Tt),yt=Tt.tag,Tt!==Xt||yt!==5&&yt!==27&&yt!==6)&&(Tt=null)):(K=null,Tt=q),K!==Tt)){if(yt=Mn,Z="onMouseLeave",U="onMouseEnter",O="mouse",(i==="pointerout"||i==="pointerover")&&(yt=pl,Z="onPointerLeave",U="onPointerEnter",O="pointer"),Xt=K==null?F:ii(K),j=Tt==null?F:ii(Tt),F=new yt(Z,O+"leave",K,a,W),F.target=Xt,F.relatedTarget=j,Z=null,Oi(W)===q&&(yt=new yt(U,O+"enter",Tt,a,W),yt.target=j,yt.relatedTarget=Xt,Z=yt),Xt=Z,K&&Tt)e:{for(yt=K,U=Tt,O=0,j=yt;j;j=Ja(j))O++;for(j=0,Z=U;Z;Z=Ja(Z))j++;for(;0<O-j;)yt=Ja(yt),O--;for(;0<j-O;)U=Ja(U),j--;for(;O--;){if(yt===U||U!==null&&yt===U.alternate)break e;yt=Ja(yt),U=Ja(U)}yt=null}else yt=null;K!==null&&x0(J,F,K,yt,!1),Tt!==null&&Xt!==null&&x0(J,Xt,Tt,yt,!0)}}t:{if(F=q?ii(q):window,K=F.nodeName&&F.nodeName.toLowerCase(),K==="select"||K==="input"&&F.type==="file")var mt=$y;else if(Me(F))if(Qy)mt=wR;else{mt=AR;var Dt=SR}else K=F.nodeName,!K||K.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&ll(q.elementType)&&(mt=$y):mt=bR;if(mt&&(mt=mt(i,q))){Hi(J,mt,a,W);break t}Dt&&Dt(i,F,q),i==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&Ts(F,"number",F.value)}switch(Dt=q?ii(q):window,i){case"focusin":(Me(Dt)||Dt.contentEditable==="true")&&(xa=Dt,nd=q,vl=null);break;case"focusout":vl=nd=xa=null;break;case"mousedown":id=!0;break;case"contextmenu":case"mouseup":case"dragend":id=!1,iv(J,a,W);break;case"selectionchange":if(CR)break;case"keydown":case"keyup":iv(J,a,W)}var pt;if(ci)t:{switch(i){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Pt?Q(i,a)&&(_t="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(_t="onCompositionStart");_t&&(_&&a.locale!=="ko"&&(Pt||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Pt&&(pt=cl()):(ai=W,Es="value"in ai?ai.value:ai.textContent,Pt=!0)),Dt=lh(q,_t),0<Dt.length&&(_t=new dl(_t,i,null,a,W),J.push({event:_t,listeners:Dt}),pt?_t.data=pt:(pt=ot(a),pt!==null&&(_t.data=pt)))),(pt=v?De(i,a):Lt(i,a))&&(_t=lh(q,"onBeforeInput"),0<_t.length&&(Dt=new dl("onBeforeInput","beforeinput",null,a,W),J.push({event:Dt,listeners:_t}),Dt.data=pt)),uC(J,i,q,a,W)}C0(J,r)})}function Kl(i,r,a){return{instance:i,listener:r,currentTarget:a}}function lh(i,r){for(var a=r+"Capture",l=[];i!==null;){var f=i,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Cr(i,a),f!=null&&l.unshift(Kl(i,f,p)),f=Cr(i,r),f!=null&&l.push(Kl(i,f,p))),i.tag===3)return l;i=i.return}return[]}function Ja(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function x0(i,r,a,l,f){for(var p=r._reactName,T=[];a!==null&&a!==l;){var A=a,I=A.alternate,q=A.stateNode;if(A=A.tag,I!==null&&I===l)break;A!==5&&A!==26&&A!==27||q===null||(I=q,f?(q=Cr(a,p),q!=null&&T.unshift(Kl(a,q,I))):f||(q=Cr(a,p),q!=null&&T.push(Kl(a,q,I)))),a=a.return}T.length!==0&&i.push({event:r,listeners:T})}var dC=/\r\n?/g,mC=/\u0000|\uFFFD/g;function D0(i){return(typeof i=="string"?i:""+i).replace(dC,`
`).replace(mC,"")}function M0(i,r){return r=D0(r),D0(i)===r}function uh(){}function Qt(i,r,a,l,f,p){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||In(i,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&In(i,""+l);break;case"className":si(i,"class",l);break;case"tabIndex":si(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":si(i,a,l);break;case"style":ol(i,l,p);break;case"data":if(r!=="object"){si(i,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){i.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Ta(""+l),i.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(r!=="input"&&Qt(i,r,"name",f.name,f,null),Qt(i,r,"formEncType",f.formEncType,f,null),Qt(i,r,"formMethod",f.formMethod,f,null),Qt(i,r,"formTarget",f.formTarget,f,null)):(Qt(i,r,"encType",f.encType,f,null),Qt(i,r,"method",f.method,f,null),Qt(i,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Ta(""+l),i.setAttribute(a,l);break;case"onClick":l!=null&&(i.onclick=uh);break;case"onScroll":l!=null&&Vt("scroll",i);break;case"onScrollEnd":l!=null&&Vt("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}a=Ta(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""+l):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":l===!0?i.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,l):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(a,l):i.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(a):i.setAttribute(a,l);break;case"popover":Vt("beforetoggle",i),Vt("toggle",i),_s(i,"popover",l);break;case"xlinkActuate":qe(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":qe(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":qe(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":qe(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":qe(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":qe(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":qe(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":qe(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":qe(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":_s(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Qf.get(a)||a,_s(i,a,l))}}function Rm(i,r,a,l,f,p){switch(a){case"style":ol(i,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"children":typeof l=="string"?In(i,l):(typeof l=="number"||typeof l=="bigint")&&In(i,""+l);break;case"onScroll":l!=null&&Vt("scroll",i);break;case"onScrollEnd":l!=null&&Vt("scrollend",i);break;case"onClick":l!=null&&(i.onclick=uh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pa.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),p=i[Ee]||null,p=p!=null?p[a]:null,typeof p=="function"&&i.removeEventListener(r,p,f),typeof l=="function")){typeof p!="function"&&p!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(r,l,f);break t}a in i?i[a]=l:l===!0?i.setAttribute(a,""):_s(i,a,l)}}}function Ke(i,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",i),Vt("load",i);var l=!1,f=!1,p;for(p in a)if(a.hasOwnProperty(p)){var T=a[p];if(T!=null)switch(p){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Qt(i,r,p,T,a,null)}}f&&Qt(i,r,"srcSet",a.srcSet,a,null),l&&Qt(i,r,"src",a.src,a,null);return;case"input":Vt("invalid",i);var A=p=T=f=null,I=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":f=W;break;case"type":T=W;break;case"checked":I=W;break;case"defaultChecked":q=W;break;case"value":p=W;break;case"defaultValue":A=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:Qt(i,r,l,W,a,null)}}br(i,p,A,I,q,T,f,!1),_a(i);return;case"select":Vt("invalid",i),l=T=p=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":p=A;break;case"defaultValue":T=A;break;case"multiple":l=A;default:Qt(i,r,f,A,a,null)}r=p,a=T,i.multiple=!!l,r!=null?ki(i,!!l,r,!1):a!=null&&ki(i,!!l,a,!0);return;case"textarea":Vt("invalid",i),p=f=l=null;for(T in a)if(a.hasOwnProperty(T)&&(A=a[T],A!=null))switch(T){case"value":l=A;break;case"defaultValue":f=A;break;case"children":p=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:Qt(i,r,T,A,a,null)}wr(i,l,f,p),_a(i);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":i.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Qt(i,r,I,l,a,null)}return;case"dialog":Vt("beforetoggle",i),Vt("toggle",i),Vt("cancel",i),Vt("close",i);break;case"iframe":case"object":Vt("load",i);break;case"video":case"audio":for(l=0;l<Gl.length;l++)Vt(Gl[l],i);break;case"image":Vt("error",i),Vt("load",i);break;case"details":Vt("toggle",i);break;case"embed":case"source":case"link":Vt("error",i),Vt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Qt(i,r,q,l,a,null)}return;default:if(ll(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Rm(i,r,W,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&Qt(i,r,A,l,a,null))}function pC(i,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,T=null,A=null,I=null,q=null,W=null;for(K in a){var J=a[K];if(a.hasOwnProperty(K)&&J!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":I=J;default:l.hasOwnProperty(K)||Qt(i,r,K,null,l,J)}}for(var F in l){var K=l[F];if(J=a[F],l.hasOwnProperty(F)&&(K!=null||J!=null))switch(F){case"type":p=K;break;case"name":f=K;break;case"checked":q=K;break;case"defaultChecked":W=K;break;case"value":T=K;break;case"defaultValue":A=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:K!==J&&Qt(i,r,F,K,l,J)}}vn(i,T,A,I,q,W,p,f);return;case"select":K=T=A=F=null;for(p in a)if(I=a[p],a.hasOwnProperty(p)&&I!=null)switch(p){case"value":break;case"multiple":K=I;default:l.hasOwnProperty(p)||Qt(i,r,p,null,l,I)}for(f in l)if(p=l[f],I=a[f],l.hasOwnProperty(f)&&(p!=null||I!=null))switch(f){case"value":F=p;break;case"defaultValue":A=p;break;case"multiple":T=p;default:p!==I&&Qt(i,r,f,p,l,I)}r=A,a=T,l=K,F!=null?ki(i,!!a,F,!1):!!l!=!!a&&(r!=null?ki(i,!!a,r,!0):ki(i,!!a,a?[]:"",!1));return;case"textarea":K=F=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Qt(i,r,A,null,l,f)}for(T in l)if(f=l[T],p=a[T],l.hasOwnProperty(T)&&(f!=null||p!=null))switch(T){case"value":F=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&Qt(i,r,T,f,l,p)}Yt(i,F,K);return;case"option":for(var Tt in a)if(F=a[Tt],a.hasOwnProperty(Tt)&&F!=null&&!l.hasOwnProperty(Tt))switch(Tt){case"selected":i.selected=!1;break;default:Qt(i,r,Tt,null,l,F)}for(I in l)if(F=l[I],K=a[I],l.hasOwnProperty(I)&&F!==K&&(F!=null||K!=null))switch(I){case"selected":i.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Qt(i,r,I,F,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)F=a[yt],a.hasOwnProperty(yt)&&F!=null&&!l.hasOwnProperty(yt)&&Qt(i,r,yt,null,l,F);for(q in l)if(F=l[q],K=a[q],l.hasOwnProperty(q)&&F!==K&&(F!=null||K!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:Qt(i,r,q,F,l,K)}return;default:if(ll(r)){for(var Xt in a)F=a[Xt],a.hasOwnProperty(Xt)&&F!==void 0&&!l.hasOwnProperty(Xt)&&Rm(i,r,Xt,void 0,l,F);for(W in l)F=l[W],K=a[W],!l.hasOwnProperty(W)||F===K||F===void 0&&K===void 0||Rm(i,r,W,F,l,K);return}}for(var U in a)F=a[U],a.hasOwnProperty(U)&&F!=null&&!l.hasOwnProperty(U)&&Qt(i,r,U,null,l,F);for(J in l)F=l[J],K=a[J],!l.hasOwnProperty(J)||F===K||F==null&&K==null||Qt(i,r,J,F,l,K)}var Cm=null,Im=null;function ch(i){return i.nodeType===9?i:i.ownerDocument}function V0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function N0(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function xm(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Dm=null;function gC(){var i=window.event;return i&&i.type==="popstate"?i===Dm?!1:(Dm=i,!0):(Dm=null,!1)}var O0=typeof setTimeout=="function"?setTimeout:void 0,yC=typeof clearTimeout=="function"?clearTimeout:void 0,P0=typeof Promise=="function"?Promise:void 0,vC=typeof queueMicrotask=="function"?queueMicrotask:typeof P0<"u"?function(i){return P0.resolve(null).then(i).catch(_C)}:O0;function _C(i){setTimeout(function(){throw i})}function ks(i){return i==="head"}function L0(i,r){var a=r,l=0,f=0;do{var p=a.nextSibling;if(i.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"){if(0<l&&8>l){a=l;var T=i.ownerDocument;if(a&1&&Yl(T.documentElement),a&2&&Yl(T.body),a&4)for(a=T.head,Yl(a),T=a.firstChild;T;){var A=T.nextSibling,I=T.nodeName;T[Tr]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=A}}if(f===0){i.removeChild(p),eu(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=p}while(a);eu(r)}function Mm(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Mm(a),vs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function TC(i,r,a,l){for(;i.nodeType===1;){var f=a;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[Tr])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=$n(i.nextSibling),i===null)break}return null}function EC(i,r,a){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=$n(i.nextSibling),i===null))return null;return i}function Vm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function SC(i,r){var a=i.ownerDocument;if(i.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),i._reactRetry=l}}function $n(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var Nm=null;function k0(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return i;r--}else a==="/$"&&r++}i=i.previousSibling}return null}function U0(i,r,a){switch(r=ch(a),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Yl(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);vs(i)}var Un=new Map,B0=new Set;function hh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ns=st.d;st.d={f:AC,r:bC,D:wC,C:RC,L:CC,m:IC,X:DC,S:xC,M:MC};function AC(){var i=ns.f(),r=nh();return i||r}function bC(i){var r=ni(i);r!==null&&r.tag===5&&r.type==="form"?r_(r):ns.r(i)}var to=typeof document>"u"?null:document;function z0(i,r,a){var l=to;if(l&&typeof r=="string"&&r){var f=Se(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),B0.has(f)||(B0.add(f),i={rel:i,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Ke(r,"link",i),pe(r),l.head.appendChild(r)))}}function wC(i){ns.D(i),z0("dns-prefetch",i,null)}function RC(i,r){ns.C(i,r),z0("preconnect",i,r)}function CC(i,r,a){ns.L(i,r,a);var l=to;if(l&&i&&r){var f='link[rel="preload"][as="'+Se(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Se(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Se(a.imageSizes)+'"]')):f+='[href="'+Se(i)+'"]';var p=f;switch(r){case"style":p=eo(i);break;case"script":p=no(i)}Un.has(p)||(i=y({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:i,as:r},a),Un.set(p,i),l.querySelector(f)!==null||r==="style"&&l.querySelector($l(p))||r==="script"&&l.querySelector(Ql(p))||(r=l.createElement("link"),Ke(r,"link",i),pe(r),l.head.appendChild(r)))}}function IC(i,r){ns.m(i,r);var a=to;if(a&&i){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Se(l)+'"][href="'+Se(i)+'"]',p=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=no(i)}if(!Un.has(p)&&(i=y({rel:"modulepreload",href:i},r),Un.set(p,i),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ql(p)))return}l=a.createElement("link"),Ke(l,"link",i),pe(l),a.head.appendChild(l)}}}function xC(i,r,a){ns.S(i,r,a);var l=to;if(l&&i){var f=rn(l).hoistableStyles,p=eo(i);r=r||"default";var T=f.get(p);if(!T){var A={loading:0,preload:null};if(T=l.querySelector($l(p)))A.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":r},a),(a=Un.get(p))&&Om(i,a);var I=T=l.createElement("link");pe(I),Ke(I,"link",i),I._p=new Promise(function(q,W){I.onload=q,I.onerror=W}),I.addEventListener("load",function(){A.loading|=1}),I.addEventListener("error",function(){A.loading|=2}),A.loading|=4,fh(T,r,l)}T={type:"stylesheet",instance:T,count:1,state:A},f.set(p,T)}}}function DC(i,r){ns.X(i,r);var a=to;if(a&&i){var l=rn(a).hoistableScripts,f=no(i),p=l.get(f);p||(p=a.querySelector(Ql(f)),p||(i=y({src:i,async:!0},r),(r=Un.get(f))&&Pm(i,r),p=a.createElement("script"),pe(p),Ke(p,"link",i),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function MC(i,r){ns.M(i,r);var a=to;if(a&&i){var l=rn(a).hoistableScripts,f=no(i),p=l.get(f);p||(p=a.querySelector(Ql(f)),p||(i=y({src:i,async:!0,type:"module"},r),(r=Un.get(f))&&Pm(i,r),p=a.createElement("script"),pe(p),Ke(p,"link",i),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function j0(i,r,a,l){var f=(f=At.current)?hh(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=eo(a.href),a=rn(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=eo(a.href);var p=rn(f).hoistableStyles,T=p.get(i);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,T),(p=f.querySelector($l(i)))&&!p._p&&(T.instance=p,T.state.loading=5),Un.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(i,a),p||VC(f,i,a,T.state))),r&&l===null)throw Error(s(528,""));return T}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=no(a),a=rn(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function eo(i){return'href="'+Se(i)+'"'}function $l(i){return'link[rel="stylesheet"]['+i+"]"}function q0(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function VC(i,r,a,l){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=i.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Ke(r,"link",a),pe(r),i.head.appendChild(r))}function no(i){return'[src="'+Se(i)+'"]'}function Ql(i){return"script[async]"+i}function H0(i,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=i.querySelector('style[data-href~="'+Se(a.href)+'"]');if(l)return r.instance=l,pe(l),l;var f=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),pe(l),Ke(l,"style",f),fh(l,a.precedence,i),r.instance=l;case"stylesheet":f=eo(a.href);var p=i.querySelector($l(f));if(p)return r.state.loading|=4,r.instance=p,pe(p),p;l=q0(a),(f=Un.get(f))&&Om(l,f),p=(i.ownerDocument||i).createElement("link"),pe(p);var T=p;return T._p=new Promise(function(A,I){T.onload=A,T.onerror=I}),Ke(p,"link",l),r.state.loading|=4,fh(p,a.precedence,i),r.instance=p;case"script":return p=no(a.src),(f=i.querySelector(Ql(p)))?(r.instance=f,pe(f),f):(l=a,(f=Un.get(p))&&(l=y({},a),Pm(l,f)),i=i.ownerDocument||i,f=i.createElement("script"),pe(f),Ke(f,"link",l),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,fh(l,a.precedence,i));return r.instance}function fh(i,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,p=f,T=0;T<l.length;T++){var A=l[T];if(A.dataset.precedence===r)p=A;else if(p!==f)break}p?p.parentNode.insertBefore(i,p.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(i,r.firstChild))}function Om(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Pm(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var dh=null;function F0(i,r,a){if(dh===null){var l=new Map,f=dh=new Map;f.set(a,l)}else f=dh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(i))return l;for(l.set(i,null),a=a.getElementsByTagName(i),f=0;f<a.length;f++){var p=a[f];if(!(p[Tr]||p[xe]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(r)||"";T=i+T;var A=l.get(T);A?A.push(p):l.set(T,[p])}}return l}function G0(i,r,a){i=i.ownerDocument||i,i.head.insertBefore(a,r==="title"?i.querySelector("head > title"):null)}function NC(i,r,a){if(a===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function K0(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Xl=null;function OC(){}function PC(i,r,a){if(Xl===null)throw Error(s(475));var l=Xl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=eo(a.href),p=i.querySelector($l(f));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(l.count++,l=mh.bind(l),i.then(l,l)),r.state.loading|=4,r.instance=p,pe(p);return}p=i.ownerDocument||i,a=q0(a),(f=Un.get(f))&&Om(a,f),p=p.createElement("link"),pe(p);var T=p;T._p=new Promise(function(A,I){T.onload=A,T.onerror=I}),Ke(p,"link",a),r.instance=p}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=mh.bind(l),i.addEventListener("load",r),i.addEventListener("error",r))}}function LC(){if(Xl===null)throw Error(s(475));var i=Xl;return i.stylesheets&&i.count===0&&Lm(i,i.stylesheets),0<i.count?function(r){var a=setTimeout(function(){if(i.stylesheets&&Lm(i,i.stylesheets),i.unsuspend){var l=i.unsuspend;i.unsuspend=null,l()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(a)}}:null}function mh(){if(this.count--,this.count===0){if(this.stylesheets)Lm(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var ph=null;function Lm(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,ph=new Map,r.forEach(kC,i),ph=null,mh.call(i))}function kC(i,r){if(!(r.state.loading&4)){var a=ph.get(i);if(a)var l=a.get(null);else{a=new Map,ph.set(i,a);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var T=f[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),l=T)}l&&a.set(null,l)}f=r.instance,T=f.getAttribute("data-precedence"),p=a.get(T)||l,p===l&&a.set(null,f),a.set(T,f),this.count++,l=mh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),p?p.parentNode.insertBefore(f,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var Wl={$$typeof:$,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function UC(i,r,a,l,f,p,T,A){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vi(0),this.hiddenUpdates=Vi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Y0(i,r,a,l,f,p,T,A,I,q,W,J){return i=new UC(i,r,a,T,A,I,q,J),r=1,p===!0&&(r|=24),p=Tn(3,null,null,r),i.current=p,p.stateNode=i,r=yd(),r.refCount++,i.pooledCache=r,r.refCount++,p.memoizedState={element:l,isDehydrated:a,cache:r},Ed(p),i}function $0(i){return i?(i=Na,i):Na}function Q0(i,r,a,l,f,p){f=$0(f),l.context===null?l.context=f:l.pendingContext=f,l=bs(r),l.payload={element:a},p=p===void 0?null:p,p!==null&&(l.callback=p),a=ws(i,l,r),a!==null&&(wn(a,i,r),Cl(a,i,r))}function X0(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<r?a:r}}function km(i,r){X0(i,r),(i=i.alternate)&&X0(i,r)}function W0(i){if(i.tag===13){var r=Va(i,67108864);r!==null&&wn(r,i,67108864),km(i,67108864)}}var gh=!0;function BC(i,r,a,l){var f=X.T;X.T=null;var p=st.p;try{st.p=2,Um(i,r,a,l)}finally{st.p=p,X.T=f}}function zC(i,r,a,l){var f=X.T;X.T=null;var p=st.p;try{st.p=8,Um(i,r,a,l)}finally{st.p=p,X.T=f}}function Um(i,r,a,l){if(gh){var f=Bm(l);if(f===null)wm(i,r,l,yh,a),J0(i,l);else if(qC(f,i,r,a,l))l.stopPropagation();else if(J0(i,l),r&4&&-1<jC.indexOf(i)){for(;f!==null;){var p=ni(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=Hn(p.pendingLanes);if(T!==0){var A=p;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var I=1<<31-Xe(T);A.entanglements[1]|=I,T&=~I}gi(p),(Gt&6)===0&&(th=Rn()+500,Fl(0))}}break;case 13:A=Va(p,2),A!==null&&wn(A,p,2),nh(),km(p,2)}if(p=Bm(l),p===null&&wm(i,r,l,yh,a),p===f)break;f=p}f!==null&&l.stopPropagation()}else wm(i,r,l,null,a)}}function Bm(i){return i=xn(i),zm(i)}var yh=null;function zm(i){if(yh=null,i=Oi(i),i!==null){var r=u(i);if(r===null)i=null;else{var a=r.tag;if(a===13){if(i=c(r),i!==null)return i;i=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return yh=i,null}function Z0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hf()){case Qo:return 2;case ha:return 8;case pr:case Ff:return 32;case fa:return 268435456;default:return 32}default:return 32}}var jm=!1,Us=null,Bs=null,zs=null,Zl=new Map,Jl=new Map,js=[],jC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function J0(i,r){switch(i){case"focusin":case"focusout":Us=null;break;case"dragenter":case"dragleave":Bs=null;break;case"mouseover":case"mouseout":zs=null;break;case"pointerover":case"pointerout":Zl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jl.delete(r.pointerId)}}function tu(i,r,a,l,f,p){return i===null||i.nativeEvent!==p?(i={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:p,targetContainers:[f]},r!==null&&(r=ni(r),r!==null&&W0(r)),i):(i.eventSystemFlags|=l,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function qC(i,r,a,l,f){switch(r){case"focusin":return Us=tu(Us,i,r,a,l,f),!0;case"dragenter":return Bs=tu(Bs,i,r,a,l,f),!0;case"mouseover":return zs=tu(zs,i,r,a,l,f),!0;case"pointerover":var p=f.pointerId;return Zl.set(p,tu(Zl.get(p)||null,i,r,a,l,f)),!0;case"gotpointercapture":return p=f.pointerId,Jl.set(p,tu(Jl.get(p)||null,i,r,a,l,f)),!0}return!1}function tT(i){var r=Oi(i.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){i.blockedOn=r,nc(i.priority,function(){if(a.tag===13){var l=bn();l=ps(l);var f=Va(a,l);f!==null&&wn(f,a,l),km(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function vh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var a=Bm(i.nativeEvent);if(a===null){a=i.nativeEvent;var l=new a.constructor(a.type,a);Ui=l,a.target.dispatchEvent(l),Ui=null}else return r=ni(a),r!==null&&W0(r),i.blockedOn=a,!1;r.shift()}return!0}function eT(i,r,a){vh(i)&&a.delete(r)}function HC(){jm=!1,Us!==null&&vh(Us)&&(Us=null),Bs!==null&&vh(Bs)&&(Bs=null),zs!==null&&vh(zs)&&(zs=null),Zl.forEach(eT),Jl.forEach(eT)}function _h(i,r){i.blockedOn===r&&(i.blockedOn=null,jm||(jm=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,HC)))}var Th=null;function nT(i){Th!==i&&(Th=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Th===i&&(Th=null);for(var r=0;r<i.length;r+=3){var a=i[r],l=i[r+1],f=i[r+2];if(typeof l!="function"){if(zm(l||a)===null)continue;break}var p=ni(a);p!==null&&(i.splice(r,3),r-=3,zd(p,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function eu(i){function r(I){return _h(I,i)}Us!==null&&_h(Us,i),Bs!==null&&_h(Bs,i),zs!==null&&_h(zs,i),Zl.forEach(r),Jl.forEach(r);for(var a=0;a<js.length;a++){var l=js[a];l.blockedOn===i&&(l.blockedOn=null)}for(;0<js.length&&(a=js[0],a.blockedOn===null);)tT(a),a.blockedOn===null&&js.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],p=a[l+1],T=f[Ee]||null;if(typeof p=="function")T||nT(a);else if(T){var A=null;if(p&&p.hasAttribute("formAction")){if(f=p,T=p[Ee]||null)A=T.formAction;else if(zm(f)!==null)continue}else A=T.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),nT(a)}}}function qm(i){this._internalRoot=i}Eh.prototype.render=qm.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=bn();Q0(a,l,i,r,null,null)},Eh.prototype.unmount=qm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;Q0(i.current,2,null,i,null,null),nh(),r[Cn]=null}};function Eh(i){this._internalRoot=i}Eh.prototype.unstable_scheduleHydration=function(i){if(i){var r=gs();i={blockedOn:null,target:i,priority:r};for(var a=0;a<js.length&&r!==0&&r<js[a].priority;a++);js.splice(a,0,i),a===0&&tT(i)}};var iT=t.version;if(iT!=="19.1.1")throw Error(s(527,iT,"19.1.1"));st.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=m(r),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var FC={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sh.isDisabled&&Sh.supportsFiber)try{he=Sh.inject(FC),Ft=Sh}catch{}}return iu.createRoot=function(i,r){if(!o(i))throw Error(s(299));var a=!1,l="",f=__,p=T_,T=E_,A=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(A=r.unstable_transitionCallbacks)),r=Y0(i,1,!1,null,null,a,l,f,p,T,A,null),i[Cn]=r.current,bm(i),new qm(r)},iu.hydrateRoot=function(i,r,a){if(!o(i))throw Error(s(299));var l=!1,f="",p=__,T=T_,A=E_,I=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),r=Y0(i,1,!0,r,a??null,l,f,p,T,A,I,q),r.context=$0(null),a=r.current,l=bn(),l=ps(l),f=bs(l),f.callback=null,ws(a,f,l),a=l,r.current.lanes=a,Ni(r,a),gi(r),i[Cn]=r.current,bm(i),new Eh(r)},iu.version="19.1.1",iu}var dT;function tI(){if(dT)return Gm.exports;dT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Gm.exports=JC(),Gm.exports}var eI=tI();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var mT="popstate";function nI(e={}){function t(s,o){let{pathname:u,search:c,hash:d}=s.location;return wp("",{pathname:u,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Su(o)}return sI(t,n,null,e)}function ae(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Wn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function iI(){return Math.random().toString(36).substring(2,10)}function pT(e,t){return{usr:e.state,key:e.key,idx:t}}function wp(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Oo(t):t,state:n,key:t&&t.key||s||iI()}}function Su({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Oo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function sI(e,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,c=o.history,d="POP",m=null,g=y();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function y(){return(c.state||{idx:null}).idx}function E(){d="POP";let k=y(),G=k==null?null:k-g;g=k,m&&m({action:d,location:H.location,delta:G})}function S(k,G){d="PUSH";let Y=wp(H.location,k,G);g=y()+1;let $=pT(Y,g),lt=H.createHref(Y);try{c.pushState($,"",lt)}catch(it){if(it instanceof DOMException&&it.name==="DataCloneError")throw it;o.location.assign(lt)}u&&m&&m({action:d,location:H.location,delta:1})}function C(k,G){d="REPLACE";let Y=wp(H.location,k,G);g=y();let $=pT(Y,g),lt=H.createHref(Y);c.replaceState($,"",lt),u&&m&&m({action:d,location:H.location,delta:0})}function P(k){return rI(k)}let H={get action(){return d},get location(){return e(o,c)},listen(k){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(mT,E),m=k,()=>{o.removeEventListener(mT,E),m=null}},createHref(k){return t(o,k)},createURL:P,encodeLocation(k){let G=P(k);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:S,replace:C,go(k){return c.go(k)}};return H}function rI(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ae(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Su(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function dA(e,t,n="/"){return aI(e,t,n,!1)}function aI(e,t,n,s){let o=typeof t=="string"?Oo(t):t,u=as(o.pathname||"/",n);if(u==null)return null;let c=mA(e);oI(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let g=vI(u);d=gI(c[m],g,s)}return d}function mA(e,t=[],n=[],s="",o=!1){let u=(c,d,m=o,g)=>{let y={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&m)return;ae(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let E=rs([s,y.relativePath]),S=n.concat(y);c.children&&c.children.length>0&&(ae(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),mA(c.children,t,S,E,m)),!(c.path==null&&!c.index)&&t.push({path:E,score:mI(E,c.index),routesMeta:S})};return e.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))u(c,d);else for(let m of pA(c.path))u(c,d,!0,m)}),t}function pA(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let c=pA(s.join("/")),d=[];return d.push(...c.map(m=>m===""?u:[u,m].join("/"))),o&&d.push(...c),d.map(m=>e.startsWith("/")&&m===""?"/":m)}function oI(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:pI(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var lI=/^:[\w-]+$/,uI=3,cI=2,hI=1,fI=10,dI=-2,gT=e=>e==="*";function mI(e,t){let n=e.split("/"),s=n.length;return n.some(gT)&&(s+=dI),t&&(s+=cI),n.filter(o=>!gT(o)).reduce((o,u)=>o+(lI.test(u)?uI:u===""?hI:fI),s)}function pI(e,t){return e.length===t.length&&e.slice(0,-1).every((s,o)=>s===t[o])?e[e.length-1]-t[t.length-1]:0}function gI(e,t,n=!1){let{routesMeta:s}=e,o={},u="/",c=[];for(let d=0;d<s.length;++d){let m=s[d],g=d===s.length-1,y=u==="/"?t:t.slice(u.length)||"/",E=Jh({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},y),S=m.route;if(!E&&g&&n&&!s[s.length-1].route.index&&(E=Jh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!E)return null;Object.assign(o,E.params),c.push({params:o,pathname:rs([u,E.pathname]),pathnameBase:SI(rs([u,E.pathnameBase])),route:S}),E.pathnameBase!=="/"&&(u=rs([u,E.pathnameBase]))}return c}function Jh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=yI(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,{paramName:y,isOptional:E},S)=>{if(y==="*"){let P=d[S]||"";c=u.slice(0,u.length-P.length).replace(/(.)\/+$/,"$1")}const C=d[S];return E&&!C?g[y]=void 0:g[y]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:c,pattern:e}}function yI(e,t=!1,n=!0){Wn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function vI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Wn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function as(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function _I(e,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof e=="string"?Oo(e):e;return{pathname:n?n.startsWith("/")?n:TI(n,t):t,search:AI(s),hash:bI(o)}}function TI(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Qm(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function EI(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function bg(e){let t=EI(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function wg(e,t,n,s=!1){let o;typeof e=="string"?o=Oo(e):(o={...e},ae(!o.pathname||!o.pathname.includes("?"),Qm("?","pathname","search",o)),ae(!o.pathname||!o.pathname.includes("#"),Qm("#","pathname","hash",o)),ae(!o.search||!o.search.includes("#"),Qm("#","search","hash",o)));let u=e===""||o.pathname==="",c=u?"/":o.pathname,d;if(c==null)d=n;else{let E=t.length-1;if(!s&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),E-=1;o.pathname=S.join("/")}d=E>=0?t[E]:"/"}let m=_I(o,d),g=c&&c!=="/"&&c.endsWith("/"),y=(u||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||y)&&(m.pathname+="/"),m}var rs=e=>e.join("/").replace(/\/\/+/g,"/"),SI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),AI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,bI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function wI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var gA=["POST","PUT","PATCH","DELETE"];new Set(gA);var RI=["GET",...gA];new Set(RI);var Po=B.createContext(null);Po.displayName="DataRouter";var Sf=B.createContext(null);Sf.displayName="DataRouterState";B.createContext(!1);var yA=B.createContext({isTransitioning:!1});yA.displayName="ViewTransition";var CI=B.createContext(new Map);CI.displayName="Fetchers";var II=B.createContext(null);II.displayName="Await";var Jn=B.createContext(null);Jn.displayName="Navigation";var Lu=B.createContext(null);Lu.displayName="Location";var Di=B.createContext({outlet:null,matches:[],isDataRoute:!1});Di.displayName="Route";var Rg=B.createContext(null);Rg.displayName="RouteError";function xI(e,{relative:t}={}){ae(Lo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=B.useContext(Jn),{hash:o,pathname:u,search:c}=ku(e,{relative:t}),d=u;return n!=="/"&&(d=u==="/"?n:rs([n,u])),s.createHref({pathname:d,search:c,hash:o})}function Lo(){return B.useContext(Lu)!=null}function ur(){return ae(Lo(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(Lu).location}var vA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _A(e){B.useContext(Jn).static||B.useLayoutEffect(e)}function TA(){let{isDataRoute:e}=B.useContext(Di);return e?qI():DI()}function DI(){ae(Lo(),"useNavigate() may be used only in the context of a <Router> component.");let e=B.useContext(Po),{basename:t,navigator:n}=B.useContext(Jn),{matches:s}=B.useContext(Di),{pathname:o}=ur(),u=JSON.stringify(bg(s)),c=B.useRef(!1);return _A(()=>{c.current=!0}),B.useCallback((m,g={})=>{if(Wn(c.current,vA),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=wg(m,JSON.parse(u),o,g.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:rs([t,y.pathname])),(g.replace?n.replace:n.push)(y,g.state,g)},[t,n,u,o,e])}B.createContext(null);function ku(e,{relative:t}={}){let{matches:n}=B.useContext(Di),{pathname:s}=ur(),o=JSON.stringify(bg(n));return B.useMemo(()=>wg(e,JSON.parse(o),s,t==="path"),[e,o,s,t])}function MI(e,t){return EA(e,t)}function EA(e,t,n,s,o){ae(Lo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=B.useContext(Jn),{matches:c}=B.useContext(Di),d=c[c.length-1],m=d?d.params:{},g=d?d.pathname:"/",y=d?d.pathnameBase:"/",E=d&&d.route;{let Y=E&&E.path||"";SA(g,!E||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let S=ur(),C;if(t){let Y=typeof t=="string"?Oo(t):t;ae(y==="/"||Y.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),C=Y}else C=S;let P=C.pathname||"/",H=P;if(y!=="/"){let Y=y.replace(/^\//,"").split("/");H="/"+P.replace(/^\//,"").split("/").slice(Y.length).join("/")}let k=dA(e,{pathname:H});Wn(E||k!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Wn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=LI(k&&k.map(Y=>Object.assign({},Y,{params:Object.assign({},m,Y.params),pathname:rs([y,u.encodeLocation?u.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?y:rs([y,u.encodeLocation?u.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),c,n,s,o);return t&&G?B.createElement(Lu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},G):G}function VI(){let e=jI(),t=wI(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:u},"ErrorBoundary")," or"," ",B.createElement("code",{style:u},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},t),n?B.createElement("pre",{style:o},n):null,c)}var NI=B.createElement(VI,null),OI=class extends B.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?B.createElement(Di.Provider,{value:this.props.routeContext},B.createElement(Rg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function PI({routeContext:e,match:t,children:n}){let s=B.useContext(Po);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),B.createElement(Di.Provider,{value:e},n)}function LI(e,t=[],n=null,s=null,o=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let u=e,c=n?.errors;if(c!=null){let g=u.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);ae(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let d=!1,m=-1;if(n)for(let g=0;g<u.length;g++){let y=u[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:E,errors:S}=n,C=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!S||S[y.route.id]===void 0);if(y.route.lazy||C){d=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}return u.reduceRight((g,y,E)=>{let S,C=!1,P=null,H=null;n&&(S=c&&y.route.id?c[y.route.id]:void 0,P=y.route.errorElement||NI,d&&(m<0&&E===0?(SA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,H=null):m===E&&(C=!0,H=y.route.hydrateFallbackElement||null)));let k=t.concat(u.slice(0,E+1)),G=()=>{let Y;return S?Y=P:C?Y=H:y.route.Component?Y=B.createElement(y.route.Component,null):y.route.element?Y=y.route.element:Y=g,B.createElement(PI,{match:y,routeContext:{outlet:g,matches:k,isDataRoute:n!=null},children:Y})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?B.createElement(OI,{location:n.location,revalidation:n.revalidation,component:P,error:S,children:G(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:s}):G()},null)}function Cg(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kI(e){let t=B.useContext(Po);return ae(t,Cg(e)),t}function UI(e){let t=B.useContext(Sf);return ae(t,Cg(e)),t}function BI(e){let t=B.useContext(Di);return ae(t,Cg(e)),t}function Ig(e){let t=BI(e),n=t.matches[t.matches.length-1];return ae(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function zI(){return Ig("useRouteId")}function jI(){let e=B.useContext(Rg),t=UI("useRouteError"),n=Ig("useRouteError");return e!==void 0?e:t.errors?.[n]}function qI(){let{router:e}=kI("useNavigate"),t=Ig("useNavigate"),n=B.useRef(!1);return _A(()=>{n.current=!0}),B.useCallback(async(o,u={})=>{Wn(n.current,vA),n.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:t,...u}))},[e,t])}var yT={};function SA(e,t,n){!t&&!yT[e]&&(yT[e]=!0,Wn(!1,n))}B.memo(HI);function HI({routes:e,future:t,state:n,unstable_onError:s}){return EA(e,void 0,n,s,t)}function FI({to:e,replace:t,state:n,relative:s}){ae(Lo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=B.useContext(Jn);Wn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=B.useContext(Di),{pathname:c}=ur(),d=TA(),m=wg(e,bg(u),c,s==="path"),g=JSON.stringify(m);return B.useEffect(()=>{d(JSON.parse(g),{replace:t,state:n,relative:s})},[d,g,s,t,n]),null}function Rp(e){ae(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function GI({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ae(!Lo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=B.useMemo(()=>({basename:c,navigator:o,static:u,future:{}}),[c,o,u]);typeof n=="string"&&(n=Oo(n));let{pathname:m="/",search:g="",hash:y="",state:E=null,key:S="default"}=n,C=B.useMemo(()=>{let P=as(m,c);return P==null?null:{location:{pathname:P,search:g,hash:y,state:E,key:S},navigationType:s}},[c,m,g,y,E,S,s]);return Wn(C!=null,`<Router basename="${c}"> is not able to match the URL "${m}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:B.createElement(Jn.Provider,{value:d},B.createElement(Lu.Provider,{children:t,value:C}))}function KI({children:e,location:t}){return MI(Cp(e),t)}function Cp(e,t=[]){let n=[];return B.Children.forEach(e,(s,o)=>{if(!B.isValidElement(s))return;let u=[...t,o];if(s.type===B.Fragment){n.push.apply(n,Cp(s.props.children,u));return}ae(s.type===Rp,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ae(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Cp(s.props.children,u)),n.push(c)}),n}var Uh="get",Bh="application/x-www-form-urlencoded";function Af(e){return e!=null&&typeof e.tagName=="string"}function YI(e){return Af(e)&&e.tagName.toLowerCase()==="button"}function $I(e){return Af(e)&&e.tagName.toLowerCase()==="form"}function QI(e){return Af(e)&&e.tagName.toLowerCase()==="input"}function XI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function WI(e,t){return e.button===0&&(!t||t==="_self")&&!XI(e)}var Ah=null;function ZI(){if(Ah===null)try{new FormData(document.createElement("form"),0),Ah=!1}catch{Ah=!0}return Ah}var JI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xm(e){return e!=null&&!JI.has(e)?(Wn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bh}"`),null):e}function t2(e,t){let n,s,o,u,c;if($I(e)){let d=e.getAttribute("action");s=d?as(d,t):null,n=e.getAttribute("method")||Uh,o=Xm(e.getAttribute("enctype"))||Bh,u=new FormData(e)}else if(YI(e)||QI(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||d.getAttribute("action");if(s=m?as(m,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||Uh,o=Xm(e.getAttribute("formenctype"))||Xm(d.getAttribute("enctype"))||Bh,u=new FormData(d,e),!ZI()){let{name:g,type:y,value:E}=e;if(y==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,E)}}else{if(Af(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Uh,s=null,o=Bh,c=e}return u&&o==="text/plain"&&(c=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function xg(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function e2(e,t,n){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&as(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function n2(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function i2(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function s2(e,t,n){let s=await Promise.all(e.map(async o=>{let u=t.routes[o.route.id];if(u){let c=await n2(u,n);return c.links?c.links():[]}return[]}));return l2(s.flat(1).filter(i2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function vT(e,t,n,s,o,u){let c=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,d=(m,g)=>n[g].pathname!==m.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==m.params["*"];return u==="assets"?t.filter((m,g)=>c(m,g)||d(m,g)):u==="data"?t.filter((m,g)=>{let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function r2(e,t,{includeHydrateFallback:n}={}){return a2(e.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function a2(e){return[...new Set(e)]}function o2(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function l2(e,t){let n=new Set;return new Set(t),e.reduce((s,o)=>{let u=JSON.stringify(o2(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function AA(){let e=B.useContext(Po);return xg(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function u2(){let e=B.useContext(Sf);return xg(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Dg=B.createContext(void 0);Dg.displayName="FrameworkContext";function bA(){let e=B.useContext(Dg);return xg(e,"You must render this element inside a <HydratedRouter> element"),e}function c2(e,t){let n=B.useContext(Dg),[s,o]=B.useState(!1),[u,c]=B.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:y,onTouchStart:E}=t,S=B.useRef(null);B.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let H=G=>{G.forEach(Y=>{c(Y.isIntersecting)})},k=new IntersectionObserver(H,{threshold:.5});return S.current&&k.observe(S.current),()=>{k.disconnect()}}},[e]),B.useEffect(()=>{if(s){let H=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(H)}}},[s]);let C=()=>{o(!0)},P=()=>{o(!1),c(!1)};return n?e!=="intent"?[u,S,{}]:[u,S,{onFocus:su(d,C),onBlur:su(m,P),onMouseEnter:su(g,C),onMouseLeave:su(y,P),onTouchStart:su(E,C)}]:[!1,S,{}]}function su(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function h2({page:e,...t}){let{router:n}=AA(),s=B.useMemo(()=>dA(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?B.createElement(d2,{page:e,matches:s,...t}):null}function f2(e){let{manifest:t,routeModules:n}=bA(),[s,o]=B.useState([]);return B.useEffect(()=>{let u=!1;return s2(e,t,n).then(c=>{u||o(c)}),()=>{u=!0}},[e,t,n]),s}function d2({page:e,matches:t,...n}){let s=ur(),{manifest:o,routeModules:u}=bA(),{basename:c}=AA(),{loaderData:d,matches:m}=u2(),g=B.useMemo(()=>vT(e,t,m,o,s,"data"),[e,t,m,o,s]),y=B.useMemo(()=>vT(e,t,m,o,s,"assets"),[e,t,m,o,s]),E=B.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let P=new Set,H=!1;if(t.forEach(G=>{let Y=o.routes[G.route.id];!Y||!Y.hasLoader||(!g.some($=>$.route.id===G.route.id)&&G.route.id in d&&u[G.route.id]?.shouldRevalidate||Y.hasClientLoader?H=!0:P.add(G.route.id))}),P.size===0)return[];let k=e2(e,c,"data");return H&&P.size>0&&k.searchParams.set("_routes",t.filter(G=>P.has(G.route.id)).map(G=>G.route.id).join(",")),[k.pathname+k.search]},[c,d,s,o,g,t,e,u]),S=B.useMemo(()=>r2(y,o),[y,o]),C=f2(y);return B.createElement(B.Fragment,null,E.map(P=>B.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),S.map(P=>B.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),C.map(({key:P,link:H})=>B.createElement("link",{key:P,nonce:n.nonce,...H})))}function m2(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var wA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wA&&(window.__reactRouterVersion="7.9.1")}catch{}function p2({basename:e,children:t,window:n}){let s=B.useRef();s.current==null&&(s.current=nI({window:n,v5Compat:!0}));let o=s.current,[u,c]=B.useState({action:o.action,location:o.location}),d=B.useCallback(m=>{B.startTransition(()=>c(m))},[c]);return B.useLayoutEffect(()=>o.listen(d),[o,d]),B.createElement(GI,{basename:e,children:t,location:u.location,navigationType:u.action,navigator:o})}var RA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,CA=B.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:c,state:d,target:m,to:g,preventScrollReset:y,viewTransition:E,...S},C){let{basename:P}=B.useContext(Jn),H=typeof g=="string"&&RA.test(g),k,G=!1;if(typeof g=="string"&&H&&(k=g,wA))try{let R=new URL(window.location.href),D=g.startsWith("//")?new URL(R.protocol+g):new URL(g),N=as(D.pathname,P);D.origin===R.origin&&N!=null?g=N+D.search+D.hash:G=!0}catch{Wn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=xI(g,{relative:o}),[$,lt,it]=c2(s,S),dt=_2(g,{replace:c,state:d,target:m,preventScrollReset:y,relative:o,viewTransition:E});function V(R){t&&t(R),R.defaultPrevented||dt(R)}let w=B.createElement("a",{...S,...it,href:k||Y,onClick:G||u?t:V,ref:m2(C,lt),target:m,"data-discover":!H&&n==="render"?"true":void 0});return $&&!H?B.createElement(B.Fragment,null,w,B.createElement(h2,{page:Y})):w});CA.displayName="Link";var g2=B.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:c,viewTransition:d,children:m,...g},y){let E=ku(c,{relative:g.relative}),S=ur(),C=B.useContext(Sf),{navigator:P,basename:H}=B.useContext(Jn),k=C!=null&&b2(E)&&d===!0,G=P.encodeLocation?P.encodeLocation(E).pathname:E.pathname,Y=S.pathname,$=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(Y=Y.toLowerCase(),$=$?$.toLowerCase():null,G=G.toLowerCase()),$&&H&&($=as($,H)||$);const lt=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let it=Y===G||!o&&Y.startsWith(G)&&Y.charAt(lt)==="/",dt=$!=null&&($===G||!o&&$.startsWith(G)&&$.charAt(G.length)==="/"),V={isActive:it,isPending:dt,isTransitioning:k},w=it?t:void 0,R;typeof s=="function"?R=s(V):R=[s,it?"active":null,dt?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let D=typeof u=="function"?u(V):u;return B.createElement(CA,{...g,"aria-current":w,className:R,ref:y,style:D,to:c,viewTransition:d},typeof m=="function"?m(V):m)});g2.displayName="NavLink";var y2=B.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:c=Uh,action:d,onSubmit:m,relative:g,preventScrollReset:y,viewTransition:E,...S},C)=>{let P=S2(),H=A2(d,{relative:g}),k=c.toLowerCase()==="get"?"get":"post",G=typeof d=="string"&&RA.test(d),Y=$=>{if(m&&m($),$.defaultPrevented)return;$.preventDefault();let lt=$.nativeEvent.submitter,it=lt?.getAttribute("formmethod")||c;P(lt||$.currentTarget,{fetcherKey:t,method:it,navigate:n,replace:o,state:u,relative:g,preventScrollReset:y,viewTransition:E})};return B.createElement("form",{ref:C,method:k,action:H,onSubmit:s?m:Y,...S,"data-discover":!G&&e==="render"?"true":void 0})});y2.displayName="Form";function v2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IA(e){let t=B.useContext(Po);return ae(t,v2(e)),t}function _2(e,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:c}={}){let d=TA(),m=ur(),g=ku(e,{relative:u});return B.useCallback(y=>{if(WI(y,t)){y.preventDefault();let E=n!==void 0?n:Su(m)===Su(g);d(e,{replace:E,state:s,preventScrollReset:o,relative:u,viewTransition:c})}},[m,d,g,n,s,t,e,o,u,c])}var T2=0,E2=()=>`__${String(++T2)}__`;function S2(){let{router:e}=IA("useSubmit"),{basename:t}=B.useContext(Jn),n=zI();return B.useCallback(async(s,o={})=>{let{action:u,method:c,encType:d,formData:m,body:g}=t2(s,t);if(o.navigate===!1){let y=o.fetcherKey||E2();await e.fetch(y,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await e.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,n])}function A2(e,{relative:t}={}){let{basename:n}=B.useContext(Jn),s=B.useContext(Di);ae(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...ku(e||".",{relative:t})},c=ur();if(e==null){u.search=c.search;let d=new URLSearchParams(u.search),m=d.getAll("index");if(m.some(y=>y==="")){d.delete("index"),m.filter(E=>E).forEach(E=>d.append("index",E));let y=d.toString();u.search=y?`?${y}`:""}}return(!e||e===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:rs([n,u.pathname])),Su(u)}function b2(e,{relative:t}={}){let n=B.useContext(yA);ae(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=IA("useViewTransitionState"),o=ku(e,{relative:t});if(!n.isTransitioning)return!1;let u=as(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=as(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Jh(o.pathname,c)!=null||Jh(o.pathname,u)!=null}const w2=()=>{};var _T={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let o=e.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},R2=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const o=e[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=e[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=e[n++],c=e[n++],d=e[n++],m=((o&7)<<18|(u&63)<<12|(c&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(m>>10)),t[s++]=String.fromCharCode(56320+(m&1023))}else{const u=e[n++],c=e[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},DA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<e.length;o+=3){const u=e[o],c=o+1<e.length,d=c?e[o+1]:0,m=o+2<e.length,g=m?e[o+2]:0,y=u>>2,E=(u&3)<<4|d>>4;let S=(d&15)<<2|g>>6,C=g&63;m||(C=64,c||(S=64)),s.push(n[y],n[E],n[S],n[C])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(xA(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):R2(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<e.length;){const u=n[e.charAt(o++)],d=o<e.length?n[e.charAt(o)]:0;++o;const g=o<e.length?n[e.charAt(o)]:64;++o;const E=o<e.length?n[e.charAt(o)]:64;if(++o,u==null||d==null||g==null||E==null)throw new C2;const S=u<<2|d>>4;if(s.push(S),g!==64){const C=d<<4&240|g>>2;if(s.push(C),E!==64){const P=g<<6&192|E;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class C2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const I2=function(e){const t=xA(e);return DA.encodeByteArray(t,!0)},MA=function(e){return I2(e).replace(/\./g,"")},VA=function(e){try{return DA.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=()=>x2().__FIREBASE_DEFAULTS__,M2=()=>{if(typeof process>"u"||typeof _T>"u")return;const e=_T.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},V2=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&VA(e[1]);return t&&JSON.parse(t)},bf=()=>{try{return w2()||D2()||M2()||V2()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},N2=e=>bf()?.emulatorHosts?.[e],NA=()=>bf()?.config,OA=e=>bf()?.[`_${e}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function PA(e){return(await fetch(e,{credentials:"include"})).ok}const hu={};function P2(){const e={prod:[],emulator:[]};for(const t of Object.keys(hu))hu[t]?e.emulator.push(t):e.prod.push(t);return e}function L2(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let TT=!1;function k2(e,t){if(typeof window>"u"||typeof document>"u"||!ko(window.location.host)||hu[e]===t||hu[e]||TT)return;hu[e]=t;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=P2().prod.length>0;function c(){const S=document.getElementById(s);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function m(S,C){S.setAttribute("width","24"),S.setAttribute("id",C),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{TT=!0,c()},S}function y(S,C){S.setAttribute("id",C),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function E(){const S=L2(s),C=n("text"),P=document.getElementById(C)||document.createElement("span"),H=n("learnmore"),k=document.getElementById(H)||document.createElement("a"),G=n("preprendIcon"),Y=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const $=S.element;d($),y(k,H);const lt=g();m(Y,G),$.append(Y,P,k,lt),document.body.appendChild($)}u?(P.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function U2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function B2(){const e=bf()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function z2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function j2(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function q2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function H2(){const e=sn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function F2(){return!B2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function G2(){try{return typeof indexedDB=="object"}catch{return!1}}function K2(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2="FirebaseError";class ds extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=Y2,Object.setPrototypeOf(this,ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uu.prototype.create)}}class Uu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?$2(u,s):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new ds(o,d,s)}}function $2(e,t){return e.replace(Q2,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const Q2=/\{\$([^}]+)}/g;function X2(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function aa(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=e[o],c=t[o];if(ET(u)&&ET(c)){if(!aa(u,c))return!1}else if(u!==c)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function ET(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function W2(e,t){const n=new Z2(e,t);return n.subscribe.bind(n)}class Z2{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");J2(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=Wm),o.error===void 0&&(o.error=Wm),o.complete===void 0&&(o.complete=Wm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function J2(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Wm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(e){return e&&e._delegate?e._delegate:e}class oa{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new O2;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(nx(t))try{this.getOrInitializeService({instanceIdentifier:Xr})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Xr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Xr){return this.instances.has(t)}getOptions(t=Xr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&c.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:ex(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Xr){return this.component?this.component.multipleInstances?t:Xr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ex(e){return e===Xr?void 0:e}function nx(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new tx(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Nt||(Nt={}));const sx={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},rx=Nt.INFO,ax={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},ox=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),o=ax[t];if(o)console[o](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Mg{constructor(t){this.name=t,this._logLevel=rx,this._logHandler=ox,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?sx[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const lx=(e,t)=>t.some(n=>e instanceof n);let ST,AT;function ux(){return ST||(ST=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cx(){return AT||(AT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LA=new WeakMap,Ip=new WeakMap,kA=new WeakMap,Zm=new WeakMap,Vg=new WeakMap;function hx(e){const t=new Promise((n,s)=>{const o=()=>{e.removeEventListener("success",u),e.removeEventListener("error",c)},u=()=>{n(Ws(e.result)),o()},c=()=>{s(e.error),o()};e.addEventListener("success",u),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&LA.set(n,e)}).catch(()=>{}),Vg.set(t,e),t}function fx(e){if(Ip.has(e))return;const t=new Promise((n,s)=>{const o=()=>{e.removeEventListener("complete",u),e.removeEventListener("error",c),e.removeEventListener("abort",c)},u=()=>{n(),o()},c=()=>{s(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",u),e.addEventListener("error",c),e.addEventListener("abort",c)});Ip.set(e,t)}let xp={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Ip.get(e);if(t==="objectStoreNames")return e.objectStoreNames||kA.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ws(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function dx(e){xp=e(xp)}function mx(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(Jm(this),t,...n);return kA.set(s,t.sort?t.sort():[t]),Ws(s)}:cx().includes(e)?function(...t){return e.apply(Jm(this),t),Ws(LA.get(this))}:function(...t){return Ws(e.apply(Jm(this),t))}}function px(e){return typeof e=="function"?mx(e):(e instanceof IDBTransaction&&fx(e),lx(e,ux())?new Proxy(e,xp):e)}function Ws(e){if(e instanceof IDBRequest)return hx(e);if(Zm.has(e))return Zm.get(e);const t=px(e);return t!==e&&(Zm.set(e,t),Vg.set(t,e)),t}const Jm=e=>Vg.get(e);function gx(e,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const c=indexedDB.open(e,t),d=Ws(c);return s&&c.addEventListener("upgradeneeded",m=>{s(Ws(c.result),m.oldVersion,m.newVersion,Ws(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const yx=["get","getKey","getAll","getAllKeys","count"],vx=["put","add","delete","clear"],tp=new Map;function bT(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(tp.get(t))return tp.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=vx.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||yx.includes(n)))return;const u=async function(c,...d){const m=this.transaction(c,o?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),o&&m.done]))[0]};return tp.set(t,u),u}dx(e=>({...e,get:(t,n,s)=>bT(t,n)||e.get(t,n,s),has:(t,n)=>!!bT(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Tx(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Tx(e){return e.getComponent()?.type==="VERSION"}const Dp="@firebase/app",wT="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os=new Mg("@firebase/app"),Ex="@firebase/app-compat",Sx="@firebase/analytics-compat",Ax="@firebase/analytics",bx="@firebase/app-check-compat",wx="@firebase/app-check",Rx="@firebase/auth",Cx="@firebase/auth-compat",Ix="@firebase/database",xx="@firebase/data-connect",Dx="@firebase/database-compat",Mx="@firebase/functions",Vx="@firebase/functions-compat",Nx="@firebase/installations",Ox="@firebase/installations-compat",Px="@firebase/messaging",Lx="@firebase/messaging-compat",kx="@firebase/performance",Ux="@firebase/performance-compat",Bx="@firebase/remote-config",zx="@firebase/remote-config-compat",jx="@firebase/storage",qx="@firebase/storage-compat",Hx="@firebase/firestore",Fx="@firebase/ai",Gx="@firebase/firestore-compat",Kx="firebase",Yx="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp="[DEFAULT]",$x={[Dp]:"fire-core",[Ex]:"fire-core-compat",[Ax]:"fire-analytics",[Sx]:"fire-analytics-compat",[wx]:"fire-app-check",[bx]:"fire-app-check-compat",[Rx]:"fire-auth",[Cx]:"fire-auth-compat",[Ix]:"fire-rtdb",[xx]:"fire-data-connect",[Dx]:"fire-rtdb-compat",[Mx]:"fire-fn",[Vx]:"fire-fn-compat",[Nx]:"fire-iid",[Ox]:"fire-iid-compat",[Px]:"fire-fcm",[Lx]:"fire-fcm-compat",[kx]:"fire-perf",[Ux]:"fire-perf-compat",[Bx]:"fire-rc",[zx]:"fire-rc-compat",[jx]:"fire-gcs",[qx]:"fire-gcs-compat",[Hx]:"fire-fst",[Gx]:"fire-fst-compat",[Fx]:"fire-vertex","fire-js":"fire-js",[Kx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf=new Map,Qx=new Map,Vp=new Map;function RT(e,t){try{e.container.addComponent(t)}catch(n){os.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ao(e){const t=e.name;if(Vp.has(t))return os.debug(`There were multiple attempts to register component ${t}.`),!1;Vp.set(t,e);for(const n of tf.values())RT(n,e);for(const n of Qx.values())RT(n,e);return!0}function Ng(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function vi(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zs=new Uu("app","Firebase",Xx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new oa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Zs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=Yx;function Og(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s={name:Mp,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw Zs.create("bad-app-name",{appName:String(o)});if(n||(n=NA()),!n)throw Zs.create("no-options");const u=tf.get(o);if(u){if(aa(n,u.options)&&aa(s,u.config))return u;throw Zs.create("duplicate-app",{appName:o})}const c=new ix(o);for(const m of Vp.values())c.addComponent(m);const d=new Wx(n,s,c);return tf.set(o,d),d}function Zx(e=Mp){const t=tf.get(e);if(!t&&e===Mp&&NA())return Og();if(!t)throw Zs.create("no-app",{appName:e});return t}function Js(e,t,n){let s=$x[e]??e;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${s}" with version "${t}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),os.warn(c.join(" "));return}Ao(new oa(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="firebase-heartbeat-database",tD=1,Au="firebase-heartbeat-store";let ep=null;function UA(){return ep||(ep=gx(Jx,tD,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Au)}catch(n){console.warn(n)}}}}).catch(e=>{throw Zs.create("idb-open",{originalErrorMessage:e.message})})),ep}async function eD(e){try{const n=(await UA()).transaction(Au),s=await n.objectStore(Au).get(BA(e));return await n.done,s}catch(t){if(t instanceof ds)os.warn(t.message);else{const n=Zs.create("idb-get",{originalErrorMessage:t?.message});os.warn(n.message)}}}async function CT(e,t){try{const s=(await UA()).transaction(Au,"readwrite");await s.objectStore(Au).put(t,BA(e)),await s.done}catch(n){if(n instanceof ds)os.warn(n.message);else{const s=Zs.create("idb-set",{originalErrorMessage:n?.message});os.warn(s.message)}}}function BA(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=1024,iD=30;class sD{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aD(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=IT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>iD){const o=oD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){os.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=IT(),{heartbeatsToSend:n,unsentEntries:s}=rD(this._heartbeatsCache.heartbeats),o=MA(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return os.warn(t),""}}}function IT(){return new Date().toISOString().substring(0,10)}function rD(e,t=nD){const n=[];let s=e.slice();for(const o of e){const u=n.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),xT(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),xT(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class aD{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return G2()?K2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await eD(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return CT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return CT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function xT(e){return MA(JSON.stringify({version:2,heartbeats:e})).length}function oD(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(e){Ao(new oa("platform-logger",t=>new _x(t),"PRIVATE")),Ao(new oa("heartbeat",t=>new sD(t),"PRIVATE")),Js(Dp,wT,e),Js(Dp,wT,"esm2020"),Js("fire-js","")}lD("");var DT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tr,zA;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,w){function R(){}R.prototype=w.prototype,V.D=w.prototype,V.prototype=new R,V.prototype.constructor=V,V.C=function(D,N,L){for(var x=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)x[ce-2]=arguments[ce];return w.prototype[N].apply(D,x)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,w,R){R||(R=0);var D=Array(16);if(typeof w=="string")for(var N=0;16>N;++N)D[N]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(N=0;16>N;++N)D[N]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=V.g[0],R=V.g[1],N=V.g[2];var L=V.g[3],x=w+(L^R&(N^L))+D[0]+3614090360&4294967295;w=R+(x<<7&4294967295|x>>>25),x=L+(N^w&(R^N))+D[1]+3905402710&4294967295,L=w+(x<<12&4294967295|x>>>20),x=N+(R^L&(w^R))+D[2]+606105819&4294967295,N=L+(x<<17&4294967295|x>>>15),x=R+(w^N&(L^w))+D[3]+3250441966&4294967295,R=N+(x<<22&4294967295|x>>>10),x=w+(L^R&(N^L))+D[4]+4118548399&4294967295,w=R+(x<<7&4294967295|x>>>25),x=L+(N^w&(R^N))+D[5]+1200080426&4294967295,L=w+(x<<12&4294967295|x>>>20),x=N+(R^L&(w^R))+D[6]+2821735955&4294967295,N=L+(x<<17&4294967295|x>>>15),x=R+(w^N&(L^w))+D[7]+4249261313&4294967295,R=N+(x<<22&4294967295|x>>>10),x=w+(L^R&(N^L))+D[8]+1770035416&4294967295,w=R+(x<<7&4294967295|x>>>25),x=L+(N^w&(R^N))+D[9]+2336552879&4294967295,L=w+(x<<12&4294967295|x>>>20),x=N+(R^L&(w^R))+D[10]+4294925233&4294967295,N=L+(x<<17&4294967295|x>>>15),x=R+(w^N&(L^w))+D[11]+2304563134&4294967295,R=N+(x<<22&4294967295|x>>>10),x=w+(L^R&(N^L))+D[12]+1804603682&4294967295,w=R+(x<<7&4294967295|x>>>25),x=L+(N^w&(R^N))+D[13]+4254626195&4294967295,L=w+(x<<12&4294967295|x>>>20),x=N+(R^L&(w^R))+D[14]+2792965006&4294967295,N=L+(x<<17&4294967295|x>>>15),x=R+(w^N&(L^w))+D[15]+1236535329&4294967295,R=N+(x<<22&4294967295|x>>>10),x=w+(N^L&(R^N))+D[1]+4129170786&4294967295,w=R+(x<<5&4294967295|x>>>27),x=L+(R^N&(w^R))+D[6]+3225465664&4294967295,L=w+(x<<9&4294967295|x>>>23),x=N+(w^R&(L^w))+D[11]+643717713&4294967295,N=L+(x<<14&4294967295|x>>>18),x=R+(L^w&(N^L))+D[0]+3921069994&4294967295,R=N+(x<<20&4294967295|x>>>12),x=w+(N^L&(R^N))+D[5]+3593408605&4294967295,w=R+(x<<5&4294967295|x>>>27),x=L+(R^N&(w^R))+D[10]+38016083&4294967295,L=w+(x<<9&4294967295|x>>>23),x=N+(w^R&(L^w))+D[15]+3634488961&4294967295,N=L+(x<<14&4294967295|x>>>18),x=R+(L^w&(N^L))+D[4]+3889429448&4294967295,R=N+(x<<20&4294967295|x>>>12),x=w+(N^L&(R^N))+D[9]+568446438&4294967295,w=R+(x<<5&4294967295|x>>>27),x=L+(R^N&(w^R))+D[14]+3275163606&4294967295,L=w+(x<<9&4294967295|x>>>23),x=N+(w^R&(L^w))+D[3]+4107603335&4294967295,N=L+(x<<14&4294967295|x>>>18),x=R+(L^w&(N^L))+D[8]+1163531501&4294967295,R=N+(x<<20&4294967295|x>>>12),x=w+(N^L&(R^N))+D[13]+2850285829&4294967295,w=R+(x<<5&4294967295|x>>>27),x=L+(R^N&(w^R))+D[2]+4243563512&4294967295,L=w+(x<<9&4294967295|x>>>23),x=N+(w^R&(L^w))+D[7]+1735328473&4294967295,N=L+(x<<14&4294967295|x>>>18),x=R+(L^w&(N^L))+D[12]+2368359562&4294967295,R=N+(x<<20&4294967295|x>>>12),x=w+(R^N^L)+D[5]+4294588738&4294967295,w=R+(x<<4&4294967295|x>>>28),x=L+(w^R^N)+D[8]+2272392833&4294967295,L=w+(x<<11&4294967295|x>>>21),x=N+(L^w^R)+D[11]+1839030562&4294967295,N=L+(x<<16&4294967295|x>>>16),x=R+(N^L^w)+D[14]+4259657740&4294967295,R=N+(x<<23&4294967295|x>>>9),x=w+(R^N^L)+D[1]+2763975236&4294967295,w=R+(x<<4&4294967295|x>>>28),x=L+(w^R^N)+D[4]+1272893353&4294967295,L=w+(x<<11&4294967295|x>>>21),x=N+(L^w^R)+D[7]+4139469664&4294967295,N=L+(x<<16&4294967295|x>>>16),x=R+(N^L^w)+D[10]+3200236656&4294967295,R=N+(x<<23&4294967295|x>>>9),x=w+(R^N^L)+D[13]+681279174&4294967295,w=R+(x<<4&4294967295|x>>>28),x=L+(w^R^N)+D[0]+3936430074&4294967295,L=w+(x<<11&4294967295|x>>>21),x=N+(L^w^R)+D[3]+3572445317&4294967295,N=L+(x<<16&4294967295|x>>>16),x=R+(N^L^w)+D[6]+76029189&4294967295,R=N+(x<<23&4294967295|x>>>9),x=w+(R^N^L)+D[9]+3654602809&4294967295,w=R+(x<<4&4294967295|x>>>28),x=L+(w^R^N)+D[12]+3873151461&4294967295,L=w+(x<<11&4294967295|x>>>21),x=N+(L^w^R)+D[15]+530742520&4294967295,N=L+(x<<16&4294967295|x>>>16),x=R+(N^L^w)+D[2]+3299628645&4294967295,R=N+(x<<23&4294967295|x>>>9),x=w+(N^(R|~L))+D[0]+4096336452&4294967295,w=R+(x<<6&4294967295|x>>>26),x=L+(R^(w|~N))+D[7]+1126891415&4294967295,L=w+(x<<10&4294967295|x>>>22),x=N+(w^(L|~R))+D[14]+2878612391&4294967295,N=L+(x<<15&4294967295|x>>>17),x=R+(L^(N|~w))+D[5]+4237533241&4294967295,R=N+(x<<21&4294967295|x>>>11),x=w+(N^(R|~L))+D[12]+1700485571&4294967295,w=R+(x<<6&4294967295|x>>>26),x=L+(R^(w|~N))+D[3]+2399980690&4294967295,L=w+(x<<10&4294967295|x>>>22),x=N+(w^(L|~R))+D[10]+4293915773&4294967295,N=L+(x<<15&4294967295|x>>>17),x=R+(L^(N|~w))+D[1]+2240044497&4294967295,R=N+(x<<21&4294967295|x>>>11),x=w+(N^(R|~L))+D[8]+1873313359&4294967295,w=R+(x<<6&4294967295|x>>>26),x=L+(R^(w|~N))+D[15]+4264355552&4294967295,L=w+(x<<10&4294967295|x>>>22),x=N+(w^(L|~R))+D[6]+2734768916&4294967295,N=L+(x<<15&4294967295|x>>>17),x=R+(L^(N|~w))+D[13]+1309151649&4294967295,R=N+(x<<21&4294967295|x>>>11),x=w+(N^(R|~L))+D[4]+4149444226&4294967295,w=R+(x<<6&4294967295|x>>>26),x=L+(R^(w|~N))+D[11]+3174756917&4294967295,L=w+(x<<10&4294967295|x>>>22),x=N+(w^(L|~R))+D[2]+718787259&4294967295,N=L+(x<<15&4294967295|x>>>17),x=R+(L^(N|~w))+D[9]+3951481745&4294967295,V.g[0]=V.g[0]+w&4294967295,V.g[1]=V.g[1]+(N+(x<<21&4294967295|x>>>11))&4294967295,V.g[2]=V.g[2]+N&4294967295,V.g[3]=V.g[3]+L&4294967295}s.prototype.u=function(V,w){w===void 0&&(w=V.length);for(var R=w-this.blockSize,D=this.B,N=this.h,L=0;L<w;){if(N==0)for(;L<=R;)o(this,V,L),L+=this.blockSize;if(typeof V=="string"){for(;L<w;)if(D[N++]=V.charCodeAt(L++),N==this.blockSize){o(this,D),N=0;break}}else for(;L<w;)if(D[N++]=V[L++],N==this.blockSize){o(this,D),N=0;break}}this.h=N,this.o+=w},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var w=1;w<V.length-8;++w)V[w]=0;var R=8*this.o;for(w=V.length-8;w<V.length;++w)V[w]=R&255,R/=256;for(this.u(V),V=Array(16),w=R=0;4>w;++w)for(var D=0;32>D;D+=8)V[R++]=this.g[w]>>>D&255;return V};function u(V,w){var R=d;return Object.prototype.hasOwnProperty.call(R,V)?R[V]:R[V]=w(V)}function c(V,w){this.h=w;for(var R=[],D=!0,N=V.length-1;0<=N;N--){var L=V[N]|0;D&&L==w||(R[N]=L,D=!1)}this.g=R}var d={};function m(V){return-128<=V&&128>V?u(V,function(w){return new c([w|0],0>w?-1:0)}):new c([V|0],0>V?-1:0)}function g(V){if(isNaN(V)||!isFinite(V))return E;if(0>V)return k(g(-V));for(var w=[],R=1,D=0;V>=R;D++)w[D]=V/R|0,R*=4294967296;return new c(w,0)}function y(V,w){if(V.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(V.charAt(0)=="-")return k(y(V.substring(1),w));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(w,8)),D=E,N=0;N<V.length;N+=8){var L=Math.min(8,V.length-N),x=parseInt(V.substring(N,N+L),w);8>L?(L=g(Math.pow(w,L)),D=D.j(L).add(g(x))):(D=D.j(R),D=D.add(g(x)))}return D}var E=m(0),S=m(1),C=m(16777216);e=c.prototype,e.m=function(){if(H(this))return-k(this).m();for(var V=0,w=1,R=0;R<this.g.length;R++){var D=this.i(R);V+=(0<=D?D:4294967296+D)*w,w*=4294967296}return V},e.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(P(this))return"0";if(H(this))return"-"+k(this).toString(V);for(var w=g(Math.pow(V,6)),R=this,D="";;){var N=lt(R,w).g;R=G(R,N.j(w));var L=((0<R.g.length?R.g[0]:R.h)>>>0).toString(V);if(R=N,P(R))return L+D;for(;6>L.length;)L="0"+L;D=L+D}},e.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function P(V){if(V.h!=0)return!1;for(var w=0;w<V.g.length;w++)if(V.g[w]!=0)return!1;return!0}function H(V){return V.h==-1}e.l=function(V){return V=G(this,V),H(V)?-1:P(V)?0:1};function k(V){for(var w=V.g.length,R=[],D=0;D<w;D++)R[D]=~V.g[D];return new c(R,~V.h).add(S)}e.abs=function(){return H(this)?k(this):this},e.add=function(V){for(var w=Math.max(this.g.length,V.g.length),R=[],D=0,N=0;N<=w;N++){var L=D+(this.i(N)&65535)+(V.i(N)&65535),x=(L>>>16)+(this.i(N)>>>16)+(V.i(N)>>>16);D=x>>>16,L&=65535,x&=65535,R[N]=x<<16|L}return new c(R,R[R.length-1]&-2147483648?-1:0)};function G(V,w){return V.add(k(w))}e.j=function(V){if(P(this)||P(V))return E;if(H(this))return H(V)?k(this).j(k(V)):k(k(this).j(V));if(H(V))return k(this.j(k(V)));if(0>this.l(C)&&0>V.l(C))return g(this.m()*V.m());for(var w=this.g.length+V.g.length,R=[],D=0;D<2*w;D++)R[D]=0;for(D=0;D<this.g.length;D++)for(var N=0;N<V.g.length;N++){var L=this.i(D)>>>16,x=this.i(D)&65535,ce=V.i(N)>>>16,te=V.i(N)&65535;R[2*D+2*N]+=x*te,Y(R,2*D+2*N),R[2*D+2*N+1]+=L*te,Y(R,2*D+2*N+1),R[2*D+2*N+1]+=x*ce,Y(R,2*D+2*N+1),R[2*D+2*N+2]+=L*ce,Y(R,2*D+2*N+2)}for(D=0;D<w;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=w;D<2*w;D++)R[D]=0;return new c(R,0)};function Y(V,w){for(;(V[w]&65535)!=V[w];)V[w+1]+=V[w]>>>16,V[w]&=65535,w++}function $(V,w){this.g=V,this.h=w}function lt(V,w){if(P(w))throw Error("division by zero");if(P(V))return new $(E,E);if(H(V))return w=lt(k(V),w),new $(k(w.g),k(w.h));if(H(w))return w=lt(V,k(w)),new $(k(w.g),w.h);if(30<V.g.length){if(H(V)||H(w))throw Error("slowDivide_ only works with positive integers.");for(var R=S,D=w;0>=D.l(V);)R=it(R),D=it(D);var N=dt(R,1),L=dt(D,1);for(D=dt(D,2),R=dt(R,2);!P(D);){var x=L.add(D);0>=x.l(V)&&(N=N.add(R),L=x),D=dt(D,1),R=dt(R,1)}return w=G(V,N.j(w)),new $(N,w)}for(N=E;0<=V.l(w);){for(R=Math.max(1,Math.floor(V.m()/w.m())),D=Math.ceil(Math.log(R)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),L=g(R),x=L.j(w);H(x)||0<x.l(V);)R-=D,L=g(R),x=L.j(w);P(L)&&(L=S),N=N.add(L),V=G(V,x)}return new $(N,V)}e.A=function(V){return lt(this,V).h},e.and=function(V){for(var w=Math.max(this.g.length,V.g.length),R=[],D=0;D<w;D++)R[D]=this.i(D)&V.i(D);return new c(R,this.h&V.h)},e.or=function(V){for(var w=Math.max(this.g.length,V.g.length),R=[],D=0;D<w;D++)R[D]=this.i(D)|V.i(D);return new c(R,this.h|V.h)},e.xor=function(V){for(var w=Math.max(this.g.length,V.g.length),R=[],D=0;D<w;D++)R[D]=this.i(D)^V.i(D);return new c(R,this.h^V.h)};function it(V){for(var w=V.g.length+1,R=[],D=0;D<w;D++)R[D]=V.i(D)<<1|V.i(D-1)>>>31;return new c(R,V.h)}function dt(V,w){var R=w>>5;w%=32;for(var D=V.g.length-R,N=[],L=0;L<D;L++)N[L]=0<w?V.i(L+R)>>>w|V.i(L+R+1)<<32-w:V.i(L+R);return new c(N,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,zA=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,tr=c}).apply(typeof DT<"u"?DT:typeof self<"u"?self:typeof window<"u"?window:{});var bh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jA,ou,qA,zh,Np,HA,FA,GA;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,_){return h==Array.prototype||h==Object.prototype||(h[v]=_.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof bh=="object"&&bh];for(var v=0;v<h.length;++v){var _=h[v];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(h,v){if(v)t:{var _=s;h=h.split(".");for(var b=0;b<h.length-1;b++){var z=h[b];if(!(z in _))break t;_=_[z]}h=h[h.length-1],b=_[h],v=v(b),v!=b&&v!=null&&t(_,h,{configurable:!0,writable:!0,value:v})}}function u(h,v){h instanceof String&&(h+="");var _=0,b=!1,z={next:function(){if(!b&&_<h.length){var Q=_++;return{value:v(Q,h[Q]),done:!1}}return b=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(h){return h||function(){return u(this,function(v,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function g(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,_){return h.call.apply(h.bind,arguments)}function E(h,v,_){if(!h)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,b),h.apply(v,z)}}return function(){return h.apply(v,arguments)}}function S(h,v,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:E,S.apply(null,arguments)}function C(h,v){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),h.apply(this,b)}}function P(h,v){function _(){}_.prototype=v.prototype,h.aa=v.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(b,z,Q){for(var ot=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)ot[Pt-2]=arguments[Pt];return v.prototype[z].apply(b,ot)}}function H(h){const v=h.length;if(0<v){const _=Array(v);for(let b=0;b<v;b++)_[b]=h[b];return _}return[]}function k(h,v){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(m(b)){const z=h.length||0,Q=b.length||0;h.length=z+Q;for(let ot=0;ot<Q;ot++)h[z+ot]=b[ot]}else h.push(b)}}class G{constructor(v,_){this.i=v,this.j=_,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function Y(h){return/^[\s\xa0]*$/.test(h)}function $(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function lt(h){return lt[" "](h),h}lt[" "]=function(){};var it=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function dt(h,v,_){for(const b in h)v.call(_,h[b],b,h)}function V(h,v){for(const _ in h)v.call(void 0,h[_],_,h)}function w(h){const v={};for(const _ in h)v[_]=h[_];return v}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(h,v){let _,b;for(let z=1;z<arguments.length;z++){b=arguments[z];for(_ in b)h[_]=b[_];for(let Q=0;Q<R.length;Q++)_=R[Q],Object.prototype.hasOwnProperty.call(b,_)&&(h[_]=b[_])}}function N(h){var v=1;h=h.split(":");const _=[];for(;0<v&&h.length;)_.push(h.shift()),v--;return h.length&&_.push(h.join(":")),_}function L(h){d.setTimeout(()=>{throw h},0)}function x(){var h=Ct;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class ce{constructor(){this.h=this.g=null}add(v,_){const b=te.get();b.set(v,_),this.h?this.h.next=b:this.g=b,this.h=b}}var te=new G(()=>new X,h=>h.reset());class X{constructor(){this.next=this.g=this.h=null}set(v,_){this.h=v,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let st,ct=!1,Ct=new ce,M=()=>{const h=d.Promise.resolve(void 0);st=()=>{h.then(nt)}};var nt=()=>{for(var h;h=x();){try{h.h.call(h.g)}catch(_){L(_)}var v=te;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}ct=!1};function ut(){this.s=this.s,this.C=this.C}ut.prototype.s=!1,ut.prototype.ma=function(){this.s||(this.s=!0,this.N())},ut.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var gt=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};d.addEventListener("test",_,v),d.removeEventListener("test",_,v)}catch{}return h})();function xt(h,v){if(at.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,b=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(it){t:{try{lt(v.nodeName);var z=!0;break t}catch{}z=!1}z||(v=null)}}else _=="mouseover"?v=h.fromElement:_=="mouseout"&&(v=h.toElement);this.relatedTarget=v,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:At[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&xt.aa.h.call(this)}}P(xt,at);var At={2:"touch",3:"pen",4:"mouse"};xt.prototype.h=function(){xt.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Pe="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function ti(h,v,_,b,z){this.listener=h,this.proxy=null,this.src=v,this.type=_,this.capture=!!b,this.ha=z,this.key=++Zt,this.da=this.fa=!1}function ms(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Mi(h){this.src=h,this.g={},this.h=0}Mi.prototype.add=function(h,v,_,b,z){var Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);var ot=dr(h,v,b,z);return-1<ot?(v=h[ot],_||(v.fa=!1)):(v=new ti(v,this.src,Q,!!b,z),v.fa=_,h.push(v)),v};function fr(h,v){var _=v.type;if(_ in h.g){var b=h.g[_],z=Array.prototype.indexOf.call(b,v,void 0),Q;(Q=0<=z)&&Array.prototype.splice.call(b,z,1),Q&&(ms(v),h.g[_].length==0&&(delete h.g[_],h.h--))}}function dr(h,v,_,b){for(var z=0;z<h.length;++z){var Q=h[z];if(!Q.da&&Q.listener==v&&Q.capture==!!_&&Q.ha==b)return z}return-1}var mr="closure_lm_"+(1e6*Math.random()|0),$o={};function Ju(h,v,_,b,z){if(Array.isArray(v)){for(var Q=0;Q<v.length;Q++)Ju(h,v[Q],_,b,z);return null}return _=tc(_),h&&h[Pe]?h.K(v,_,g(b)?!!b.capture:!1,z):Rn(h,v,_,!1,b,z)}function Rn(h,v,_,b,z,Q){if(!v)throw Error("Invalid event type");var ot=g(z)?!!z.capture:!!z,Pt=fa(h);if(Pt||(h[mr]=Pt=new Mi(h)),_=Pt.add(v,_,b,ot,Q),_.proxy)return _;if(b=Hf(),_.proxy=b,b.src=h,b.listener=_,h.addEventListener)gt||(z=ot),z===void 0&&(z=!1),h.addEventListener(v.toString(),b,z);else if(h.attachEvent)h.attachEvent(pr(v.toString()),b);else if(h.addListener&&h.removeListener)h.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Hf(){function h(_){return v.call(h.src,h.listener,_)}const v=Ff;return h}function Qo(h,v,_,b,z){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)Qo(h,v[Q],_,b,z);else b=g(b)?!!b.capture:!!b,_=tc(_),h&&h[Pe]?(h=h.i,v=String(v).toString(),v in h.g&&(Q=h.g[v],_=dr(Q,_,b,z),-1<_&&(ms(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete h.g[v],h.h--)))):h&&(h=fa(h))&&(v=h.g[v.toString()],h=-1,v&&(h=dr(v,_,b,z)),(_=-1<h?v[h]:null)&&ha(_))}function ha(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Pe])fr(v.i,h);else{var _=h.type,b=h.proxy;v.removeEventListener?v.removeEventListener(_,b,h.capture):v.detachEvent?v.detachEvent(pr(_),b):v.addListener&&v.removeListener&&v.removeListener(b),(_=fa(v))?(fr(_,h),_.h==0&&(_.src=null,v[mr]=null)):ms(h)}}}function pr(h){return h in $o?$o[h]:$o[h]="on"+h}function Ff(h,v){if(h.da)h=!0;else{v=new xt(v,this);var _=h.listener,b=h.ha||h.src;h.fa&&ha(h),h=_.call(b,v)}return h}function fa(h){return h=h[mr],h instanceof Mi?h:null}var Xo="__closure_events_fn_"+(1e9*Math.random()>>>0);function tc(h){return typeof h=="function"?h:(h[Xo]||(h[Xo]=function(v){return h.handleEvent(v)}),h[Xo])}function he(){ut.call(this),this.i=new Mi(this),this.M=this,this.F=null}P(he,ut),he.prototype[Pe]=!0,he.prototype.removeEventListener=function(h,v,_,b){Qo(this,h,v,_,b)};function Ft(h,v){var _,b=h.F;if(b)for(_=[];b;b=b.F)_.push(b);if(h=h.M,b=v.type||v,typeof v=="string")v=new at(v,h);else if(v instanceof at)v.target=v.target||h;else{var z=v;v=new at(b,h),D(v,z)}if(z=!0,_)for(var Q=_.length-1;0<=Q;Q--){var ot=v.g=_[Q];z=yn(ot,b,!0,v)&&z}if(ot=v.g=h,z=yn(ot,b,!0,v)&&z,z=yn(ot,b,!1,v)&&z,_)for(Q=0;Q<_.length;Q++)ot=v.g=_[Q],z=yn(ot,b,!1,v)&&z}he.prototype.N=function(){if(he.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var _=h.g[v],b=0;b<_.length;b++)ms(_[b]);delete h.g[v],h.h--}}this.F=null},he.prototype.K=function(h,v,_,b){return this.i.add(String(h),v,!1,_,b)},he.prototype.L=function(h,v,_,b){return this.i.add(String(h),v,!0,_,b)};function yn(h,v,_,b){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var z=!0,Q=0;Q<v.length;++Q){var ot=v[Q];if(ot&&!ot.da&&ot.capture==_){var Pt=ot.listener,De=ot.ha||ot.src;ot.fa&&fr(h.i,ot),z=Pt.call(De,b)!==!1&&z}}return z&&!b.defaultPrevented}function Xe(h,v,_){if(typeof h=="function")_&&(h=S(h,_));else if(h&&typeof h.handleEvent=="function")h=S(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:d.setTimeout(h,v||0)}function ec(h){h.g=Xe(()=>{h.g=null,h.i&&(h.i=!1,ec(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Gf extends ut{constructor(v,_){super(),this.m=v,this.l=_,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:ec(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gr(h){ut.call(this),this.h=h,this.g={}}P(gr,ut);var yr=[];function vr(h){dt(h.g,function(v,_){this.g.hasOwnProperty(_)&&ha(v)},h),h.g={}}gr.prototype.N=function(){gr.aa.N.call(this),vr(this)},gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hn=d.JSON.stringify,da=d.JSON.parse,_r=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function Wo(){}Wo.prototype.h=null;function Zo(h){return h.h||(h.h=h.i())}function Jo(){}var Vi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ni(){at.call(this,"d")}P(Ni,at);function tl(){at.call(this,"c")}P(tl,at);var ei={},el=null;function ps(){return el=el||new he}ei.La="serverreachability";function ma(h){at.call(this,ei.La,h)}P(ma,at);function gs(h){const v=ps();Ft(v,new ma(v))}ei.STAT_EVENT="statevent";function nc(h,v){at.call(this,ei.STAT_EVENT,h),this.stat=v}P(nc,at);function ee(h){const v=ps();Ft(v,new nc(v,h))}ei.Ma="timingevent";function xe(h,v){at.call(this,ei.Ma,h),this.size=v}P(xe,at);function Ee(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},v)}function Cn(){this.g=!0}Cn.prototype.xa=function(){this.g=!1};function nl(h,v,_,b,z,Q){h.info(function(){if(h.g)if(Q)for(var ot="",Pt=Q.split("&"),De=0;De<Pt.length;De++){var Lt=Pt[De].split("=");if(1<Lt.length){var ke=Lt[0];Lt=Lt[1];var Me=ke.split("_");ot=2<=Me.length&&Me[1]=="type"?ot+(ke+"="+Lt+"&"):ot+(ke+"=redacted&")}}else ot=null;else ot=Q;return"XMLHTTP REQ ("+b+") [attempt "+z+"]: "+v+`
`+_+`
`+ot})}function Kf(h,v,_,b,z,Q,ot){h.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+z+"]: "+v+`
`+_+`
`+Q+" "+ot})}function ys(h,v,_,b){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Tr(h,_)+(b?" "+b:"")})}function ic(h,v){h.info(function(){return"TIMEOUT: "+v})}Cn.prototype.info=function(){};function Tr(h,v){if(!h.g)return v;if(!v)return null;try{var _=JSON.parse(v);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var b=_[h];if(!(2>b.length)){var z=b[1];if(Array.isArray(z)&&!(1>z.length)){var Q=z[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ot=1;ot<z.length;ot++)z[ot]=""}}}}return Hn(_)}catch{return v}}var vs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ni;function ii(){}P(ii,Wo),ii.prototype.g=function(){return new XMLHttpRequest},ii.prototype.i=function(){return{}},ni=new ii;function rn(h,v,_,b){this.j=h,this.i=v,this.l=_,this.R=b||1,this.U=new gr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pe}function pe(){this.i=null,this.g="",this.h=!1}var il={},pa={};function Fn(h,v,_){h.L=1,h.v=wr(vn(v)),h.m=_,h.P=!0,Pi(h,null)}function Pi(h,v){h.F=Date.now(),Er(h),h.A=vn(h.v);var _=h.A,b=h.R;Array.isArray(b)||(b=[String(b)]),ul(_.i,"t",b),h.C=0,_=h.j.J,h.h=new pe,h.g=_c(h.j,_?v:null,!h.m),0<h.O&&(h.M=new Gf(S(h.Y,h,h.g),h.O)),v=h.U,_=h.g,b=h.ca;var z="readystatechange";Array.isArray(z)||(z&&(yr[0]=z.toString()),z=yr);for(var Q=0;Q<z.length;Q++){var ot=Ju(_,z[Q],b||v.handleEvent,!1,v.h||v);if(!ot)break;v.g[ot.key]=ot}v=h.H?w(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),gs(),nl(h.i,h.u,h.A,h.l,h.R,h.m)}rn.prototype.ca=function(h){h=h.target;const v=this.M;v&&Mn(h)==3?v.j():this.Y(h)},rn.prototype.Y=function(h){try{if(h==this.g)t:{const Me=Mn(this.g);var v=this.g.Ba();const Hi=this.g.Z();if(!(3>Me)&&(Me!=3||this.g&&(this.h.h||this.g.oa()||hc(this.g)))){this.J||Me!=4||v==7||(v==8||0>=Hi?gs(3):gs(2)),_s(this);var _=this.g.Z();this.X=_;e:if(sc(this)){var b=hc(this.g);h="";var z=b.length,Q=Mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qe(this),si(this);var ot="";break e}this.h.i=new d.TextDecoder}for(v=0;v<z;v++)this.h.h=!0,h+=this.h.i.decode(b[v],{stream:!(Q&&v==z-1)});b.length=0,this.h.g+=h,this.C=0,ot=this.h.g}else ot=this.g.oa();if(this.o=_==200,Kf(this.i,this.u,this.A,this.l,this.R,Me,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Pt,De=this.g;if((Pt=De.g?De.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(Pt)){var Lt=Pt;break e}}Lt=null}if(_=Lt)ys(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sr(this,_);else{this.o=!1,this.s=3,ee(12),qe(this),si(this);break t}}if(this.P){_=!0;let He;for(;!this.J&&this.C<ot.length;)if(He=rc(this,ot),He==pa){Me==4&&(this.s=4,ee(14),_=!1),ys(this.i,this.l,null,"[Incomplete Response]");break}else if(He==il){this.s=4,ee(15),ys(this.i,this.l,ot,"[Invalid Chunk]"),_=!1;break}else ys(this.i,this.l,He,null),Sr(this,He);if(sc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||ot.length!=0||this.h.h||(this.s=1,ee(16),_=!1),this.o=this.o&&_,!_)ys(this.i,this.l,ot,"[Invalid Chunked Response]"),qe(this),si(this);else if(0<ot.length&&!this.W){this.W=!0;var ke=this.j;ke.g==this&&ke.ba&&!ke.M&&(ke.j.info("Great, no buffering proxy detected. Bytes received: "+ot.length),Nr(ke),ke.M=!0,ee(11))}}else ys(this.i,this.l,ot,null),Sr(this,ot);Me==4&&qe(this),this.o&&!this.J&&(Me==4?gc(this.j,this):(this.o=!1,Er(this)))}else Wf(this.g),_==400&&0<ot.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),qe(this),si(this)}}}catch{}finally{}};function sc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function rc(h,v){var _=h.C,b=v.indexOf(`
`,_);return b==-1?pa:(_=Number(v.substring(_,b)),isNaN(_)?il:(b+=1,b+_>v.length?pa:(v=v.slice(b,b+_),h.C=b+_,v)))}rn.prototype.cancel=function(){this.J=!0,qe(this)};function Er(h){h.S=Date.now()+h.I,ac(h,h.I)}function ac(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Ee(S(h.ba,h),v)}function _s(h){h.B&&(d.clearTimeout(h.B),h.B=null)}rn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(ic(this.i,this.A),this.L!=2&&(gs(),ee(17)),qe(this),this.s=2,si(this)):ac(this,this.S-h)};function si(h){h.j.G==0||h.J||gc(h.j,h)}function qe(h){_s(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,vr(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Sr(h,v){try{var _=h.j;if(_.G!=0&&(_.g==h||sl(_.h,h))){if(!h.K&&sl(_.h,h)&&_.G==3){try{var b=_.Da.g.parse(v)}catch{b=null}if(Array.isArray(b)&&b.length==3){var z=b;if(z[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)Ca(_),wa(_);else break t;ml(_),ee(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ee(S(_.Za,_),6e3));if(1>=ya(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else qi(_,11)}else if((h.K||_.g==h)&&Ca(_),!Y(v))for(z=_.Da.g.parse(v),v=0;v<z.length;v++){let Lt=z[v];if(_.T=Lt[0],Lt=Lt[1],_.G==2)if(Lt[0]=="c"){_.K=Lt[1],_.ia=Lt[2];const ke=Lt[3];ke!=null&&(_.la=ke,_.j.info("VER="+_.la));const Me=Lt[4];Me!=null&&(_.Aa=Me,_.j.info("SVER="+_.Aa));const Hi=Lt[5];Hi!=null&&typeof Hi=="number"&&0<Hi&&(b=1.5*Hi,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const He=h.g;if(He){const hi=He.g?He.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hi){var Q=b.h;Q.g||hi.indexOf("spdy")==-1&&hi.indexOf("quic")==-1&&hi.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(va(Q,Q.h),Q.h=null))}if(b.D){const gl=He.g?He.g.getResponseHeader("X-HTTP-Session-Id"):null;gl&&(b.ya=gl,Yt(b.I,b.D,gl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var ot=h;if(b.qa=vc(b,b.J?b.ia:null,b.W),ot.K){an(b.h,ot);var Pt=ot,De=b.L;De&&(Pt.I=De),Pt.B&&(_s(Pt),Er(Pt)),b.g=ot}else mc(b);0<_.i.length&&Ra(_)}else Lt[0]!="stop"&&Lt[0]!="close"||qi(_,7);else _.G==3&&(Lt[0]=="stop"||Lt[0]=="close"?Lt[0]=="stop"?qi(_,7):fl(_):Lt[0]!="noop"&&_.l&&_.l.ta(Lt),_.v=0)}}gs(4)}catch{}}var oc=class{constructor(h,v){this.g=h,this.map=v}};function Li(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ga(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function ya(h){return h.h?1:h.g?h.g.size:0}function sl(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function va(h,v){h.g?h.g.add(v):h.h=v}function an(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Li.prototype.cancel=function(){if(this.i=rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function rl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const _ of h.g.values())v=v.concat(_.D);return v}return H(h.i)}function Yf(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var v=[],_=h.length,b=0;b<_;b++)v.push(h[b]);return v}v=[],_=0;for(b in h)v[_++]=h[b];return v}function _a(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var v=[];h=h.length;for(var _=0;_<h;_++)v.push(_);return v}v=[],_=0;for(const b in h)v[_++]=b;return v}}}function al(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var _=_a(h),b=Yf(h),z=b.length,Q=0;Q<z;Q++)v.call(void 0,b[Q],_&&_[Q],h)}var Ar=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $f(h,v){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var b=h[_].indexOf("="),z=null;if(0<=b){var Q=h[_].substring(0,b);z=h[_].substring(b+1)}else Q=h[_];v(Q,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Se(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Se){this.h=h.h,br(this,h.j),this.o=h.o,this.g=h.g,Ts(this,h.s),this.l=h.l;var v=h.i,_=new Ui;_.i=v.i,v.g&&(_.g=new Map(v.g),_.h=v.h),ki(this,_),this.m=h.m}else h&&(v=String(h).match(Ar))?(this.h=!1,br(this,v[1]||"",!0),this.o=In(v[2]||""),this.g=In(v[3]||"",!0),Ts(this,v[4]),this.l=In(v[5]||"",!0),ki(this,v[6]||"",!0),this.m=In(v[7]||"")):(this.h=!1,this.i=new Ui(null,this.h))}Se.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Rr(v,ol,!0),":");var _=this.g;return(_||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Rr(v,ol,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(Rr(_,_.charAt(0)=="/"?Qf:ll,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",Rr(_,Ta)),h.join("")};function vn(h){return new Se(h)}function br(h,v,_){h.j=_?In(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Ts(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function ki(h,v,_){v instanceof Ui?(h.i=v,uc(h.i,h.h)):(_||(v=Rr(v,Xf)),h.i=new Ui(v,h.h))}function Yt(h,v,_){h.i.set(v,_)}function wr(h){return Yt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function In(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Rr(h,v,_){return typeof h=="string"?(h=encodeURI(h).replace(v,lc),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function lc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ol=/[#\/\?@]/g,ll=/[#\?:]/g,Qf=/[#\?]/g,Xf=/[#\?@]/g,Ta=/#/g;function Ui(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function xn(h){h.g||(h.g=new Map,h.h=0,h.i&&$f(h.i,function(v,_){h.add(decodeURIComponent(v.replace(/\+/g," ")),_)}))}e=Ui.prototype,e.add=function(h,v){xn(this),this.i=null,h=ri(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(v),this.h+=1,this};function Bi(h,v){xn(h),v=ri(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function zi(h,v){return xn(h),v=ri(h,v),h.g.has(v)}e.forEach=function(h,v){xn(this),this.g.forEach(function(_,b){_.forEach(function(z){h.call(v,z,b,this)},this)},this)},e.na=function(){xn(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),_=[];for(let b=0;b<v.length;b++){const z=h[b];for(let Q=0;Q<z.length;Q++)_.push(v[b])}return _},e.V=function(h){xn(this);let v=[];if(typeof h=="string")zi(this,h)&&(v=v.concat(this.g.get(ri(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)v=v.concat(h[_])}return v},e.set=function(h,v){return xn(this),this.i=null,h=ri(this,h),zi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},e.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function ul(h,v,_){Bi(h,v),0<_.length&&(h.i=null,h.g.set(ri(h,v),H(_)),h.h+=_.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var _=0;_<v.length;_++){var b=v[_];const Q=encodeURIComponent(String(b)),ot=this.V(b);for(b=0;b<ot.length;b++){var z=Q;ot[b]!==""&&(z+="="+encodeURIComponent(String(ot[b]))),h.push(z)}}return this.i=h.join("&")};function ri(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function uc(h,v){v&&!h.j&&(xn(h),h.i=null,h.g.forEach(function(_,b){var z=b.toLowerCase();b!=z&&(Bi(this,b),ul(this,z,_))},h)),h.j=v}function Cr(h,v){const _=new Cn;if(d.Image){const b=new Image;b.onload=C(Dn,_,"TestLoadImage: loaded",!0,v,b),b.onerror=C(Dn,_,"TestLoadImage: error",!1,v,b),b.onabort=C(Dn,_,"TestLoadImage: abort",!1,v,b),b.ontimeout=C(Dn,_,"TestLoadImage: timeout",!1,v,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=h}else v(!1)}function Gn(h,v){const _=new Cn,b=new AbortController,z=setTimeout(()=>{b.abort(),Dn(_,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:b.signal}).then(Q=>{clearTimeout(z),Q.ok?Dn(_,"TestPingServer: ok",!0,v):Dn(_,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(z),Dn(_,"TestPingServer: error",!1,v)})}function Dn(h,v,_,b,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),b(_)}catch{}}function Ir(){this.g=new _r}function ai(h,v,_){const b=_||"";try{al(h,function(z,Q){let ot=z;g(z)&&(ot=Hn(z)),v.push(b+Q+"="+encodeURIComponent(ot))})}catch(z){throw v.push(b+"type="+encodeURIComponent("_badmap")),z}}function Es(h){this.l=h.Ub||null,this.j=h.eb||!1}P(Es,Wo),Es.prototype.g=function(){return new ji(this.l,this.j)},Es.prototype.i=(function(h){return function(){return h}})({});function ji(h,v){he.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(ji,he),e=ji.prototype,e.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,li(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||d).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,oi(this)),this.readyState=0},e.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,li(this)),this.g&&(this.readyState=3,li(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function cl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}e.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?oi(this):li(this),this.readyState==3&&cl(this)}},e.Ra=function(h){this.g&&(this.response=this.responseText=h,oi(this))},e.Qa=function(h){this.g&&(this.response=h,oi(this))},e.ga=function(){this.g&&oi(this)};function oi(h){h.readyState=4,h.l=null,h.j=null,h.v=null,li(h)}e.setRequestHeader=function(h,v){this.u.append(h,v)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var _=v.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=v.next();return h.join(`\r
`)};function li(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ji.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function hl(h){let v="";return dt(h,function(_,b){v+=b,v+=":",v+=_,v+=`\r
`}),v}function Le(h,v,_){t:{for(b in _){var b=!1;break t}b=!0}b||(_=hl(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):Yt(h,v,_))}function Ht(h){he.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Ht,he);var Ea=/^https?$/i,xr=["POST","PUT"];e=Ht.prototype,e.Ha=function(h){this.J=h},e.ea=function(h,v,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ni.g(),this.v=this.o?Zo(this.o):Zo(ni),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Q){cc(this,Q);return}if(h=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var z in b)_.set(z,b[z]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Q of b.keys())_.set(Q,b.get(Q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),z=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(xr,v,void 0))||b||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ot]of _)this.g.setRequestHeader(Q,ot);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Dr(this),this.u=!0,this.g.send(h),this.u=!1}catch(Q){cc(this,Q)}};function cc(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Sa(h),ui(h)}function Sa(h){h.A||(h.A=!0,Ft(h,"complete"),Ft(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ft(this,"complete"),Ft(this,"abort"),ui(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ui(this,!0)),Ht.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Aa(this):this.bb())},e.bb=function(){Aa(this)};function Aa(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Mn(h)!=4||h.Z()!=2)){if(h.u&&Mn(h)==4)Xe(h.Ea,0,h);else if(Ft(h,"readystatechange"),Mn(h)==4){h.h=!1;try{const ot=h.Z();t:switch(ot){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var _;if(!(_=v)){var b;if(b=ot===0){var z=String(h.D).match(Ar)[1]||null;!z&&d.self&&d.self.location&&(z=d.self.location.protocol.slice(0,-1)),b=!Ea.test(z?z.toLowerCase():"")}_=b}if(_)Ft(h,"complete"),Ft(h,"success");else{h.m=6;try{var Q=2<Mn(h)?h.g.statusText:""}catch{Q=""}h.l=Q+" ["+h.Z()+"]",Sa(h)}}finally{ui(h)}}}}function ui(h,v){if(h.g){Dr(h);const _=h.g,b=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Ft(h,"ready");try{_.onreadystatechange=b}catch{}}}function Dr(h){h.I&&(d.clearTimeout(h.I),h.I=null)}e.isActive=function(){return!!this.g};function Mn(h){return h.g?h.g.readyState:0}e.Z=function(){try{return 2<Mn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),da(v)}};function hc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Wf(h){const v={};h=(h.g&&2<=Mn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<h.length;b++){if(Y(h[b]))continue;var _=N(h[b]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=v[z]||[];v[z]=Q,Q.push(_)}V(v,function(b){return b.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mr(h,v,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||v}function ba(h){this.Aa=0,this.i=[],this.j=new Cn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Mr("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Mr("baseRetryDelayMs",5e3,h),this.cb=Mr("retryDelaySeedMs",1e4,h),this.Wa=Mr("forwardChannelMaxRetries",2,h),this.wa=Mr("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Li(h&&h.concurrentRequestLimit),this.Da=new Ir,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=ba.prototype,e.la=8,e.G=1,e.connect=function(h,v,_,b){ee(0),this.W=h,this.H=v||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=vc(this,null,this.W),Ra(this)};function fl(h){if(fc(h),h.G==3){var v=h.U++,_=vn(h.I);if(Yt(_,"SID",h.K),Yt(_,"RID",v),Yt(_,"TYPE","terminate"),Vr(h,_),v=new rn(h,h.j,v),v.L=2,v.v=wr(vn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(v.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=v.v,_=!0),_||(v.g=_c(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Er(v)}yc(h)}function wa(h){h.g&&(Nr(h),h.g.cancel(),h.g=null)}function fc(h){wa(h),h.u&&(d.clearTimeout(h.u),h.u=null),Ca(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function Ra(h){if(!ga(h.h)&&!h.s){h.s=!0;var v=h.Ga;st||M(),ct||(st(),ct=!0),Ct.add(v,h),h.B=0}}function Zf(h,v){return ya(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Ee(S(h.Ga,h,v),pl(h,h.B)),h.B++,!0)}e.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const z=new rn(this,this.j,h);let Q=this.o;if(this.S&&(Q?(Q=w(Q),D(Q,this.S)):Q=this.S),this.m!==null||this.O||(z.H=Q,Q=null),this.P)t:{for(var v=0,_=0;_<this.i.length;_++){e:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(v+=b,4096<v){v=_;break t}if(v===4096||_===this.i.length-1){v=_+1;break t}}v=1e3}else v=1e3;v=dc(this,z,v),_=vn(this.I),Yt(_,"RID",h),Yt(_,"CVER",22),this.D&&Yt(_,"X-HTTP-Session-Id",this.D),Vr(this,_),Q&&(this.O?v="headers="+encodeURIComponent(String(hl(Q)))+"&"+v:this.m&&Le(_,this.m,Q)),va(this.h,z),this.Ua&&Yt(_,"TYPE","init"),this.P?(Yt(_,"$req",v),Yt(_,"SID","null"),z.T=!0,Fn(z,_,null)):Fn(z,_,v),this.G=2}}else this.G==3&&(h?dl(this,h):this.i.length==0||ga(this.h)||dl(this))};function dl(h,v){var _;v?_=v.l:_=h.U++;const b=vn(h.I);Yt(b,"SID",h.K),Yt(b,"RID",_),Yt(b,"AID",h.T),Vr(h,b),h.m&&h.o&&Le(b,h.m,h.o),_=new rn(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),v&&(h.i=v.D.concat(h.i)),v=dc(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),va(h.h,_),Fn(_,b,v)}function Vr(h,v){h.H&&dt(h.H,function(_,b){Yt(v,b,_)}),h.l&&al({},function(_,b){Yt(v,b,_)})}function dc(h,v,_){_=Math.min(h.i.length,_);var b=h.l?S(h.l.Na,h.l,h):null;t:{var z=h.i;let Q=-1;for(;;){const ot=["count="+_];Q==-1?0<_?(Q=z[0].g,ot.push("ofs="+Q)):Q=0:ot.push("ofs="+Q);let Pt=!0;for(let De=0;De<_;De++){let Lt=z[De].g;const ke=z[De].map;if(Lt-=Q,0>Lt)Q=Math.max(0,z[De].g-100),Pt=!1;else try{ai(ke,ot,"req"+Lt+"_")}catch{b&&b(ke)}}if(Pt){b=ot.join("&");break t}}}return h=h.i.splice(0,_),v.D=h,b}function mc(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;st||M(),ct||(st(),ct=!0),Ct.add(v,h),h.v=0}}function ml(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Ee(S(h.Fa,h),pl(h,h.v)),h.v++,!0)}e.Fa=function(){if(this.u=null,pc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Ee(S(this.ab,this),h)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),wa(this),pc(this))};function Nr(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function pc(h){h.g=new rn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=vn(h.qa);Yt(v,"RID","rpc"),Yt(v,"SID",h.K),Yt(v,"AID",h.T),Yt(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&Yt(v,"TO",h.ja),Yt(v,"TYPE","xmlhttp"),Vr(h,v),h.m&&h.o&&Le(v,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=wr(vn(v)),_.m=null,_.P=!0,Pi(_,h)}e.Za=function(){this.C!=null&&(this.C=null,wa(this),ml(this),ee(19))};function Ca(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function gc(h,v){var _=null;if(h.g==v){Ca(h),Nr(h),h.g=null;var b=2}else if(sl(h.h,v))_=v.D,an(h.h,v),b=1;else return;if(h.G!=0){if(v.o)if(b==1){_=v.m?v.m.length:0,v=Date.now()-v.F;var z=h.B;b=ps(),Ft(b,new xe(b,_)),Ra(h)}else mc(h);else if(z=v.s,z==3||z==0&&0<v.X||!(b==1&&Zf(h,v)||b==2&&ml(h)))switch(_&&0<_.length&&(v=h.h,v.i=v.i.concat(_)),z){case 1:qi(h,5);break;case 4:qi(h,10);break;case 3:qi(h,6);break;default:qi(h,2)}}}function pl(h,v){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*v}function qi(h,v){if(h.j.info("Error code "+v),v==2){var _=S(h.fb,h),b=h.Xa;const z=!b;b=new Se(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||br(b,"https"),wr(b),z?Cr(b.toString(),_):Gn(b.toString(),_)}else ee(2);h.G=0,h.l&&h.l.sa(v),yc(h),fc(h)}e.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function yc(h){if(h.G=0,h.ka=[],h.l){const v=rl(h.h);(v.length!=0||h.i.length!=0)&&(k(h.ka,v),k(h.ka,h.i),h.h.i.length=0,H(h.i),h.i.length=0),h.l.ra()}}function vc(h,v,_){var b=_ instanceof Se?vn(_):new Se(_);if(b.g!="")v&&(b.g=v+"."+b.g),Ts(b,b.s);else{var z=d.location;b=z.protocol,v=v?v+"."+z.hostname:z.hostname,z=+z.port;var Q=new Se(null);b&&br(Q,b),v&&(Q.g=v),z&&Ts(Q,z),_&&(Q.l=_),b=Q}return _=h.D,v=h.ya,_&&v&&Yt(b,_,v),Yt(b,"VER",h.la),Vr(h,b),b}function _c(h,v,_){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new Ht(new Es({eb:_})):new Ht(h.pa),v.Ha(h.J),v}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tc(){}e=Tc.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Ia(){}Ia.prototype.g=function(h,v){return new on(h,v)};function on(h,v){he.call(this),this.g=new ba(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!Y(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!Y(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new ci(this)}P(on,he),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){fl(this.g)},on.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=Hn(h),h=_);v.i.push(new oc(v.Ya++,h)),v.G==3&&Ra(v)},on.prototype.N=function(){this.g.l=null,delete this.j,fl(this.g),delete this.g,on.aa.N.call(this)};function Ec(h){Ni.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const _ in v){h=_;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}P(Ec,Ni);function Sc(){tl.call(this),this.status=1}P(Sc,tl);function ci(h){this.g=h}P(ci,Tc),ci.prototype.ua=function(){Ft(this.g,"a")},ci.prototype.ta=function(h){Ft(this.g,new Ec(h))},ci.prototype.sa=function(h){Ft(this.g,new Sc)},ci.prototype.ra=function(){Ft(this.g,"b")},Ia.prototype.createWebChannel=Ia.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,GA=function(){return new Ia},FA=function(){return ps()},HA=ei,Np={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vs.NO_ERROR=0,vs.TIMEOUT=8,vs.HTTP_ERROR=6,zh=vs,Oi.COMPLETE="complete",qA=Oi,Jo.EventType=Vi,Vi.OPEN="a",Vi.CLOSE="b",Vi.ERROR="c",Vi.MESSAGE="d",he.prototype.listen=he.prototype.K,ou=Jo,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,jA=Ht}).apply(typeof bh<"u"?bh:typeof self<"u"?self:typeof window<"u"?window:{});const MT="@firebase/firestore",VT="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bo="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=new Mg("@firebase/firestore");function io(){return la.logLevel}function ht(e,...t){if(la.logLevel<=Nt.DEBUG){const n=t.map(Pg);la.debug(`Firestore (${Bo}): ${e}`,...n)}}function ls(e,...t){if(la.logLevel<=Nt.ERROR){const n=t.map(Pg);la.error(`Firestore (${Bo}): ${e}`,...n)}}function bu(e,...t){if(la.logLevel<=Nt.WARN){const n=t.map(Pg);la.warn(`Firestore (${Bo}): ${e}`,...n)}}function Pg(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,KA(e,s,n)}function KA(e,t,n){let s=`FIRESTORE (${Bo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ls(s),new Error(s)}function ue(e,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,e||KA(t,o,s)}function Bt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends ds{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class cD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(mn.UNAUTHENTICATED)))}shutdown(){}}class hD{constructor(t){this.t=t,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){ue(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let u=new ea;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ea,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const m=u;t.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},d=m=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ea)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ue(typeof s.accessToken=="string",31837,{l:s}),new uD(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ue(t===null||typeof t=="string",2055,{h:t}),new mn(t)}}class fD{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class dD{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new fD(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class NT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mD{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,vi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){ue(this.o===void 0,3512);const s=u=>{u.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,ht("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new NT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(ue(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new NT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=pD(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Ot(e,t){return e<t?-1:e>t?1:0}function Op(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const o=e.charAt(s),u=t.charAt(s);if(o!==u)return np(o)===np(u)?Ot(o,u):np(o)?1:-1}return Ot(e.length,t.length)}const gD=55296,yD=57343;function np(e){const t=e.charCodeAt(0);return t>=gD&&t<=yD}function bo(e,t,n){return e.length===t.length&&e.every(((s,o)=>n(s,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="__name__";class yi{constructor(t,n,s){n===void 0?n=0:n>t.length&&wt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&wt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return yi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof yi?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=yi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Ot(t.length,n.length)}static compareSegments(t,n){const s=yi.isNumericId(t),o=yi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?yi.extractNumericId(t).compare(yi.extractNumericId(n)):Op(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return tr.fromString(t.substring(4,t.length-2))}}class ie extends yi{construct(t,n,s){return new ie(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ft(rt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ie(n)}static emptyPath(){return new ie([])}}const vD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends yi{construct(t,n,s){return new en(t,n,s)}static isValidIdentifier(t){return vD.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===OT}static keyField(){return new en([OT])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ft(rt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new ft(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ft(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=m,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(s+=d,o++):(u(),o++)}if(u(),c)throw new ft(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new en(n)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.path=t}static fromPath(t){return new vt(ie.fromString(t))}static fromName(t){return new vt(ie.fromString(t).popFirst(5))}static empty(){return new vt(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ie.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ie.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new ie(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(e,t,n){if(!n)throw new ft(rt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function TD(e,t,n,s){if(t===!0&&s===!0)throw new ft(rt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function PT(e){if(vt.isDocumentKey(e))throw new ft(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function $A(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function wf(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":wt(12329,{type:typeof e})}function LT(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ft(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wf(e);throw new ft(rt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(e,t){const n={typeString:e};return t&&(n.value=t),n}function zu(e,t){if(!$A(e))throw new ft(rt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in e)){n=`JSON missing required field: '${s}'`;break}const c=e[s];if(o&&typeof c!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ft(rt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT=-62135596800,UT=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*UT);return new se(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ft(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ft(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<kT)throw new ft(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ft(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/UT}_compareTo(t){return this.seconds===t.seconds?Ot(this.nanoseconds,t.nanoseconds):Ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(zu(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-kT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Ie("string",se._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new se(0,0))}static max(){return new bt(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu=-1;function ED(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,o=bt.fromTimestamp(s===1e9?new se(n+1,0):new se(n,s));return new er(o,vt.empty(),t)}function SD(e){return new er(e.readTime,e.key,wu)}class er{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new er(bt.min(),vt.empty(),wu)}static max(){return new er(bt.max(),vt.empty(),wu)}}function AD(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=vt.comparator(e.documentKey,t.documentKey),n!==0?n:Ot(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rf(e){if(e.code!==rt.FAILED_PRECONDITION||e.message!==bD)throw e;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&wt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new et(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof et?n:et.resolve(n)}catch(n){return et.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):et.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):et.reject(n)}static resolve(t){return new et(((n,s)=>{n(t)}))}static reject(t){return new et(((n,s)=>{s(t)}))}static waitFor(t){return new et(((n,s)=>{let o=0,u=0,c=!1;t.forEach((d=>{++o,d.next((()=>{++u,c&&u===o&&n()}),(m=>s(m)))})),c=!0,u===o&&n()}))}static or(t){let n=et.resolve(!1);for(const s of t)n=n.next((o=>o?et.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new et(((s,o)=>{const u=t.length,c=new Array(u);let d=0;for(let m=0;m<u;m++){const g=m;n(t[g]).next((y=>{c[g]=y,++d,d===u&&s(c)}),(y=>o(y)))}}))}static doWhile(t,n){return new et(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function RD(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function zo(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Cf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=-1;function If(e){return e==null}function ef(e){return e===0&&1/e==-1/0}function ID(e){return typeof e=="number"&&Number.isInteger(e)&&!ef(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="";function xD(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=BT(t)),t=DD(e.get(n),t);return BT(t)}function DD(e,t){let n=t;const s=e.length;for(let o=0;o<s;o++){const u=e.charAt(o);switch(u){case"\0":n+="";break;case QA:n+="";break;default:n+=u}}return n}function BT(e){return e+QA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function jo(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function XA(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(t,n){this.comparator=t,this.root=n||$e.EMPTY}insert(t,n){return new Te(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,$e.BLACK,null,null))}remove(t){return new Te(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$e.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new wh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new wh(this.root,t,this.comparator,!1)}getReverseIterator(){return new wh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new wh(this.root,t,this.comparator,!0)}}class wh{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $e{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??$e.RED,this.left=o??$e.EMPTY,this.right=u??$e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new $e(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return $e.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw wt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw wt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw wt(27949);return t+(this.isRed()?0:1)}}$e.EMPTY=null,$e.RED=!0,$e.BLACK=!1;$e.EMPTY=new class{constructor(){this.size=0}get key(){throw wt(57766)}get value(){throw wt(16141)}get color(){throw wt(16727)}get left(){throw wt(29726)}get right(){throw wt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new $e(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(t){this.comparator=t,this.data=new Te(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new jT(this.data.getIterator())}getIteratorFrom(t){return new jT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Oe)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Oe(this.comparator);return n.data=t,n}}class jT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(t){this.fields=t,t.sort(en.comparator)}static empty(){return new Qs([])}unionWith(t){let n=new Oe(en.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Qs(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return bo(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new WA("Invalid base64 string: "+u):u}})(t);return new Qe(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new Qe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const MD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nr(e){if(ue(!!e,39018),typeof e=="string"){let t=0;const n=MD.exec(e);if(ue(!!n,46558,{timestamp:e}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:_e(e.seconds),nanos:_e(e.nanos)}}function _e(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ir(e){return typeof e=="string"?Qe.fromBase64String(e):Qe.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA="server_timestamp",JA="__type__",t1="__previous_value__",e1="__local_write_time__";function Lg(e){return(e?.mapValue?.fields||{})[JA]?.stringValue===ZA}function xf(e){const t=e.mapValue.fields[t1];return Lg(t)?xf(t):t}function Ru(e){const t=nr(e.mapValue.fields[e1].timestampValue);return new se(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(t,n,s,o,u,c,d,m,g,y){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=y}}const nf="(default)";class Cu{constructor(t,n){this.projectId=t,this.database=n||nf}static empty(){return new Cu("","")}get isDefaultDatabase(){return this.database===nf}isEqual(t){return t instanceof Cu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="__type__",ND="__max__",Rh={mapValue:{}},i1="__vector__",sf="value";function sr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Lg(e)?4:PD(e)?9007199254740991:OD(e)?10:11:wt(28295,{value:e})}function xi(e,t){if(e===t)return!0;const n=sr(e);if(n!==sr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ru(e).isEqual(Ru(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=nr(o.timestampValue),d=nr(u.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(o,u){return ir(o.bytesValue).isEqual(ir(u.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(o,u){return _e(o.geoPointValue.latitude)===_e(u.geoPointValue.latitude)&&_e(o.geoPointValue.longitude)===_e(u.geoPointValue.longitude)})(e,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _e(o.integerValue)===_e(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=_e(o.doubleValue),d=_e(u.doubleValue);return c===d?ef(c)===ef(d):isNaN(c)&&isNaN(d)}return!1})(e,t);case 9:return bo(e.arrayValue.values||[],t.arrayValue.values||[],xi);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},d=u.mapValue.fields||{};if(zT(c)!==zT(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!xi(c[m],d[m])))return!1;return!0})(e,t);default:return wt(52216,{left:e})}}function Iu(e,t){return(e.values||[]).find((n=>xi(n,t)))!==void 0}function wo(e,t){if(e===t)return 0;const n=sr(e),s=sr(t);if(n!==s)return Ot(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ot(e.booleanValue,t.booleanValue);case 2:return(function(u,c){const d=_e(u.integerValue||u.doubleValue),m=_e(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(e,t);case 3:return qT(e.timestampValue,t.timestampValue);case 4:return qT(Ru(e),Ru(t));case 5:return Op(e.stringValue,t.stringValue);case 6:return(function(u,c){const d=ir(u),m=ir(c);return d.compareTo(m)})(e.bytesValue,t.bytesValue);case 7:return(function(u,c){const d=u.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const y=Ot(d[g],m[g]);if(y!==0)return y}return Ot(d.length,m.length)})(e.referenceValue,t.referenceValue);case 8:return(function(u,c){const d=Ot(_e(u.latitude),_e(c.latitude));return d!==0?d:Ot(_e(u.longitude),_e(c.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return HT(e.arrayValue,t.arrayValue);case 10:return(function(u,c){const d=u.fields||{},m=c.fields||{},g=d[sf]?.arrayValue,y=m[sf]?.arrayValue,E=Ot(g?.values?.length||0,y?.values?.length||0);return E!==0?E:HT(g,y)})(e.mapValue,t.mapValue);case 11:return(function(u,c){if(u===Rh.mapValue&&c===Rh.mapValue)return 0;if(u===Rh.mapValue)return 1;if(c===Rh.mapValue)return-1;const d=u.fields||{},m=Object.keys(d),g=c.fields||{},y=Object.keys(g);m.sort(),y.sort();for(let E=0;E<m.length&&E<y.length;++E){const S=Op(m[E],y[E]);if(S!==0)return S;const C=wo(d[m[E]],g[y[E]]);if(C!==0)return C}return Ot(m.length,y.length)})(e.mapValue,t.mapValue);default:throw wt(23264,{he:n})}}function qT(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ot(e,t);const n=nr(e),s=nr(t),o=Ot(n.seconds,s.seconds);return o!==0?o:Ot(n.nanos,s.nanos)}function HT(e,t){const n=e.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=wo(n[o],s[o]);if(u)return u}return Ot(n.length,s.length)}function Ro(e){return Pp(e)}function Pp(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const s=nr(n);return`time(${s.seconds},${s.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return ir(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return vt.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Pp(u);return s+"]"})(e.arrayValue):"mapValue"in e?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const c of s)u?u=!1:o+=",",o+=`${c}:${Pp(n.fields[c])}`;return o+"}"})(e.mapValue):wt(61005,{value:e})}function jh(e){switch(sr(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=xf(e);return t?16+jh(t):16;case 5:return 2*e.stringValue.length;case 6:return ir(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+jh(u)),0)})(e.arrayValue);case 10:case 11:return(function(s){let o=0;return jo(s.fields,((u,c)=>{o+=u.length+jh(c)})),o})(e.mapValue);default:throw wt(13486,{value:e})}}function FT(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Lp(e){return!!e&&"integerValue"in e}function kg(e){return!!e&&"arrayValue"in e}function GT(e){return!!e&&"nullValue"in e}function KT(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ip(e){return!!e&&"mapValue"in e}function OD(e){return(e?.mapValue?.fields||{})[n1]?.stringValue===i1}function fu(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return jo(e.mapValue.fields,((n,s)=>t.mapValue.fields[n]=fu(s))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=fu(e.arrayValue.values[n]);return t}return{...e}}function PD(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===ND}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(t){this.value=t}static empty(){return new _i({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!ip(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=fu(n)}setAll(t){let n=en.emptyPath(),s={},o=[];t.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,s,o),s={},o=[],n=d.popLast()}c?s[d.lastSegment()]=fu(c):o.push(d.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());ip(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return xi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];ip(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){jo(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new _i(fu(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t,n,s,o,u,c,d){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=c,this.documentState=d}static newInvalidDocument(t){return new tn(t,0,bt.min(),bt.min(),bt.min(),_i.empty(),0)}static newFoundDocument(t,n,s,o){return new tn(t,1,n,bt.min(),s,o,0)}static newNoDocument(t,n){return new tn(t,2,n,bt.min(),bt.min(),_i.empty(),0)}static newUnknownDocument(t,n){return new tn(t,3,n,bt.min(),bt.min(),_i.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=_i.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=_i.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof tn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(t,n){this.position=t,this.inclusive=n}}function YT(e,t,n){let s=0;for(let o=0;o<e.position.length;o++){const u=t[o],c=e.position[o];if(u.field.isKeyField()?s=vt.comparator(vt.fromName(c.referenceValue),n.key):s=wo(c,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function $T(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!xi(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(t,n="asc"){this.field=t,this.dir=n}}function LD(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{}class Ce extends s1{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new UD(t,n,s):n==="array-contains"?new jD(t,s):n==="in"?new qD(t,s):n==="not-in"?new HD(t,s):n==="array-contains-any"?new FD(t,s):new Ce(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new BD(t,s):new zD(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(wo(n,this.value)):n!==null&&sr(this.value)===sr(n)&&this.matchesComparison(wo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return wt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends s1{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Zn(t,n)}matches(t){return r1(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function r1(e){return e.op==="and"}function a1(e){return kD(e)&&r1(e)}function kD(e){for(const t of e.filters)if(t instanceof Zn)return!1;return!0}function kp(e){if(e instanceof Ce)return e.field.canonicalString()+e.op.toString()+Ro(e.value);if(a1(e))return e.filters.map((t=>kp(t))).join(",");{const t=e.filters.map((n=>kp(n))).join(",");return`${e.op}(${t})`}}function o1(e,t){return e instanceof Ce?(function(s,o){return o instanceof Ce&&s.op===o.op&&s.field.isEqual(o.field)&&xi(s.value,o.value)})(e,t):e instanceof Zn?(function(s,o){return o instanceof Zn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,c,d)=>u&&o1(c,o.filters[d])),!0):!1})(e,t):void wt(19439)}function l1(e){return e instanceof Ce?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ro(n.value)}`})(e):e instanceof Zn?(function(n){return n.op.toString()+" {"+n.getFilters().map(l1).join(" ,")+"}"})(e):"Filter"}class UD extends Ce{constructor(t,n,s){super(t,n,s),this.key=vt.fromName(s.referenceValue)}matches(t){const n=vt.comparator(t.key,this.key);return this.matchesComparison(n)}}class BD extends Ce{constructor(t,n){super(t,"in",n),this.keys=u1("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class zD extends Ce{constructor(t,n){super(t,"not-in",n),this.keys=u1("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function u1(e,t){return(t.arrayValue?.values||[]).map((n=>vt.fromName(n.referenceValue)))}class jD extends Ce{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return kg(n)&&Iu(n.arrayValue,this.value)}}class qD extends Ce{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Iu(this.value.arrayValue,n)}}class HD extends Ce{constructor(t,n){super(t,"not-in",n)}matches(t){if(Iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Iu(this.value.arrayValue,n)}}class FD extends Ce{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!kg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Iu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(t,n=null,s=[],o=[],u=null,c=null,d=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=c,this.endAt=d,this.Te=null}}function QT(e,t=null,n=[],s=[],o=null,u=null,c=null){return new GD(e,t,n,s,o,u,c)}function Ug(e){const t=Bt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>kp(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),If(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>Ro(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>Ro(s))).join(",")),t.Te=n}return t.Te}function Bg(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!LD(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!o1(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!$T(e.startAt,t.startAt)&&$T(e.endAt,t.endAt)}function Up(e){return vt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(t,n=null,s=[],o=[],u=null,c="F",d=null,m=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function KD(e,t,n,s,o,u,c,d){return new ju(e,t,n,s,o,u,c,d)}function c1(e){return new ju(e)}function XT(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function h1(e){return e.collectionGroup!==null}function du(e){const t=Bt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Oe(en.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new af(u,s))})),n.has(en.keyField().canonicalString())||t.Ie.push(new af(en.keyField(),s))}return t.Ie}function Ti(e){const t=Bt(e);return t.Ee||(t.Ee=YD(t,du(e))),t.Ee}function YD(e,t){if(e.limitType==="F")return QT(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new af(o.field,u)}));const n=e.endAt?new rf(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new rf(e.startAt.position,e.startAt.inclusive):null;return QT(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function Bp(e,t){const n=e.filters.concat([t]);return new ju(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function zp(e,t,n){return new ju(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Df(e,t){return Bg(Ti(e),Ti(t))&&e.limitType===t.limitType}function f1(e){return`${Ug(Ti(e))}|lt:${e.limitType}`}function so(e){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>l1(o))).join(", ")}]`),If(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Ro(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Ro(o))).join(",")),`Target(${s})`})(Ti(e))}; limitType=${e.limitType})`}function Mf(e,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):vt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(e,t)&&(function(s,o){for(const u of du(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(e,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(e,t)&&(function(s,o){return!(s.startAt&&!(function(c,d,m){const g=YT(c,d,m);return c.inclusive?g<=0:g<0})(s.startAt,du(s),o)||s.endAt&&!(function(c,d,m){const g=YT(c,d,m);return c.inclusive?g>=0:g>0})(s.endAt,du(s),o))})(e,t)}function $D(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function d1(e){return(t,n)=>{let s=!1;for(const o of du(e)){const u=QD(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function QD(e,t,n){const s=e.field.isKeyField()?vt.comparator(t.key,n.key):(function(u,c,d){const m=c.data.field(u),g=d.data.field(u);return m!==null&&g!==null?wo(m,g):wt(42886)})(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return wt(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){jo(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return XA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=new Te(vt.comparator);function rr(){return XD}const m1=new Te(vt.comparator);function lu(...e){let t=m1;for(const n of e)t=t.insert(n.key,n);return t}function WD(e){let t=m1;return e.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Zr(){return mu()}function p1(){return mu()}function mu(){return new ca((e=>e.toString()),((e,t)=>e.isEqual(t)))}const ZD=new Oe(vt.comparator);function zt(...e){let t=ZD;for(const n of e)t=t.add(n);return t}const JD=new Oe(Ot);function tM(){return JD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ef(t)?"-0":t}}function g1(e){return{integerValue:""+e}}function eM(e,t){return ID(t)?g1(t):zg(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(){this._=void 0}}function nM(e,t,n){return e instanceof jp?(function(o,u){const c={fields:{[JA]:{stringValue:ZA},[e1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Lg(u)&&(u=xf(u)),u&&(c.fields[t1]=u),{mapValue:c}})(n,t):e instanceof of?y1(e,t):e instanceof lf?v1(e,t):(function(o,u){const c=sM(o,u),d=WT(c)+WT(o.Ae);return Lp(c)&&Lp(o.Ae)?g1(d):zg(o.serializer,d)})(e,t)}function iM(e,t,n){return e instanceof of?y1(e,t):e instanceof lf?v1(e,t):n}function sM(e,t){return e instanceof qp?(function(s){return Lp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class jp extends Vf{}class of extends Vf{constructor(t){super(),this.elements=t}}function y1(e,t){const n=_1(t);for(const s of e.elements)n.some((o=>xi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class lf extends Vf{constructor(t){super(),this.elements=t}}function v1(e,t){let n=_1(t);for(const s of e.elements)n=n.filter((o=>!xi(o,s)));return{arrayValue:{values:n}}}class qp extends Vf{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function WT(e){return _e(e.integerValue||e.doubleValue)}function _1(e){return kg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function rM(e,t){return e.field.isEqual(t.field)&&(function(s,o){return s instanceof of&&o instanceof of||s instanceof lf&&o instanceof lf?bo(s.elements,o.elements,xi):s instanceof qp&&o instanceof qp?xi(s.Ae,o.Ae):s instanceof jp&&o instanceof jp})(e.transform,t.transform)}class na{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new na}static exists(t){return new na(void 0,t)}static updateTime(t){return new na(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function qh(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class jg{}function T1(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new oM(e.key,na.none()):new qg(e.key,e.data,na.none());{const n=e.data,s=_i.empty();let o=new Oe(en.comparator);for(let u of t.fields)if(!o.has(u)){let c=n.field(u);c===null&&u.length>1&&(u=u.popLast(),c=n.field(u)),c===null?s.delete(u):s.set(u,c),o=o.add(u)}return new Nf(e.key,s,new Qs(o.toArray()),na.none())}}function aM(e,t,n){e instanceof qg?(function(o,u,c){const d=o.value.clone(),m=JT(o.fieldTransforms,u,c.transformResults);d.setAll(m),u.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(e,t,n):e instanceof Nf?(function(o,u,c){if(!qh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const d=JT(o.fieldTransforms,u,c.transformResults),m=u.data;m.setAll(E1(o)),m.setAll(d),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(e,t,n):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function pu(e,t,n,s){return e instanceof qg?(function(u,c,d,m){if(!qh(u.precondition,c))return d;const g=u.value.clone(),y=tE(u.fieldTransforms,m,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(e,t,n,s):e instanceof Nf?(function(u,c,d,m){if(!qh(u.precondition,c))return d;const g=tE(u.fieldTransforms,m,c),y=c.data;return y.setAll(E1(u)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((E=>E.field)))})(e,t,n,s):(function(u,c,d){return qh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(e,t,n)}function ZT(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&bo(s,o,((u,c)=>rM(u,c)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class qg extends jg{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Nf extends jg{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function E1(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}})),t}function JT(e,t,n){const s=new Map;ue(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let o=0;o<n.length;o++){const u=e[o],c=u.transform,d=t.data.field(u.field);s.set(u.field,iM(c,d,n[o]))}return s}function tE(e,t,n){const s=new Map;for(const o of e){const u=o.transform,c=n.data.field(o.field);s.set(o.field,nM(u,c,t))}return s}class oM extends jg{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&aM(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=pu(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=pu(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=p1();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let d=this.applyToLocalView(c,u.mutatedFields);d=n.has(o.key)?null:d;const m=T1(c,d);m!==null&&s.set(o.key,m),c.isValidDocument()||c.convertToNoDocument(bt.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),zt())}isEqual(t){return this.batchId===t.batchId&&bo(this.mutations,t.mutations,((n,s)=>ZT(n,s)))&&bo(this.baseMutations,t.baseMutations,((n,s)=>ZT(n,s)))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we,Ut;function S1(e){if(e===void 0)return ls("GRPC error has no .code"),rt.UNKNOWN;switch(e){case we.OK:return rt.OK;case we.CANCELLED:return rt.CANCELLED;case we.UNKNOWN:return rt.UNKNOWN;case we.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case we.INTERNAL:return rt.INTERNAL;case we.UNAVAILABLE:return rt.UNAVAILABLE;case we.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case we.NOT_FOUND:return rt.NOT_FOUND;case we.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case we.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case we.ABORTED:return rt.ABORTED;case we.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case we.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case we.DATA_LOSS:return rt.DATA_LOSS;default:return wt(39323,{code:e})}}(Ut=we||(we={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM=new tr([4294967295,4294967295],0);function eE(e){const t=hM().encode(e),n=new zA;return n.update(t),new Uint8Array(n.digest())}function nE(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new tr([n,s],0),new tr([o,u],0)]}class Hg{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new uu(`Invalid padding: ${n}`);if(s<0)throw new uu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new uu(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new uu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=tr.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(tr.fromNumber(s)));return o.compare(fM)===1&&(o=new tr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=eE(t),[s,o]=nE(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);if(!this.we(c))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new Hg(u,o,n);return s.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const n=eE(t),[s,o]=nE(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);this.Se(c)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,qu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Of(bt.min(),o,new Te(Ot),rr(),zt())}}class qu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new qu(s,n,zt(),zt(),zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class A1{constructor(t,n){this.targetId=t,this.Ce=n}}class b1{constructor(t,n,s=Qe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class iE{constructor(){this.ve=0,this.Fe=sE(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),n=zt(),s=zt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:wt(38017,{changeType:u})}})),new qu(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=sE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ue(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class dM{constructor(t){this.Ge=t,this.ze=new Map,this.je=rr(),this.Je=Ch(),this.He=Ch(),this.Ye=new Te(Ot)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:wt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Up(u))if(s===0){const c=new vt(u.path);this.et(n,c,tn.newNoDocument(c,bt.min()))}else ue(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const d=this.ut(t),m=d?this.ct(d,t,c):1;if(m!==0){this.it(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let c,d;try{c=ir(s).toUint8Array()}catch(m){if(m instanceof WA)return bu("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Hg(c,o,u)}catch(m){return bu(m instanceof uu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(d)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,c)=>{const d=this.ot(c);if(d){if(u.current&&Up(d.target)){const m=new vt(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,tn.newNoDocument(m,t))}u.Be&&(n.set(c,u.ke()),u.qe())}}));let s=zt();this.He.forEach(((u,c)=>{let d=!0;c.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new Of(t,n,this.Ye,this.je,s);return this.je=rr(),this.Je=Ch(),this.He=Ch(),this.Ye=new Te(Ot),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new iE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Oe(Ot),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Oe(Ot),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ht("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new iE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Ch(){return new Te(vt.comparator)}function sE(){return new Te(vt.comparator)}const mM={asc:"ASCENDING",desc:"DESCENDING"},pM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gM={and:"AND",or:"OR"};class yM{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Hp(e,t){return e.useProto3Json||If(t)?t:{value:t}}function Fp(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function w1(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function mo(e){return ue(!!e,49232),bt.fromTimestamp((function(n){const s=nr(n);return new se(s.seconds,s.nanos)})(e))}function R1(e,t){return Gp(e,t).canonicalString()}function Gp(e,t){const n=(function(o){return new ie(["projects",o.projectId,"databases",o.database])})(e).child("documents");return t===void 0?n:n.child(t)}function C1(e){const t=ie.fromString(e);return ue(V1(t),10190,{key:t.toString()}),t}function sp(e,t){const n=C1(t);if(n.get(1)!==e.databaseId.projectId)throw new ft(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ft(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new vt(x1(n))}function I1(e,t){return R1(e.databaseId,t)}function vM(e){const t=C1(e);return t.length===4?ie.emptyPath():x1(t)}function rE(e){return new ie(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function x1(e){return ue(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function _M(e,t){let n;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:wt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,y){return g.useProto3Json?(ue(y===void 0||typeof y=="string",58123),Qe.fromBase64String(y||"")):(ue(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Qe.fromUint8Array(y||new Uint8Array))})(e,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(g){const y=g.code===void 0?rt.UNKNOWN:S1(g.code);return new ft(y,g.message||"")})(c);n=new b1(s,o,u,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=sp(e,s.document.name),u=mo(s.document.updateTime),c=s.document.createTime?mo(s.document.createTime):bt.min(),d=new _i({mapValue:{fields:s.document.fields}}),m=tn.newFoundDocument(o,u,c,d),g=s.targetIds||[],y=s.removedTargetIds||[];n=new Hh(g,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=sp(e,s.document),u=s.readTime?mo(s.readTime):bt.min(),c=tn.newNoDocument(o,u),d=s.removedTargetIds||[];n=new Hh([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=sp(e,s.document),u=s.removedTargetIds||[];n=new Hh([],u,o,null)}else{if(!("filter"in t))return wt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,c=new cM(o,u),d=s.targetId;n=new A1(d,c)}}return n}function TM(e,t){return{documents:[I1(e,t.path)]}}function EM(e,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=I1(e,o);const u=(function(g){if(g.length!==0)return M1(Zn.create(g,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((y=>(function(S){return{field:ro(S.field),direction:bM(S.dir)}})(y)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const d=Hp(e,t.limit);return d!==null&&(n.structuredQuery.limit=d),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:n,parent:o}}function SM(e){let t=vM(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){ue(s===1,65062);const y=n.from[0];y.allDescendants?o=y.collectionId:t=t.child(y.collectionId)}let u=[];n.where&&(u=(function(E){const S=D1(E);return S instanceof Zn&&a1(S)?S.getFilters():[S]})(n.where));let c=[];n.orderBy&&(c=(function(E){return E.map((S=>(function(P){return new af(ao(P.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(S)))})(n.orderBy));let d=null;n.limit&&(d=(function(E){let S;return S=typeof E=="object"?E.value:E,If(S)?null:S})(n.limit));let m=null;n.startAt&&(m=(function(E){const S=!!E.before,C=E.values||[];return new rf(C,S)})(n.startAt));let g=null;return n.endAt&&(g=(function(E){const S=!E.before,C=E.values||[];return new rf(C,S)})(n.endAt)),KD(t,o,c,u,d,"F",m,g)}function AM(e,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function D1(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ao(n.unaryFilter.field);return Ce.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ao(n.unaryFilter.field);return Ce.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ao(n.unaryFilter.field);return Ce.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ao(n.unaryFilter.field);return Ce.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return wt(61313);default:return wt(60726)}})(e):e.fieldFilter!==void 0?(function(n){return Ce.create(ao(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return wt(58110);default:return wt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return Zn.create(n.compositeFilter.filters.map((s=>D1(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return wt(1026)}})(n.compositeFilter.op))})(e):wt(30097,{filter:e})}function bM(e){return mM[e]}function wM(e){return pM[e]}function RM(e){return gM[e]}function ro(e){return{fieldPath:e.canonicalString()}}function ao(e){return en.fromServerFormat(e.fieldPath)}function M1(e){return e instanceof Ce?(function(n){if(n.op==="=="){if(KT(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NAN"}};if(GT(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(KT(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NOT_NAN"}};if(GT(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ro(n.field),op:wM(n.op),value:n.value}}})(e):e instanceof Zn?(function(n){const s=n.getFilters().map((o=>M1(o)));return s.length===1?s[0]:{compositeFilter:{op:RM(n.op),filters:s}}})(e):wt(54877,{filter:e})}function V1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(t,n,s,o,u=bt.min(),c=bt.min(),d=Qe.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new Xs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(t){this.yt=t}}function IM(e){const t=SM({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?zp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(){this.Cn=new DM}addToCollectionParentIndex(t,n){return this.Cn.add(n),et.resolve()}getCollectionParents(t,n){return et.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return et.resolve()}deleteFieldIndex(t,n){return et.resolve()}deleteAllFieldIndexes(t){return et.resolve()}createTargetIndexes(t,n){return et.resolve()}getDocumentsMatchingTarget(t,n){return et.resolve(null)}getIndexType(t,n){return et.resolve(0)}getFieldIndexes(t,n){return et.resolve([])}getNextCollectionGroupToUpdate(t){return et.resolve(null)}getMinOffset(t,n){return et.resolve(er.min())}getMinOffsetFromCollectionGroup(t,n){return et.resolve(er.min())}updateCollectionGroup(t,n,s){return et.resolve()}updateIndexEntries(t,n){return et.resolve()}}class DM{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Oe(ie.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Oe(ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},N1=41943040;class pn{static withCacheSize(t){return new pn(t,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(N1,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Co(0)}static cr(){return new Co(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="LruGarbageCollector",O1=1048576;function lE([e,t],[n,s]){const o=Ot(e,n);return o===0?Ot(t,s):o}class MM{constructor(t){this.Ir=t,this.buffer=new Oe(lE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();lE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class VM{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ht(oE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){zo(n)?ht(oE,"Ignoring IndexedDB error during garbage collection: ",n):await Rf(n)}await this.Vr(3e5)}))}}class NM{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return et.resolve(Cf.ce);const s=new MM(n);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(aE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,c,d,m,g;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(t,o)))).next((E=>(s=E,d=Date.now(),this.removeTargets(t,s,n)))).next((E=>(u=E,m=Date.now(),this.removeOrphanedDocuments(t,s)))).next((E=>(g=Date.now(),io()<=Nt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${u} targets in `+(m-d)+`ms
	Removed ${E} documents in `+(g-m)+`ms
Total Duration: ${g-y}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E}))))}}function OM(e,t){return new NM(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(){this.changes=new ca((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,tn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?et.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&pu(s.mutation,o,Qs.empty(),se.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,zt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=zt()){const o=Zr();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let c=lu();return u.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const s=Zr();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,zt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(t,n,s,o){let u=rr();const c=mu(),d=(function(){return mu()})();return n.forEach(((m,g)=>{const y=s.get(g.key);o.has(g.key)&&(y===void 0||y.mutation instanceof Nf)?u=u.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),pu(y.mutation,g,y.mutation.getFieldMask(),se.now())):c.set(g.key,Qs.empty())})),this.recalculateAndSaveOverlays(t,u).next((m=>(m.forEach(((g,y)=>c.set(g,y))),n.forEach(((g,y)=>d.set(g,new LM(y,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(t,n){const s=mu();let o=new Te(((c,d)=>c-d)),u=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const d of c)d.keys().forEach((m=>{const g=n.get(m);if(g===null)return;let y=s.get(m)||Qs.empty();y=d.applyToLocalView(g,y),s.set(m,y);const E=(o.get(d.batchId)||zt()).add(m);o=o.insert(d.batchId,E)}))})).next((()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,y=m.value,E=p1();y.forEach((S=>{if(!u.has(S)){const C=T1(n.get(S),s.get(S));C!==null&&E.set(S,C),u=u.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,E))}return et.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(c){return vt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):h1(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):et.resolve(Zr());let d=wu,m=u;return c.next((g=>et.forEach(g,((y,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),u.get(y)?et.resolve():this.remoteDocumentCache.getEntry(t,y).next((S=>{m=m.insert(y,S)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,m,g,zt()))).next((y=>({batchId:d,changes:WD(y)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new vt(n)).next((s=>{let o=lu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let c=lu();return this.indexManager.getCollectionParents(t,u).next((d=>et.forEach(d,(m=>{const g=(function(E,S){return new ju(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,m.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next((y=>{y.forEach(((E,S)=>{c=c.insert(E,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((c=>{u.forEach(((m,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,tn.newInvalidDocument(y)))}));let d=lu();return c.forEach(((m,g)=>{const y=u.get(m);y!==void 0&&pu(y.mutation,g,Qs.empty(),se.now()),Mf(n,g)&&(d=d.insert(m,g))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return et.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:mo(o.createTime)}})(n)),et.resolve()}getNamedQuery(t,n){return et.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:IM(o.bundledQuery),readTime:mo(o.readTime)}})(n)),et.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(){this.overlays=new Te(vt.comparator),this.qr=new Map}getOverlay(t,n){return et.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Zr();return et.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.St(t,n,u)})),et.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),et.resolve()}getOverlaysForCollection(t,n,s){const o=Zr(),u=n.length+1,c=new vt(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>s&&o.set(m.getKey(),m)}return et.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new Te(((g,y)=>g-y));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let y=u.get(g.largestBatchId);y===null&&(y=Zr(),u=u.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const d=Zr(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,y)=>d.set(g,y))),!(d.size()>=o)););return et.resolve(d)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new uM(n,s));let u=this.qr.get(n);u===void 0&&(u=zt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return et.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,et.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(){this.Qr=new Oe(je.$r),this.Ur=new Oe(je.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new je(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new je(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new vt(new ie([])),s=new je(n,t),o=new je(n,t+1),u=[];return this.Ur.forEachInRange([s,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new vt(new ie([])),s=new je(n,t),o=new je(n,t+1);let u=zt();return this.Ur.forEachInRange([s,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const n=new je(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class je{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return vt.comparator(t.key,n.key)||Ot(t.Yr,n.Yr)}static Kr(t,n){return Ot(t.Yr,n.Yr)||vt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Oe(je.$r)}checkEmpty(t){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new lM(u,n,s,o);this.mutationQueue.push(c);for(const d of o)this.Zr=this.Zr.add(new je(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return et.resolve(c)}lookupMutationBatch(t,n){return et.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return et.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?CD:this.tr-1)}getAllMutationBatches(t){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new je(n,0),o=new je(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(c=>{const d=this.Xr(c.Yr);u.push(d)})),et.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Oe(Ot);return n.forEach((o=>{const u=new je(o,0),c=new je(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(d=>{s=s.add(d.Yr)}))})),et.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;vt.isDocumentKey(u)||(u=u.child(""));const c=new je(new vt(u),0);let d=new Oe(Ot);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(m.Yr)),!0)}),c),et.resolve(this.ti(d))}ti(t){const n=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){ue(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return et.forEach(n.mutations,(o=>{const u=new je(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new je(n,0),o=this.Zr.firstAfterOrEqual(s);return et.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,et.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(t){this.ri=t,this.docs=(function(){return new Te(vt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return et.resolve(s?s.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(t,n){let s=rr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():tn.newInvalidDocument(o))})),et.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=rr();const c=n.path,d=new vt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:y}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||AD(SD(y),s)<=0||(o.has(y.key)||Mf(n,y))&&(u=u.insert(y.key,y.mutableCopy()))}return et.resolve(u)}getAllFromCollectionGroup(t,n,s,o){wt(9500)}ii(t,n){return et.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new HM(this)}getSize(t){return et.resolve(this.size)}}class HM extends PM{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),et.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(t){this.persistence=t,this.si=new ca((n=>Ug(n)),Bg),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.oi=0,this._i=new Fg,this.targetCount=0,this.ai=Co.ur()}forEachTarget(t,n){return this.si.forEach(((s,o)=>n(o))),et.resolve()}getLastRemoteSnapshotVersion(t){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return et.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),et.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Co(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,et.resolve()}updateTargetData(t,n){return this.Pr(n),et.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,et.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)})),et.waitFor(u).next((()=>o))}getTargetCount(t){return et.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return et.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),et.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),et.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),et.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return et.resolve(s)}containsKey(t,n){return et.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(t,n){this.ui={},this.overlays={},this.ci=new Cf(0),this.li=!1,this.li=!0,this.hi=new zM,this.referenceDelegate=t(this),this.Pi=new FM(this),this.indexManager=new xM,this.remoteDocumentCache=(function(o){return new qM(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new CM(n),this.Ii=new UM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new BM,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new jM(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){ht("MemoryPersistence","Starting transaction:",t);const o=new GM(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return et.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class GM extends wD{constructor(t){super(),this.currentSequenceNumber=t}}class Gg{constructor(t){this.persistence=t,this.Ri=new Fg,this.Vi=null}static mi(t){return new Gg(t)}get fi(){if(this.Vi)return this.Vi;throw wt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),et.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),et.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),et.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.fi,(s=>{const o=vt.fromPath(s);return this.gi(t,o).next((u=>{u||n.removeEntry(o,bt.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return et.or([()=>et.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class uf{constructor(t,n){this.persistence=t,this.pi=new ca((s=>xD(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=OM(this,n)}static mi(t,n){return new uf(t,n)}Ei(){}di(t){return et.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return et.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?et.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(c=>this.br(t,c,n).next((d=>{d||(s++,u.removeEntry(c,bt.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),et.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),et.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),et.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),et.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=jh(t.data.value)),n}br(t,n,s){return et.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return et.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=zt(),o=zt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Kg(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return F2()?8:RD(sn())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(t,n,o,s).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new KM;return this.Ss(t,n,c).next((d=>{if(u.result=d,this.Vs)return this.bs(t,n,c,d.size)}))})).next((()=>u.result))}bs(t,n,s,o){return s.documentReadCount<this.fs?(io()<=Nt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",so(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),et.resolve()):(io()<=Nt.DEBUG&&ht("QueryEngine","Query:",so(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(io()<=Nt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",so(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ti(n))):et.resolve())}ys(t,n){if(XT(n))return et.resolve(null);let s=Ti(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=zp(n,null,"F"),s=Ti(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const c=zt(...u);return this.ps.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,s).next((m=>{const g=this.Ds(n,d);return this.Cs(n,g,c,m.readTime)?this.ys(t,zp(n,null,"F")):this.vs(t,g,n,m)}))))})))))}ws(t,n,s,o){return XT(n)||o.isEqual(bt.min())?et.resolve(null):this.ps.getDocuments(t,s).next((u=>{const c=this.Ds(n,u);return this.Cs(n,c,s,o)?et.resolve(null):(io()<=Nt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),so(n)),this.vs(t,c,n,ED(o,wu)).next((d=>d)))}))}Ds(t,n){let s=new Oe(d1(t));return n.forEach(((o,u)=>{Mf(t,u)&&(s=s.add(u))})),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return io()<=Nt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",so(n)),this.ps.getDocumentsMatchingQuery(t,n,er.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((c=>{u=u.insert(c.key,c)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg="LocalStore",$M=3e8;class QM{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new Te(Ot),this.xs=new ca((u=>Ug(u)),Bg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new kM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function XM(e,t,n,s){return new QM(e,t,n,s)}async function L1(e,t){const n=Bt(e);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const c=[],d=[];let m=zt();for(const g of o){c.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}for(const g of u){d.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(s,m).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function k1(e){const t=Bt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function WM(e,t){const n=Bt(e),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const d=[];t.targetChanges.forEach(((y,E)=>{const S=o.get(E);if(!S)return;d.push(n.Pi.removeMatchingKeys(u,y.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(u,y.addedDocuments,E))));let C=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(E)!==null?C=C.withResumeToken(Qe.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):y.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(y.resumeToken,s)),o=o.insert(E,C),(function(H,k,G){return H.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=$M?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0})(S,C,y)&&d.push(n.Pi.updateTargetData(u,C))}));let m=rr(),g=zt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(u,y))})),d.push(ZM(u,c,t.documentUpdates).next((y=>{m=y.ks,g=y.qs}))),!s.isEqual(bt.min())){const y=n.Pi.getLastRemoteSnapshotVersion(u).next((E=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));d.push(y)}return et.waitFor(d).next((()=>c.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,m,g))).next((()=>m))})).then((u=>(n.Ms=o,u)))}function ZM(e,t,n){let s=zt(),o=zt();return n.forEach((u=>s=s.add(u))),t.getEntries(e,s).next((u=>{let c=rr();return n.forEach(((d,m)=>{const g=u.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),m.isNoDocument()&&m.version.isEqual(bt.min())?(t.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(m),c=c.insert(d,m)):ht(Yg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)})),{ks:c,qs:o}}))}function JM(e,t){const n=Bt(e);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,t).next((u=>u?(o=u,et.resolve(o)):n.Pi.allocateTargetId(s).next((c=>(o=new Xs(t,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function Kp(e,t,n){const s=Bt(e),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!zo(c))throw c;ht(Yg,`Failed to update sequence numbers for target ${t}: ${c}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function uE(e,t,n){const s=Bt(e);let o=bt.min(),u=zt();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,g,y){const E=Bt(m),S=E.xs.get(y);return S!==void 0?et.resolve(E.Ms.get(S)):E.Pi.getTargetData(g,y)})(s,c,Ti(t)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next((m=>{u=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,t,n?o:bt.min(),n?u:zt()))).next((d=>(tV(s,$D(t),d),{documents:d,Qs:u})))))}function tV(e,t,n){let s=e.Os.get(t)||bt.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),e.Os.set(t,s)}class cE{constructor(){this.activeTargetIds=tM()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class eV{constructor(){this.Mo=new cE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new cE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="ConnectivityMonitor";class fE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ht(hE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ht(hE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ih=null;function Yp(){return Ih===null?Ih=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ih++,"0x"+Ih.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp="RestConnection",iV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sV{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===nf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const c=Yp(),d=this.zo(t,n.toUriEncodedString());ht(rp,`Sending RPC '${t}' ${c}:`,d,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,o,u);const{host:g}=new URL(d),y=ko(g);return this.Jo(t,d,m,s,y).then((E=>(ht(rp,`Received RPC '${t}' ${c}: `,E),E)),(E=>{throw bu(rp,`RPC '${t}' ${c} failed with error: `,E,"url: ",d,"request:",s),E}))}Ho(t,n,s,o,u,c){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Bo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const s=iV[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Je="WebChannelConnection";class aV extends sV{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const c=Yp();return new Promise(((d,m)=>{const g=new jA;g.setWithCredentials(!0),g.listenOnce(qA.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case zh.NO_ERROR:const E=g.getResponseJson();ht(Je,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(E)),d(E);break;case zh.TIMEOUT:ht(Je,`RPC '${t}' ${c} timed out`),m(new ft(rt.DEADLINE_EXCEEDED,"Request time out"));break;case zh.HTTP_ERROR:const S=g.getStatus();if(ht(Je,`RPC '${t}' ${c} failed with status:`,S,"response text:",g.getResponseText()),S>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const P=C?.error;if(P&&P.status&&P.message){const H=(function(G){const Y=G.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(Y)>=0?Y:rt.UNKNOWN})(P.status);m(new ft(H,P.message))}else m(new ft(rt.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ft(rt.UNAVAILABLE,"Connection failed."));break;default:wt(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ht(Je,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(o);ht(Je,`RPC '${t}' ${c} sending request:`,o),g.send(n,"POST",y,s,15)}))}T_(t,n,s){const o=Yp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=GA(),d=FA(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=u.join("");ht(Je,`Creating RPC '${t}' stream ${o}: ${y}`,m);const E=c.createWebChannel(y,m);this.I_(E);let S=!1,C=!1;const P=new rV({Yo:k=>{C?ht(Je,`Not sending because RPC '${t}' stream ${o} is closed:`,k):(S||(ht(Je,`Opening RPC '${t}' stream ${o} transport.`),E.open(),S=!0),ht(Je,`RPC '${t}' stream ${o} sending:`,k),E.send(k))},Zo:()=>E.close()}),H=(k,G,Y)=>{k.listen(G,($=>{try{Y($)}catch(lt){setTimeout((()=>{throw lt}),0)}}))};return H(E,ou.EventType.OPEN,(()=>{C||(ht(Je,`RPC '${t}' stream ${o} transport opened.`),P.o_())})),H(E,ou.EventType.CLOSE,(()=>{C||(C=!0,ht(Je,`RPC '${t}' stream ${o} transport closed`),P.a_(),this.E_(E))})),H(E,ou.EventType.ERROR,(k=>{C||(C=!0,bu(Je,`RPC '${t}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),P.a_(new ft(rt.UNAVAILABLE,"The operation could not be completed")))})),H(E,ou.EventType.MESSAGE,(k=>{if(!C){const G=k.data[0];ue(!!G,16349);const Y=G,$=Y?.error||Y[0]?.error;if($){ht(Je,`RPC '${t}' stream ${o} received error:`,$);const lt=$.status;let it=(function(w){const R=we[w];if(R!==void 0)return S1(R)})(lt),dt=$.message;it===void 0&&(it=rt.INTERNAL,dt="Unknown error status: "+lt+" with message "+$.message),C=!0,P.a_(new ft(it,dt)),E.close()}else ht(Je,`RPC '${t}' stream ${o} received:`,G),P.u_(G)}})),H(d,HA.STAT_EVENT,(k=>{k.stat===Np.PROXY?ht(Je,`RPC '${t}' stream ${o} detected buffering proxy`):k.stat===Np.NOPROXY&&ht(Je,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{P.__()}),0),P}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function ap(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(e){return new yM(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ht("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="PersistentStream";class oV{constructor(t,n,s,o,u,c,d,m){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new U1(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===rt.RESOURCE_EXHAUSTED?(ls(n.toString()),ls("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new ft(rt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ht(dE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ht(dE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class lV extends oV{constructor(t,n,s,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,c),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=_M(this.serializer,t),s=(function(u){if(!("targetChange"in u))return bt.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?bt.min():c.readTime?mo(c.readTime):bt.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=rE(this.serializer),n.addTarget=(function(u,c){let d;const m=c.target;if(d=Up(m)?{documents:TM(u,m)}:{query:EM(u,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=w1(u,c.resumeToken);const g=Hp(u,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(bt.min())>0){d.readTime=Fp(u,c.snapshotVersion.toTimestamp());const g=Hp(u,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,t);const s=AM(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=rE(this.serializer),n.removeTarget=t,this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{}class cV extends uV{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ft(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(t,Gp(n,s),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ft(rt.UNKNOWN,u.toString())}))}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(t,Gp(n,s),o,c,d,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ft(rt.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class hV{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ls(n),this.aa=!1):ht("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io="RemoteStore";class fV{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Fu(this)&&(ht(Io,"Restarting streams for network reachability change."),await(async function(m){const g=Bt(m);g.Ea.add(4),await Hu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Lf(g)})(this))}))})),this.Ra=new hV(s,o)}}async function Lf(e){if(Fu(e))for(const t of e.da)await t(!0)}async function Hu(e){for(const t of e.da)await t(!1)}function B1(e,t){const n=Bt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Wg(n)?Xg(n):qo(n).O_()&&Qg(n,t))}function $g(e,t){const n=Bt(e),s=qo(n);n.Ia.delete(t),s.O_()&&z1(n,t),n.Ia.size===0&&(s.O_()?s.L_():Fu(n)&&n.Ra.set("Unknown"))}function Qg(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}qo(e).Y_(t)}function z1(e,t){e.Va.Ue(t),qo(e).Z_(t)}function Xg(e){e.Va=new dM({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),qo(e).start(),e.Ra.ua()}function Wg(e){return Fu(e)&&!qo(e).x_()&&e.Ia.size>0}function Fu(e){return Bt(e).Ea.size===0}function j1(e){e.Va=void 0}async function dV(e){e.Ra.set("Online")}async function mV(e){e.Ia.forEach(((t,n)=>{Qg(e,t)}))}async function pV(e,t){j1(e),Wg(e)?(e.Ra.ha(t),Xg(e)):e.Ra.set("Unknown")}async function gV(e,t,n){if(e.Ra.set("Online"),t instanceof b1&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const d of u.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ia.delete(d),o.Va.removeTarget(d))})(e,t)}catch(s){ht(Io,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await mE(e,s)}else if(t instanceof Hh?e.Va.Ze(t):t instanceof A1?e.Va.st(t):e.Va.tt(t),!n.isEqual(bt.min()))try{const s=await k1(e.localStore);n.compareTo(s)>=0&&await(function(u,c){const d=u.Va.Tt(c);return d.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const y=u.Ia.get(g);y&&u.Ia.set(g,y.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,g)=>{const y=u.Ia.get(m);if(!y)return;u.Ia.set(m,y.withResumeToken(Qe.EMPTY_BYTE_STRING,y.snapshotVersion)),z1(u,m);const E=new Xs(y.target,m,g,y.sequenceNumber);Qg(u,E)})),u.remoteSyncer.applyRemoteEvent(d)})(e,n)}catch(s){ht(Io,"Failed to raise snapshot:",s),await mE(e,s)}}async function mE(e,t,n){if(!zo(t))throw t;e.Ea.add(1),await Hu(e),e.Ra.set("Offline"),n||(n=()=>k1(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ht(Io,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Lf(e)}))}async function pE(e,t){const n=Bt(e);n.asyncQueue.verifyOperationInProgress(),ht(Io,"RemoteStore received new credentials");const s=Fu(n);n.Ea.add(3),await Hu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Lf(n)}async function yV(e,t){const n=Bt(e);t?(n.Ea.delete(2),await Lf(n)):t||(n.Ea.add(2),await Hu(n),n.Ra.set("Unknown"))}function qo(e){return e.ma||(e.ma=(function(n,s,o){const u=Bt(n);return u.sa(),new lV(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(e.datastore,e.asyncQueue,{Xo:dV.bind(null,e),t_:mV.bind(null,e),r_:pV.bind(null,e),H_:gV.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),Wg(e)?Xg(e):e.Ra.set("Unknown")):(await e.ma.stop(),j1(e))}))),e.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ea,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const c=Date.now()+s,d=new Zg(t,n,c,o,u);return d.start(s),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(rt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function q1(e,t){if(ls("AsyncQueue",`${t}: ${e}`),zo(e))return new ft(rt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{static emptySet(t){return new po(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||vt.comparator(n.key,s.key):(n,s)=>vt.comparator(n.key,s.key),this.keyedMap=lu(),this.sortedSet=new Te(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof po)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new po;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(){this.ga=new Te(vt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):wt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class xo{constructor(t,n,s,o,u,c,d,m,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new xo(t,n,po.emptySet(n),c,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Df(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class _V{constructor(){this.queries=yE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Bt(n),u=o.queries;o.queries=yE(),u.forEach(((c,d)=>{for(const m of d.Sa)m.onError(s)}))})(this,new ft(rt.ABORTED,"Firestore shutting down"))}}function yE(){return new ca((e=>f1(e)),Df)}async function TV(e,t){const n=Bt(e);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new vV,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const d=q1(c,`Initialization of query '${so(t.query)}' failed`);return void t.onError(d)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&Jg(n)}async function EV(e,t){const n=Bt(e),s=t.query;let o=3;const u=n.queries.get(s);if(u){const c=u.Sa.indexOf(t);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function SV(e,t){const n=Bt(e);let s=!1;for(const o of t){const u=o.query,c=n.queries.get(u);if(c){for(const d of c.Sa)d.Fa(o)&&(s=!0);c.wa=o}}s&&Jg(n)}function AV(e,t,n){const s=Bt(e),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function Jg(e){e.Ca.forEach((t=>{t.next()}))}var $p,vE;(vE=$p||($p={})).Ma="default",vE.Cache="cache";class bV{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new xo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=xo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==$p.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(t){this.key=t}}class F1{constructor(t){this.key=t}}class wV{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=zt(),this.mutatedKeys=zt(),this.eu=d1(t),this.tu=new po(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new gE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,c=o,d=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((y,E)=>{const S=o.get(y),C=Mf(this.query,E)?E:null,P=!!S&&this.mutatedKeys.has(S.key),H=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let k=!1;S&&C?S.data.isEqual(C.data)?P!==H&&(s.track({type:3,doc:C}),k=!0):this.su(S,C)||(s.track({type:2,doc:C}),k=!0,(m&&this.eu(C,m)>0||g&&this.eu(C,g)<0)&&(d=!0)):!S&&C?(s.track({type:0,doc:C}),k=!0):S&&!C&&(s.track({type:1,doc:S}),k=!0,(m||g)&&(d=!0)),k&&(C?(c=c.add(C),u=H?u.add(y):u.delete(y)):(c=c.delete(y),u=u.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),u=u.delete(y.key),s.track({type:1,doc:y})}return{tu:c,iu:s,Cs:d,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,E)=>(function(C,P){const H=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt(20277,{Rt:k})}};return H(C)-H(P)})(y.type,E.type)||this.eu(y.doc,E.doc))),this.ou(s),o=o??!1;const d=n&&!o?this._u():[],m=this.Xa.size===0&&this.current&&!o?1:0,g=m!==this.Za;return this.Za=m,c.length!==0||g?{snapshot:new xo(this.query,t.tu,u,c,t.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=zt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new F1(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new H1(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=zt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return xo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ty="SyncEngine";class RV{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class CV{constructor(t){this.key=t,this.hu=!1}}class IV{constructor(t,n,s,o,u,c){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ca((d=>f1(d)),Df),this.Iu=new Map,this.Eu=new Set,this.du=new Te(vt.comparator),this.Au=new Map,this.Ru=new Fg,this.Vu={},this.mu=new Map,this.fu=Co.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function xV(e,t,n=!0){const s=Q1(e);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await G1(s,t,n,!0),o}async function DV(e,t){const n=Q1(e);await G1(n,t,!0,!1)}async function G1(e,t,n,s){const o=await JM(e.localStore,Ti(t)),u=o.targetId,c=e.sharedClientState.addLocalQueryTarget(u,n);let d;return s&&(d=await MV(e,t,u,c==="current",o.resumeToken)),e.isPrimaryClient&&n&&B1(e.remoteStore,o),d}async function MV(e,t,n,s,o){e.pu=(E,S,C)=>(async function(H,k,G,Y){let $=k.view.ru(G);$.Cs&&($=await uE(H.localStore,k.query,!1).then((({documents:V})=>k.view.ru(V,$))));const lt=Y&&Y.targetChanges.get(k.targetId),it=Y&&Y.targetMismatches.get(k.targetId)!=null,dt=k.view.applyChanges($,H.isPrimaryClient,lt,it);return TE(H,k.targetId,dt.au),dt.snapshot})(e,E,S,C);const u=await uE(e.localStore,t,!0),c=new wV(t,u.Qs),d=c.ru(u.documents),m=qu.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",o),g=c.applyChanges(d,e.isPrimaryClient,m);TE(e,n,g.au);const y=new RV(t,n,c);return e.Tu.set(t,y),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),g.snapshot}async function VV(e,t,n){const s=Bt(e),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((c=>!Df(c,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Kp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&$g(s.remoteStore,o.targetId),Qp(s,o.targetId)})).catch(Rf)):(Qp(s,o.targetId),await Kp(s.localStore,o.targetId,!0))}async function NV(e,t){const n=Bt(e),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),$g(n.remoteStore,s.targetId))}async function K1(e,t){const n=Bt(e);try{const s=await WM(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=n.Au.get(u);c&&(ue(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?ue(c.hu,14607):o.removedDocuments.size>0&&(ue(c.hu,42227),c.hu=!1))})),await $1(n,s,t)}catch(s){await Rf(s)}}function _E(e,t,n){const s=Bt(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,c)=>{const d=c.view.va(t);d.snapshot&&o.push(d.snapshot)})),(function(c,d){const m=Bt(c);m.onlineState=d;let g=!1;m.queries.forEach(((y,E)=>{for(const S of E.Sa)S.va(d)&&(g=!0)})),g&&Jg(m)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function OV(e,t,n){const s=Bt(e);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let c=new Te(vt.comparator);c=c.insert(u,tn.newNoDocument(u,bt.min()));const d=zt().add(u),m=new Of(bt.min(),new Map,new Te(Ot),c,d);await K1(s,m),s.du=s.du.remove(u),s.Au.delete(t),ey(s)}else await Kp(s.localStore,t,!1).then((()=>Qp(s,t,n))).catch(Rf)}function Qp(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.Iu.get(t))e.Tu.delete(s),n&&e.Pu.yu(s,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((s=>{e.Ru.containsKey(s)||Y1(e,s)}))}function Y1(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&($g(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),ey(e))}function TE(e,t,n){for(const s of n)s instanceof H1?(e.Ru.addReference(s.key,t),PV(e,s)):s instanceof F1?(ht(ty,"Document no longer in limbo: "+s.key),e.Ru.removeReference(s.key,t),e.Ru.containsKey(s.key)||Y1(e,s.key)):wt(19791,{wu:s})}function PV(e,t){const n=t.key,s=n.path.canonicalString();e.du.get(n)||e.Eu.has(s)||(ht(ty,"New document in limbo: "+n),e.Eu.add(s),ey(e))}function ey(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new vt(ie.fromString(t)),s=e.fu.next();e.Au.set(s,new CV(n)),e.du=e.du.insert(n,s),B1(e.remoteStore,new Xs(Ti(c1(n.path)),s,"TargetPurposeLimboResolution",Cf.ce))}}async function $1(e,t,n){const s=Bt(e),o=[],u=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,m)=>{c.push(s.pu(m,t,n).then((g=>{if((g||n)&&s.isPrimaryClient){const y=g?!g.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(g){o.push(g);const y=Kg.As(m.targetId,g);u.push(y)}})))})),await Promise.all(c),s.Pu.H_(o),await(async function(m,g){const y=Bt(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>et.forEach(g,(S=>et.forEach(S.Es,(C=>y.persistence.referenceDelegate.addReference(E,S.targetId,C))).next((()=>et.forEach(S.ds,(C=>y.persistence.referenceDelegate.removeReference(E,S.targetId,C)))))))))}catch(E){if(!zo(E))throw E;ht(Yg,"Failed to update sequence numbers: "+E)}for(const E of g){const S=E.targetId;if(!E.fromCache){const C=y.Ms.get(S),P=C.snapshotVersion,H=C.withLastLimboFreeSnapshotVersion(P);y.Ms=y.Ms.insert(S,H)}}})(s.localStore,u))}async function LV(e,t){const n=Bt(e);if(!n.currentUser.isEqual(t)){ht(ty,"User change. New user:",t.toKey());const s=await L1(n.localStore,t);n.currentUser=t,(function(u,c){u.mu.forEach((d=>{d.forEach((m=>{m.reject(new ft(rt.CANCELLED,c))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await $1(n,s.Ls)}}function kV(e,t){const n=Bt(e),s=n.Au.get(t);if(s&&s.hu)return zt().add(s.key);{let o=zt();const u=n.Iu.get(t);if(!u)return o;for(const c of u){const d=n.Tu.get(c);o=o.unionWith(d.view.nu)}return o}}function Q1(e){const t=Bt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=K1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=kV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=OV.bind(null,t),t.Pu.H_=SV.bind(null,t.eventManager),t.Pu.yu=AV.bind(null,t.eventManager),t}class cf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Pf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return XM(this.persistence,new YM,t.initialUser,this.serializer)}Cu(t){return new P1(Gg.mi,this.serializer)}Du(t){return new eV}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cf.provider={build:()=>new cf};class UV extends cf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){ue(this.persistence.referenceDelegate instanceof uf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new VM(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new P1((s=>uf.mi(s,n)),this.serializer)}}class Xp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>_E(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=LV.bind(null,this.syncEngine),await yV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new _V})()}createDatastore(t){const n=Pf(t.databaseInfo.databaseId),s=(function(u){return new aV(u)})(t.databaseInfo);return(function(u,c,d,m){return new cV(u,c,d,m)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,c,d){return new fV(s,o,u,c,d)})(this.localStore,this.datastore,t.asyncQueue,(n=>_E(this.syncEngine,n,0)),(function(){return fE.v()?new fE:new nV})())}createSyncEngine(t,n){return(function(o,u,c,d,m,g,y){const E=new IV(o,u,c,d,m,g);return y&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Bt(n);ht(Io,"RemoteStore shutting down."),s.Ea.add(5),await Hu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Xp.provider={build:()=>new Xp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ls("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar="FirestoreClient";class zV{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=mn.UNAUTHENTICATED,this.clientId=YA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async c=>{ht(ar,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(ht(ar,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ea;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=q1(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function op(e,t){e.asyncQueue.verifyOperationInProgress(),ht(ar,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener((async o=>{s.isEqual(o)||(await L1(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function EE(e,t){e.asyncQueue.verifyOperationInProgress();const n=await jV(e);ht(ar,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((s=>pE(t.remoteStore,s))),e.setAppCheckTokenChangeListener(((s,o)=>pE(t.remoteStore,o))),e._onlineComponents=t}async function jV(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ht(ar,"Using user provided OfflineComponentProvider");try{await op(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===rt.FAILED_PRECONDITION||o.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;bu("Error using user provided cache. Falling back to memory cache: "+n),await op(e,new cf)}}else ht(ar,"Using default OfflineComponentProvider"),await op(e,new UV(void 0));return e._offlineComponents}async function qV(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ht(ar,"Using user provided OnlineComponentProvider"),await EE(e,e._uninitializedComponentsProvider._online)):(ht(ar,"Using default OnlineComponentProvider"),await EE(e,new Xp))),e._onlineComponents}async function HV(e){const t=await qV(e),n=t.eventManager;return n.onListen=xV.bind(null,t.syncEngine),n.onUnlisten=VV.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=DV.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=NV.bind(null,t.syncEngine),n}function FV(e,t,n={}){const s=new ea;return e.asyncQueue.enqueueAndForget((async()=>(function(u,c,d,m,g){const y=new BV({next:S=>{y.Nu(),c.enqueueAndForget((()=>EV(u,E))),S.fromCache&&m.source==="server"?g.reject(new ft(rt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),E=new bV(d,y,{includeMetadataChanges:!0,qa:!0});return TV(u,E)})(await HV(e),e.asyncQueue,t,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV="firestore.googleapis.com",AE=!0;class bE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ft(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=GV,this.ssl=AE}else this.host=t.host,this.ssl=t.ssl??AE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=N1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<O1)throw new ft(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}TD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=X1(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ft(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ft(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ft(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class W1{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ft(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new cD;switch(s.type){case"firstParty":return new dD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ft(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=SE.get(n);s&&(ht("ComponentProvider","Removing Datastore"),SE.delete(n),s.terminate())})(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Ho(this.firestore,t,this._query)}}class un{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new go(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new un(this.firestore,t,this._key)}toJSON(){return{type:un._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(zu(n,un._jsonSchema))return new un(t,s||null,new vt(ie.fromString(n.referencePath)))}}un._jsonSchemaVersion="firestore/documentReference/1.0",un._jsonSchema={type:Ie("string",un._jsonSchemaVersion),referencePath:Ie("string")};class go extends Ho{constructor(t,n,s){super(t,n,c1(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new un(this.firestore,null,new vt(t))}withConverter(t){return new go(this.firestore,t,this._path)}}function xh(e,t,...n){if(e=Ii(e),_D("collection","path",t),e instanceof W1){const s=ie.fromString(t,...n);return PT(s),new go(e,null,s)}{if(!(e instanceof un||e instanceof go))throw new ft(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(ie.fromString(t,...n));return PT(s),new go(e.firestore,null,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="AsyncQueue";class RE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new U1(this,"async_queue_retry"),this._c=()=>{const s=ap();s&&ht(wE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=ap();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=ap();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ea;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!zo(t))throw t;ht(wE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,ls("INTERNAL UNHANDLED ERROR: ",CE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=Zg.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&wt(47125,{Pc:CE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function CE(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Z1 extends W1{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new RE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new RE(t),this._firestoreClient=void 0,await t}}}function KV(e,t,n){n||(n=nf);const s=Ng(e,"firestore");if(s.isInitialized(n)){const o=s.getImmediate({identifier:n}),u=s.getOptions(n);if(aa(u,t))return o;throw new ft(rt.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new ft(rt.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<O1)throw new ft(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return t.host&&ko(t.host)&&PA(t.host),s.initialize({options:t,instanceIdentifier:n})}function YV(e){if(e._terminated)throw new ft(rt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||$V(e),e._firestoreClient}function $V(e){const t=e._freezeSettings(),n=(function(o,u,c,d){return new VD(o,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,X1(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new zV(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new jn(Qe.fromBase64String(t))}catch(n){throw new ft(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new jn(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(zu(t,jn._jsonSchema))return jn.fromBase64String(t.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:Ie("string",jn._jsonSchemaVersion),bytes:Ie("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ft(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ft(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ft(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ot(this._lat,t._lat)||Ot(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ei._jsonSchemaVersion}}static fromJSON(t){if(zu(t,Ei._jsonSchema))return new Ei(t.latitude,t.longitude)}}Ei._jsonSchemaVersion="firestore/geoPoint/1.0",Ei._jsonSchema={type:Ie("string",Ei._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Si._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(zu(t,Si._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Si(t.vectorValues);throw new ft(rt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Si._jsonSchemaVersion="firestore/vectorValue/1.0",Si._jsonSchema={type:Ie("string",Si._jsonSchemaVersion),vectorValues:Ie("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV=/^__.*__$/;function eb(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt(40011,{Ac:e})}}class ny{constructor(t,n,s,o,u,c){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new ny({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Wp(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(eb(this.Ac)&&QV.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class XV{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Pf(t)}Cc(t,n,s,o=!1){return new ny({Ac:t,methodName:n,Dc:s,path:en.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function WV(e){const t=e._freezeSettings(),n=Pf(e._databaseId);return new XV(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ZV(e,t,n,s=!1){return iy(n,e.Cc(s?4:3,t))}function iy(e,t){if(nb(e=Ii(e)))return tN("Unsupported field value:",t,e),JV(e,t);if(e instanceof tb)return(function(s,o){if(!eb(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let c=0;for(const d of s){let m=iy(d,o.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),c++}return{arrayValue:{values:u}}})(e,t)}return(function(s,o){if((s=Ii(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return eM(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=se.fromDate(s);return{timestampValue:Fp(o.serializer,u)}}if(s instanceof se){const u=new se(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Fp(o.serializer,u)}}if(s instanceof Ei)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof jn)return{bytesValue:w1(o.serializer,s._byteString)};if(s instanceof un){const u=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:R1(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Si)return(function(c,d){return{mapValue:{fields:{[n1]:{stringValue:i1},[sf]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return zg(d.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${wf(s)}`)})(e,t)}function JV(e,t){const n={};return XA(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):jo(e,((s,o)=>{const u=iy(o,t.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function nb(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof se||e instanceof Ei||e instanceof jn||e instanceof un||e instanceof tb||e instanceof Si)}function tN(e,t,n){if(!nb(n)||!$A(n)){const s=wf(n);throw s==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+s)}}const eN=new RegExp("[~\\*/\\[\\]]");function nN(e,t,n){if(t.search(eN)>=0)throw Wp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new J1(...t.split("."))._internalPath}catch{throw Wp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Wp(e,t,n,s,o){const u=s&&!s.isEmpty(),c=o!==void 0;let d=`Function ${t}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(u||c)&&(m+=" (found",u&&(m+=` in field ${s}`),c&&(m+=` in document ${o}`),m+=")"),new ft(rt.INVALID_ARGUMENT,d+e+m)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new iN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(sy("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iN extends ib{data(){return super.data()}}function sy(e,t){return typeof t=="string"?nN(e,t):t instanceof J1?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new ft(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ry{}class rN extends ry{}function IE(e,t,...n){let s=[];t instanceof ry&&s.push(t),s=s.concat(n),(function(u){const c=u.filter((m=>m instanceof ay)).length,d=u.filter((m=>m instanceof kf)).length;if(c>1||c>0&&d>0)throw new ft(rt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)e=o._apply(e);return e}class kf extends rN{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new kf(t,n,s)}_apply(t){const n=this._parse(t);return sb(t._query,n),new Ho(t.firestore,t.converter,Bp(t._query,n))}_parse(t){const n=WV(t.firestore);return(function(u,c,d,m,g,y,E){let S;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ft(rt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){ME(E,y);const P=[];for(const H of E)P.push(DE(m,u,H));S={arrayValue:{values:P}}}else S=DE(m,u,E)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||ME(E,y),S=ZV(d,c,E,y==="in"||y==="not-in");return Ce.create(g,y,S)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function xE(e,t,n){const s=t,o=sy("where",e);return kf._create(o,s,n)}class ay extends ry{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new ay(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Zn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let c=o;const d=u.getFlattenedFilters();for(const m of d)sb(c,m),c=Bp(c,m)})(t._query,n),new Ho(t.firestore,t.converter,Bp(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function DE(e,t,n){if(typeof(n=Ii(n))=="string"){if(n==="")throw new ft(rt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!h1(t)&&n.indexOf("/")!==-1)throw new ft(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ie.fromString(n));if(!vt.isDocumentKey(s))throw new ft(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return FT(e,new vt(s))}if(n instanceof un)return FT(e,n._key);throw new ft(rt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wf(n)}.`)}function ME(e,t){if(!Array.isArray(e)||e.length===0)throw new ft(rt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function sb(e,t){const n=(function(o,u){for(const c of o)for(const d of c.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null})(e.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ft(rt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ft(rt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class aN{convertValue(t,n="none"){switch(sr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _e(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ir(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw wt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return jo(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[sf].arrayValue?.values?.map((s=>_e(s.doubleValue)));return new Si(n)}convertGeoPoint(t){return new Ei(_e(t.latitude),_e(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=xf(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ru(t));default:return null}}convertTimestamp(t){const n=nr(t);return new se(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ie.fromString(t);ue(V1(s),9688,{name:t});const o=new Cu(s.get(1),s.get(3)),u=new vt(s.popFirst(5));return o.isEqual(n)||ls(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class Dh{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class yo extends ib{constructor(t,n,s,o,u,c){super(t,n,s,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(sy("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(rt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=yo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}yo._jsonSchemaVersion="firestore/documentSnapshot/1.0",yo._jsonSchema={type:Ie("string",yo._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class Fh extends yo{data(t={}){return super.data(t)}}class vo{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Dh(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new Fh(this._firestore,this._userDataWriter,s.key,s,new Dh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ft(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((d=>{const m=new Fh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Dh(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>u||d.type!==3)).map((d=>{const m=new Fh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Dh(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,y=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:oN(d.type),doc:m,oldIndex:g,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(rt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=vo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=YA.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function oN(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt(61501,{type:e})}}vo._jsonSchemaVersion="firestore/querySnapshot/1.0",vo._jsonSchema={type:Ie("string",vo._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class lN extends aN{constructor(t){super(),this.firestore=t}convertBytes(t){return new jn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new un(this.firestore,null,n)}}function Mh(e){e=LT(e,Ho);const t=LT(e.firestore,Z1),n=YV(t),s=new lN(t);return sN(e._query),FV(n,e._query).then((o=>new vo(t,s,e,o)))}(function(t,n=!0){(function(o){Bo=o})(Uo),Ao(new oa("firestore",((s,{instanceIdentifier:o,options:u})=>{const c=s.getProvider("app").getImmediate(),d=new Z1(new hD(s.getProvider("auth-internal")),new mD(c,s.getProvider("app-check-internal")),(function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ft(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cu(g.options.projectId,y)})(c,o),c);return u={useFetchStreams:n,...u},d._setSettings(u),d}),"PUBLIC").setMultipleInstances(!0)),Js(MT,VT,t),Js(MT,VT,"esm2020")})();/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cN=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),VE=e=>{const t=cN(e);return t.charAt(0).toUpperCase()+t.slice(1)},rb=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),hN=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=B.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:c,...d},m)=>B.createElement("svg",{ref:m,...fN,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:rb("lucide",o),...!u&&!hN(d)&&{"aria-hidden":"true"},...d},[...c.map(([g,y])=>B.createElement(g,y)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=(e,t)=>{const n=B.forwardRef(({className:s,...o},u)=>B.createElement(dN,{ref:u,iconNode:t,className:rb(`lucide-${uN(VE(e))}`,`lucide-${e}`,s),...o}));return n.displayName=VE(e),n};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ab=cr("book-open",mN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],gN=cr("chevron-down",pN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],vN=cr("clipboard-list",yN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],ob=cr("external-link",_N);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],EN=cr("file-text",TN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],AN=cr("layers",SN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]],wN=cr("presentation",bN);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 7v10",key:"d5nglc"}],["path",{d:"M11 7v10",key:"pptsnr"}],["path",{d:"m15 7 2 10",key:"1m7qm5"}]],lb=cr("square-library",RN);var CN="firebase",IN="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Js(CN,IN,"app");function ub(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xN=ub,cb=new Uu("auth","Firebase",ub());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf=new Mg("@firebase/auth");function DN(e,...t){hf.logLevel<=Nt.WARN&&hf.warn(`Auth (${Uo}): ${e}`,...t)}function Gh(e,...t){hf.logLevel<=Nt.ERROR&&hf.error(`Auth (${Uo}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(e,...t){throw oy(e,...t)}function Ai(e,...t){return oy(e,...t)}function hb(e,t,n){const s={...xN(),[t]:n};return new Uu("auth","Firebase",s).create(t,{appName:e.name})}function ia(e){return hb(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function oy(e,...t){if(typeof e!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(n,...s)}return cb.create(e,...t)}function St(e,t,...n){if(!e)throw oy(t,...n)}function is(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Gh(t),new Error(t)}function cs(e,t){e||is(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(){return typeof self<"u"&&self.location?.href||""}function MN(){return NE()==="http:"||NE()==="https:"}function NE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MN()||j2()||"connection"in navigator)?navigator.onLine:!0}function NN(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(t,n){this.shortDelay=t,this.longDelay=n,cs(n>t,"Short delay should be less than long delay!"),this.isMobile=U2()||q2()}get(){return VN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(e,t){cs(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],LN=new Gu(3e4,6e4);function uy(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Fo(e,t,n,s,o={}){return db(e,o,async()=>{let u={},c={};s&&(t==="GET"?c=s:u={body:JSON.stringify(s)});const d=Bu({key:e.config.apiKey,...c}).slice(1),m=await e._getAdditionalHeaders();m["Content-Type"]="application/json",e.languageCode&&(m["X-Firebase-Locale"]=e.languageCode);const g={method:t,headers:m,...u};return z2()||(g.referrerPolicy="no-referrer"),e.emulatorConfig&&ko(e.emulatorConfig.host)&&(g.credentials="include"),fb.fetch()(await mb(e,e.config.apiHost,n,d),g)})}async function db(e,t,n){e._canInitEmulator=!1;const s={...ON,...t};try{const o=new UN(e),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw Vh(e,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const d=u.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vh(e,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Vh(e,"email-already-in-use",c);if(m==="USER_DISABLED")throw Vh(e,"user-disabled",c);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw hb(e,y,g);us(e,y)}}catch(o){if(o instanceof ds)throw o;us(e,"network-request-failed",{message:String(o)})}}async function kN(e,t,n,s,o={}){const u=await Fo(e,t,n,s,o);return"mfaPendingCredential"in u&&us(e,"multi-factor-auth-required",{_serverResponse:u}),u}async function mb(e,t,n,s){const o=`${t}${n}?${s}`,u=e,c=u.config.emulator?ly(e.config,o):`${e.config.apiScheme}://${o}`;return PN.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}class UN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ai(this.auth,"network-request-failed")),LN.get())})}}function Vh(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ai(e,t,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BN(e,t){return Fo(e,"POST","/v1/accounts:delete",t)}async function ff(e,t){return Fo(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function zN(e,t=!1){const n=Ii(e),s=await n.getIdToken(t),o=cy(s);St(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:s,authTime:gu(lp(o.auth_time)),issuedAtTime:gu(lp(o.iat)),expirationTime:gu(lp(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function lp(e){return Number(e)*1e3}function cy(e){const[t,n,s]=e.split(".");if(t===void 0||n===void 0||s===void 0)return Gh("JWT malformed, contained fewer than 3 sections"),null;try{const o=VA(n);return o?JSON.parse(o):(Gh("Failed to decode base64 JWT payload"),null)}catch(o){return Gh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function OE(e){const t=cy(e);return St(t,"internal-error"),St(typeof t.exp<"u","internal-error"),St(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xu(e,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof ds&&jN(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function jN({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gu(this.lastLoginAt),this.creationTime=gu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function df(e){const t=e.auth,n=await e.getIdToken(),s=await xu(e,ff(t,{idToken:n}));St(s?.users.length,t,"internal-error");const o=s.users[0];e._notifyReloadListener(o);const u=o.providerUserInfo?.length?pb(o.providerUserInfo):[],c=FN(e.providerData,u),d=e.isAnonymous,m=!(e.email&&o.passwordHash)&&!c?.length,g=d?m:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Jp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(e,y)}async function HN(e){const t=Ii(e);await df(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function FN(e,t){return[...e.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function pb(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(e,t){const n=await db(e,{},async()=>{const s=Bu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=e.config,c=await mb(e,o,"/v1/token",`key=${u}`),d=await e._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return e.emulatorConfig&&ko(e.emulatorConfig.host)&&(m.credentials="include"),fb.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function KN(e,t){return Fo(e,"POST","/v2/accounts:revokeToken",uy(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){St(t.idToken,"internal-error"),St(typeof t.idToken<"u","internal-error"),St(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):OE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){St(t.length!==0,"internal-error");const n=OE(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(St(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await GN(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,c=new _o;return s&&(St(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),o&&(St(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),u&&(St(typeof u=="number","internal-error",{appName:t}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new _o,this.toJSON())}_performRefresh(){return is("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(e,t){St(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Xn{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new qN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Jp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await xu(this,this.stsTokenManager.getToken(this.auth,t));return St(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return zN(this,t)}reload(){return HN(this)}_assign(t){this!==t&&(St(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Xn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await df(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vi(this.auth.app))return Promise.reject(ia(this.auth));const t=await this.getIdToken();return await xu(this,BN(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,g=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:E,emailVerified:S,isAnonymous:C,providerData:P,stsTokenManager:H}=n;St(E&&H,t,"internal-error");const k=_o.fromJSON(this.name,H);St(typeof E=="string",t,"internal-error"),Hs(s,t.name),Hs(o,t.name),St(typeof S=="boolean",t,"internal-error"),St(typeof C=="boolean",t,"internal-error"),Hs(u,t.name),Hs(c,t.name),Hs(d,t.name),Hs(m,t.name),Hs(g,t.name),Hs(y,t.name);const G=new Xn({uid:E,auth:t,email:o,emailVerified:S,displayName:s,isAnonymous:C,photoURL:c,phoneNumber:u,tenantId:d,stsTokenManager:k,createdAt:g,lastLoginAt:y});return P&&Array.isArray(P)&&(G.providerData=P.map(Y=>({...Y}))),m&&(G._redirectEventId=m),G}static async _fromIdTokenResponse(t,n,s=!1){const o=new _o;o.updateFromServerResponse(n);const u=new Xn({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await df(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];St(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?pb(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,d=new _o;d.updateFromIdToken(s);const m=new Xn({uid:o.localId,auth:t,stsTokenManager:d,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Jp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=new Map;function ss(e){cs(e instanceof Function,"Expected a class definition");let t=PE.get(e);return t?(cs(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,PE.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}gb.type="NONE";const LE=gb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(e,t,n){return`firebase:${e}:${t}:${n}`}class To{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Kh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Kh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await ff(this.auth,{idToken:t}).catch(()=>{});return n?Xn._fromGetAccountInfoResponse(this.auth,n,t):null}return Xn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new To(ss(LE),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ss(LE);const c=Kh(s,t.config.apiKey,t.name);let d=null;for(const g of n)try{const y=await g._get(c);if(y){let E;if(typeof y=="string"){const S=await ff(t,{idToken:y}).catch(()=>{});if(!S)break;E=await Xn._fromGetAccountInfoResponse(t,S,y)}else E=Xn._fromJSON(t,y);g!==u&&(d=E),u=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new To(u,t,s):(u=m[0],d&&await u._set(c,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new To(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Tb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(yb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Sb(t))return"Blackberry";if(Ab(t))return"Webos";if(vb(t))return"Safari";if((t.includes("chrome/")||_b(t))&&!t.includes("edge/"))return"Chrome";if(Eb(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(n);if(s?.length===2)return s[1]}return"Other"}function yb(e=sn()){return/firefox\//i.test(e)}function vb(e=sn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function _b(e=sn()){return/crios\//i.test(e)}function Tb(e=sn()){return/iemobile/i.test(e)}function Eb(e=sn()){return/android/i.test(e)}function Sb(e=sn()){return/blackberry/i.test(e)}function Ab(e=sn()){return/webos/i.test(e)}function hy(e=sn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function YN(e=sn()){return hy(e)&&!!window.navigator?.standalone}function $N(){return H2()&&document.documentMode===10}function bb(e=sn()){return hy(e)||Eb(e)||Ab(e)||Sb(e)||/windows phone/i.test(e)||Tb(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(e,t=[]){let n;switch(e){case"Browser":n=kE(sn());break;case"Worker":n=`${kE(sn())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Uo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((c,d)=>{try{const m=t(u);c(m)}catch(m){d(m)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XN(e,t={}){return Fo(e,"GET","/v2/passwordPolicy",uy(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=6;class ZN{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??WN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new UE(this),this.idTokenSubscription=new UE(this),this.beforeStateQueue=new QN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ss(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await To.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await ff(this,{idToken:t}),s=await Xn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(vi(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(t);(!u||u===c)&&d?.user&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await df(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=NN()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(vi(this.app))return Promise.reject(ia(this));const n=t?Ii(t):null;return n&&St(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&St(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return vi(this.app)?Promise.reject(ia(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return vi(this.app)?Promise.reject(ia(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ss(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await XN(this),n=new ZN(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Uu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await KN(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ss(t)||this._popupRedirectResolver;St(n,this,"argument-error"),this.redirectPersistenceManager=await To.create(this,[ss(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(d,this,"internal-error"),d.then(()=>{c||u(this.currentUser)}),typeof n=="function"){const m=t.addObserver(n,s,o);return()=>{c=!0,m()}}else{const m=t.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=wb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(vi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&DN(`Error while retrieving App Check token: ${t.error}`),t?.token}}function fy(e){return Ii(e)}class UE{constructor(t){this.auth=t,this.observer=null,this.addObserver=W2(n=>this.observer=n)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tO(e){dy=e}function eO(e){return dy.loadJS(e)}function nO(){return dy.gapiScript}function iO(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(e,t){const n=Ng(e,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(aa(u,t??{}))return o;us(o,"already-initialized")}return n.initialize({options:t})}function rO(e,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ss);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t?.popupRedirectResolver)}function aO(e,t,n){const s=fy(e);St(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=Rb(t),{host:c,port:d}=oO(t),m=d===null?"":`:${d}`,g={url:`${u}//${c}${m}/`},y=Object.freeze({host:c,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){St(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),St(aa(g,s.config.emulator)&&aa(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,ko(c)?(PA(`${u}//${c}${m}`),k2("Auth",!0)):lO()}function Rb(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function oO(e){const t=Rb(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:BE(s.substr(u.length+1))}}else{const[u,c]=s.split(":");return{host:u,port:BE(c)}}}function BE(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function lO(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return is("not implemented")}_getIdTokenResponse(t){return is("not implemented")}_linkToIdToken(t,n){return is("not implemented")}_getReauthenticationResolver(t){return is("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(e,t){return kN(e,"POST","/v1/accounts:signInWithIdp",uy(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO="http://localhost";class ua extends Cb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ua(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):us("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const c=new ua(s,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return Eo(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Eo(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Eo(t,n)}buildRequest(){const t={requestUri:uO,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Bu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku extends Ib{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends Ku{constructor(){super("facebook.com")}static credential(t){return ua._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Gs.credentialFromTaggedObject(t)}static credentialFromError(t){return Gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Gs.credential(t.oauthAccessToken)}catch{return null}}}Gs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends Ku{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ua._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Ks.credentialFromTaggedObject(t)}static credentialFromError(t){return Ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Ks.credential(n,s)}catch{return null}}}Ks.GOOGLE_SIGN_IN_METHOD="google.com";Ks.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends Ku{constructor(){super("github.com")}static credential(t){return ua._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ys.credentialFromTaggedObject(t)}static credentialFromError(t){return Ys.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ys.credential(t.oauthAccessToken)}catch{return null}}}Ys.GITHUB_SIGN_IN_METHOD="github.com";Ys.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends Ku{constructor(){super("twitter.com")}static credential(t,n){return ua._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return $s.credentialFromTaggedObject(t)}static credentialFromError(t){return $s.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return $s.credential(n,s)}catch{return null}}}$s.TWITTER_SIGN_IN_METHOD="twitter.com";$s.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Xn._fromIdTokenResponse(t,s,o),c=zE(s);return new Do({user:u,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=zE(s);return new Do({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function zE(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf extends ds{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,mf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new mf(t,n,s,o)}}function xb(e,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?mf._fromErrorAndOperation(e,u,t,s):u})}async function cO(e,t,n=!1){const s=await xu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Do._forOperation(e,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hO(e,t,n=!1){const{auth:s}=e;if(vi(s.app))return Promise.reject(ia(s));const o="reauthenticate";try{const u=await xu(e,xb(s,o,t,e),n);St(u.idToken,s,"internal-error");const c=cy(u.idToken);St(c,s,"internal-error");const{sub:d}=c;return St(e.uid===d,s,"user-mismatch"),Do._forOperation(e,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&us(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fO(e,t,n=!1){if(vi(e.app))return Promise.reject(ia(e));const s="signIn",o=await xb(e,s,t),u=await Do._fromIdTokenResponse(e,s,o);return n||await e._updateCurrentUser(u.user),u}function dO(e,t,n,s){return Ii(e).onIdTokenChanged(t,n,s)}function mO(e,t,n){return Ii(e).beforeAuthStateChanged(t,n)}const pf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(pf,"1"),this.storage.removeItem(pf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=1e3,gO=10;class Mb extends Db{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bb(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},u=this.storage.getItem(s);$N()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,gO):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},pO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Mb.type="LOCAL";const yO=Mb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb extends Db{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Vb.type="SESSION";const Nb=Vb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Uf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(c).map(async g=>g(n.origin,u)),m=await vO(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(e="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((d,m)=>{const g=my("",20);o.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(E){const S=E;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(y),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(S.data.response);break;default:clearTimeout(y),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(){return window}function TO(e){bi().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(){return typeof bi().WorkerGlobalScope<"u"&&typeof bi().importScripts=="function"}async function EO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SO(){return navigator?.serviceWorker?.controller||null}function AO(){return Ob()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="firebaseLocalStorageDb",bO=1,gf="firebaseLocalStorage",Lb="fbase_key";class Yu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Bf(e,t){return e.transaction([gf],t?"readwrite":"readonly").objectStore(gf)}function wO(){const e=indexedDB.deleteDatabase(Pb);return new Yu(e).toPromise()}function tg(){const e=indexedDB.open(Pb,bO);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore(gf,{keyPath:Lb})}catch(o){n(o)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(gf)?t(s):(s.close(),await wO(),t(await tg()))})})}async function jE(e,t,n){const s=Bf(e,!0).put({[Lb]:t,value:n});return new Yu(s).toPromise()}async function RO(e,t){const n=Bf(e,!1).get(t),s=await new Yu(n).toPromise();return s===void 0?null:s.value}function qE(e,t){const n=Bf(e,!0).delete(t);return new Yu(n).toPromise()}const CO=800,IO=3;class kb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tg(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>IO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ob()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uf._getInstance(AO()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await EO(),!this.activeServiceWorker)return;this.sender=new _O(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||SO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await tg();return await jE(t,pf,"1"),await qE(t,pf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>jE(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>RO(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>qE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Bf(o,!1).getAll();return new Yu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kb.type="LOCAL";const xO=kb;new Gu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(e,t){return t?ss(t):(St(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py extends Cb{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Eo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Eo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Eo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function MO(e){return fO(e.auth,new py(e),e.bypassAuthState)}function VO(e){const{auth:t,user:n}=e;return St(n,t,"internal-error"),hO(n,new py(e),e.bypassAuthState)}async function NO(e){const{auth:t,user:n}=e;return St(n,t,"internal-error"),cO(n,new py(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:c,type:d}=t;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return MO;case"linkViaPopup":case"linkViaRedirect":return NO;case"reauthViaPopup":case"reauthViaRedirect":return VO;default:us(this.auth,"internal-error")}}resolve(t){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO=new Gu(2e3,1e4);class oo extends Ub{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,oo.currentPopupAction&&oo.currentPopupAction.cancel(),oo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return St(t,this.auth,"internal-error"),t}async onExecution(){cs(this.filter.length===1,"Popup operations only handle one event");const t=my();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,OO.get())};t()}}oo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO="pendingRedirect",Yh=new Map;class LO extends Ub{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Yh.get(this.auth._key());if(!t){try{const s=await kO(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Yh.set(this.auth._key(),t)}return this.bypassAuthState||Yh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kO(e,t){const n=zO(t),s=BO(e);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function UO(e,t){Yh.set(e._key(),t)}function BO(e){return ss(e._redirectPersistence)}function zO(e){return Kh(PO,e.config.apiKey,e.name)}async function jO(e,t,n=!1){if(vi(e.app))return Promise.reject(ia(e));const s=fy(e),o=DO(s,t),c=await new LO(s,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO=600*1e3;class HO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!FO(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!Bb(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Ai(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=qO&&this.cachedEventUids.clear(),this.cachedEventUids.has(HE(t))}saveEventToCache(t){this.cachedEventUids.add(HE(t)),this.lastProcessedEventTime=Date.now()}}function HE(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Bb({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function FO(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bb(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GO(e,t={}){return Fo(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YO=/^https?/;async function $O(e){if(e.config.emulator)return;const{authorizedDomains:t}=await GO(e);for(const n of t)try{if(QO(n))return}catch{}us(e,"unauthorized-domain")}function QO(e){const t=Zp(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&s===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!YO.test(n))return!1;if(KO.test(e))return s===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO=new Gu(3e4,6e4);function FE(){const e=bi().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function WO(e){return new Promise((t,n)=>{function s(){FE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{FE(),n(Ai(e,"network-request-failed"))},timeout:XO.get()})}if(bi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(bi().gapi?.load)s();else{const o=iO("iframefcb");return bi()[o]=()=>{gapi.load?s():n(Ai(e,"network-request-failed"))},eO(`${nO()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw $h=null,t})}let $h=null;function ZO(e){return $h=$h||WO(e),$h}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO=new Gu(5e3,15e3),tP="__/auth/iframe",eP="emulator/auth/iframe",nP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sP(e){const t=e.config;St(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?ly(t,eP):`https://${e.config.authDomain}/${tP}`,s={apiKey:t.apiKey,appName:e.name,v:Uo},o=iP.get(e.config.apiHost);o&&(s.eid=o);const u=e._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Bu(s).slice(1)}`}async function rP(e){const t=await ZO(e),n=bi().gapi;return St(n,e,"internal-error"),t.open({where:document.body,url:sP(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nP,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const c=Ai(e,"network-request-failed"),d=bi().setTimeout(()=>{u(c)},JO.get());function m(){bi().clearTimeout(d),o(s)}s.ping(m).then(m,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oP=500,lP=600,uP="_blank",cP="http://localhost";class GE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hP(e,t,n,s=oP,o=lP){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m={...aP,width:s.toString(),height:o.toString(),top:u,left:c},g=sn().toLowerCase();n&&(d=_b(g)?uP:n),yb(g)&&(t=t||cP,m.scrollbars="yes");const y=Object.entries(m).reduce((S,[C,P])=>`${S}${C}=${P},`,"");if(YN(g)&&d!=="_self")return fP(t||"",d),new GE(null);const E=window.open(t||"",d,y);St(E,e,"popup-blocked");try{E.focus()}catch{}return new GE(E)}function fP(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP="__/auth/handler",mP="emulator/auth/handler",pP=encodeURIComponent("fac");async function KE(e,t,n,s,o,u){St(e.config.authDomain,e,"auth-domain-config-required"),St(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:Uo,eventId:o};if(t instanceof Ib){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",X2(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,E]of Object.entries({}))c[y]=E}if(t instanceof Ku){const y=t.getScopes().filter(E=>E!=="");y.length>0&&(c.scopes=y.join(","))}e.tenantId&&(c.tid=e.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await e._getAppCheckToken(),g=m?`#${pP}=${encodeURIComponent(m)}`:"";return`${gP(e)}?${Bu(d).slice(1)}${g}`}function gP({config:e}){return e.emulator?ly(e,mP):`https://${e.authDomain}/${dP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up="webStorageSupport";class yP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Nb,this._completeRedirectFn=jO,this._overrideRedirectResult=UO}async _openPopup(t,n,s,o){cs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await KE(t,n,s,Zp(),o);return hP(t,u,my())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await KE(t,n,s,Zp(),o);return TO(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(cs(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await rP(t),s=new HO(t);return n.register("authEvent",o=>(St(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(up,{type:up},o=>{const u=o?.[0]?.[up];u!==void 0&&n(!!u),us(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$O(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return bb()||vb()||hy()}}const vP=yP;var YE="@firebase/auth",$E="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function EP(e){Ao(new oa("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;St(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:d,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wb(e)},g=new JN(s,o,u,m);return rO(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Ao(new oa("auth-internal",t=>{const n=fy(t.getProvider("auth").getImmediate());return(s=>new _P(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Js(YE,$E,TP(e)),Js(YE,$E,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP=300,AP=OA("authIdTokenMaxAge")||SP;let QE=null;const bP=e=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>AP)return;const o=n?.token;QE!==o&&(QE=o,await fetch(e,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function zb(e=Zx()){const t=Ng(e,"auth");if(t.isInitialized())return t.getImmediate();const n=sO(e,{popupRedirectResolver:vP,persistence:[xO,yO,Nb]}),s=OA("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const c=bP(u.toString());mO(n,c,()=>c(n.currentUser)),dO(n,d=>c(d))}}const o=N2("auth");return o&&aO(n,`http://${o}`),n}function wP(){return document.getElementsByTagName("head")?.[0]??document}tO({loadJS(e){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=o=>{const u=Ai("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",wP().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});EP("Browser");const jb={apiKey:"AIzaSyDUCyCMuw1WxUsO52rf3K5a01CRbI2Qgrg",authDomain:"stdserver-94bec.firebaseapp.com",projectId:"stdserver-94bec",storageBucket:"stdserver-94bec.firebasestorage.app",messagingSenderId:"104857912312",appId:"1:104857912312:web:0f9468476fec38151acc0d",measurementId:"G-B4RR6XWWDK"},qb=Og(jb);zb(qb);const RP=Og(jb,"Secondary");zb(RP);const Nh=KV(qb,{experimentalAutoDetectLongPolling:!0}),CP="/stdSC/assets/logo-tR9Ir_51.png",Hb=B.createContext({});function IP(e){const t=B.useRef(null);return t.current===null&&(t.current=e()),t.current}const gy=typeof window<"u",xP=gy?B.useLayoutEffect:B.useEffect,yy=B.createContext(null);function vy(e,t){e.indexOf(t)===-1&&e.push(t)}function _y(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const hs=(e,t,n)=>n>t?t:n<e?e:n;let Ty=()=>{};const fs={},Fb=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Gb(e){return typeof e=="object"&&e!==null}const Kb=e=>/^0[^.\s]+$/u.test(e);function Ey(e){let t;return()=>(t===void 0&&(t=e()),t)}const qn=e=>e,DP=(e,t)=>n=>t(e(n)),$u=(...e)=>e.reduce(DP),Du=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class Sy{constructor(){this.subscriptions=[]}add(t){return vy(this.subscriptions,t),()=>_y(this.subscriptions,t)}notify(t,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,s);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const wi=e=>e*1e3,Ri=e=>e/1e3;function Yb(e,t){return t?e*(1e3/t):0}const $b=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,MP=1e-7,VP=12;function NP(e,t,n,s,o){let u,c,d=0;do c=t+(n-t)/2,u=$b(c,s,o)-e,u>0?n=c:t=c;while(Math.abs(u)>MP&&++d<VP);return c}function Qu(e,t,n,s){if(e===t&&n===s)return qn;const o=u=>NP(u,0,1,e,n);return u=>u===0||u===1?u:$b(o(u),t,s)}const Qb=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Xb=e=>t=>1-e(1-t),Wb=Qu(.33,1.53,.69,.99),Ay=Xb(Wb),Zb=Qb(Ay),Jb=e=>(e*=2)<1?.5*Ay(e):.5*(2-Math.pow(2,-10*(e-1))),by=e=>1-Math.sin(Math.acos(e)),tw=Xb(by),ew=Qb(by),OP=Qu(.42,0,1,1),PP=Qu(0,0,.58,1),nw=Qu(.42,0,.58,1),LP=e=>Array.isArray(e)&&typeof e[0]!="number",iw=e=>Array.isArray(e)&&typeof e[0]=="number",kP={linear:qn,easeIn:OP,easeInOut:nw,easeOut:PP,circIn:by,circInOut:ew,circOut:tw,backIn:Ay,backInOut:Zb,backOut:Wb,anticipate:Jb},UP=e=>typeof e=="string",XE=e=>{if(iw(e)){Ty(e.length===4);const[t,n,s,o]=e;return Qu(t,n,s,o)}else if(UP(e))return kP[e];return e},Oh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function BP(e,t){let n=new Set,s=new Set,o=!1,u=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(g.schedule(y),e()),y(d)}const g={schedule:(y,E=!1,S=!1)=>{const P=S&&o?n:s;return E&&c.add(y),P.has(y)||P.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(d=y,o){u=!0;return}o=!0,[n,s]=[s,n],n.forEach(m),n.clear(),o=!1,u&&(u=!1,g.process(y))}};return g}const zP=40;function sw(e,t){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>n=!0,c=Oh.reduce(($,lt)=>($[lt]=BP(u),$),{}),{setup:d,read:m,resolveKeyframes:g,preUpdate:y,update:E,preRender:S,render:C,postRender:P}=c,H=()=>{const $=fs.useManualTiming?o.timestamp:performance.now();n=!1,fs.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min($-o.timestamp,zP),1)),o.timestamp=$,o.isProcessing=!0,d.process(o),m.process(o),g.process(o),y.process(o),E.process(o),S.process(o),C.process(o),P.process(o),o.isProcessing=!1,n&&t&&(s=!1,e(H))},k=()=>{n=!0,s=!0,o.isProcessing||e(H)};return{schedule:Oh.reduce(($,lt)=>{const it=c[lt];return $[lt]=(dt,V=!1,w=!1)=>(n||k(),it.schedule(dt,V,w)),$},{}),cancel:$=>{for(let lt=0;lt<Oh.length;lt++)c[Oh[lt]].cancel($)},state:o,steps:c}}const{schedule:re,cancel:or,state:Ye,steps:cp}=sw(typeof requestAnimationFrame<"u"?requestAnimationFrame:qn,!0);let Qh;function jP(){Qh=void 0}const gn={now:()=>(Qh===void 0&&gn.set(Ye.isProcessing||fs.useManualTiming?Ye.timestamp:performance.now()),Qh),set:e=>{Qh=e,queueMicrotask(jP)}},rw=e=>t=>typeof t=="string"&&t.startsWith(e),wy=rw("--"),qP=rw("var(--"),Ry=e=>qP(e)?HP.test(e.split("/*")[0].trim()):!1,HP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Go={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Mu={...Go,transform:e=>hs(0,1,e)},Ph={...Go,default:1},yu=e=>Math.round(e*1e5)/1e5,Cy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function FP(e){return e==null}const GP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Iy=(e,t)=>n=>!!(typeof n=="string"&&GP.test(n)&&n.startsWith(e)||t&&!FP(n)&&Object.prototype.hasOwnProperty.call(n,t)),aw=(e,t,n)=>s=>{if(typeof s!="string")return s;const[o,u,c,d]=s.match(Cy);return{[e]:parseFloat(o),[t]:parseFloat(u),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},KP=e=>hs(0,255,e),hp={...Go,transform:e=>Math.round(KP(e))},Jr={test:Iy("rgb","red"),parse:aw("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+hp.transform(e)+", "+hp.transform(t)+", "+hp.transform(n)+", "+yu(Mu.transform(s))+")"};function YP(e){let t="",n="",s="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,s+=s,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const eg={test:Iy("#"),parse:YP,transform:Jr.transform},Xu=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Fs=Xu("deg"),Ci=Xu("%"),Et=Xu("px"),$P=Xu("vh"),QP=Xu("vw"),WE={...Ci,parse:e=>Ci.parse(e)/100,transform:e=>Ci.transform(e*100)},lo={test:Iy("hsl","hue"),parse:aw("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Ci.transform(yu(t))+", "+Ci.transform(yu(n))+", "+yu(Mu.transform(s))+")"},Re={test:e=>Jr.test(e)||eg.test(e)||lo.test(e),parse:e=>Jr.test(e)?Jr.parse(e):lo.test(e)?lo.parse(e):eg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Jr.transform(e):lo.transform(e),getAnimatableNone:e=>{const t=Re.parse(e);return t.alpha=0,Re.transform(t)}},XP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function WP(e){return isNaN(e)&&typeof e=="string"&&(e.match(Cy)?.length||0)+(e.match(XP)?.length||0)>0}const ow="number",lw="color",ZP="var",JP="var(",ZE="${}",t4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Vu(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},o=[];let u=0;const d=t.replace(t4,m=>(Re.test(m)?(s.color.push(u),o.push(lw),n.push(Re.parse(m))):m.startsWith(JP)?(s.var.push(u),o.push(ZP),n.push(m)):(s.number.push(u),o.push(ow),n.push(parseFloat(m))),++u,ZE)).split(ZE);return{values:n,split:d,indexes:s,types:o}}function uw(e){return Vu(e).values}function cw(e){const{split:t,types:n}=Vu(e),s=t.length;return o=>{let u="";for(let c=0;c<s;c++)if(u+=t[c],o[c]!==void 0){const d=n[c];d===ow?u+=yu(o[c]):d===lw?u+=Re.transform(o[c]):u+=o[c]}return u}}const e4=e=>typeof e=="number"?0:Re.test(e)?Re.getAnimatableNone(e):e;function n4(e){const t=uw(e);return cw(e)(t.map(e4))}const lr={test:WP,parse:uw,createTransformer:cw,getAnimatableNone:n4};function fp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function i4({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let o=0,u=0,c=0;if(!t)o=u=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,m=2*n-d;o=fp(m,d,e+1/3),u=fp(m,d,e),c=fp(m,d,e-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:s}}function yf(e,t){return n=>n>0?t:e}const le=(e,t,n)=>e+(t-e)*n,dp=(e,t,n)=>{const s=e*e,o=n*(t*t-s)+s;return o<0?0:Math.sqrt(o)},s4=[eg,Jr,lo],r4=e=>s4.find(t=>t.test(e));function JE(e){const t=r4(e);if(!t)return!1;let n=t.parse(e);return t===lo&&(n=i4(n)),n}const tS=(e,t)=>{const n=JE(e),s=JE(t);if(!n||!s)return yf(e,t);const o={...n};return u=>(o.red=dp(n.red,s.red,u),o.green=dp(n.green,s.green,u),o.blue=dp(n.blue,s.blue,u),o.alpha=le(n.alpha,s.alpha,u),Jr.transform(o))},ng=new Set(["none","hidden"]);function a4(e,t){return ng.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function o4(e,t){return n=>le(e,t,n)}function xy(e){return typeof e=="number"?o4:typeof e=="string"?Ry(e)?yf:Re.test(e)?tS:c4:Array.isArray(e)?hw:typeof e=="object"?Re.test(e)?tS:l4:yf}function hw(e,t){const n=[...e],s=n.length,o=e.map((u,c)=>xy(u)(u,t[c]));return u=>{for(let c=0;c<s;c++)n[c]=o[c](u);return n}}function l4(e,t){const n={...e,...t},s={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(s[o]=xy(e[o])(e[o],t[o]));return o=>{for(const u in s)n[u]=s[u](o);return n}}function u4(e,t){const n=[],s={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=e.indexes[u][s[u]],d=e.values[c]??0;n[o]=d,s[u]++}return n}const c4=(e,t)=>{const n=lr.createTransformer(t),s=Vu(e),o=Vu(t);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?ng.has(e)&&!o.values.length||ng.has(t)&&!s.values.length?a4(e,t):$u(hw(u4(s,o),o.values),n):yf(e,t)};function fw(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?le(e,t,n):xy(e)(e,t)}const h4=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>re.update(t,n),stop:()=>or(t),now:()=>Ye.isProcessing?Ye.timestamp:gn.now()}},dw=(e,t,n=10)=>{let s="";const o=Math.max(Math.round(t/n),2);for(let u=0;u<o;u++)s+=Math.round(e(u/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},vf=2e4;function Dy(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<vf;)t+=n,s=e.next(t);return t>=vf?1/0:t}function f4(e,t=100,n){const s=n({...e,keyframes:[0,t]}),o=Math.min(Dy(s),vf);return{type:"keyframes",ease:u=>s.next(o*u).value/t,duration:Ri(o)}}const d4=5;function mw(e,t,n){const s=Math.max(t-d4,0);return Yb(n-e(s),t-s)}const me={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},mp=.001;function m4({duration:e=me.duration,bounce:t=me.bounce,velocity:n=me.velocity,mass:s=me.mass}){let o,u,c=1-t;c=hs(me.minDamping,me.maxDamping,c),e=hs(me.minDuration,me.maxDuration,Ri(e)),c<1?(o=g=>{const y=g*c,E=y*e,S=y-n,C=ig(g,c),P=Math.exp(-E);return mp-S/C*P},u=g=>{const E=g*c*e,S=E*n+n,C=Math.pow(c,2)*Math.pow(g,2)*e,P=Math.exp(-E),H=ig(Math.pow(g,2),c);return(-o(g)+mp>0?-1:1)*((S-C)*P)/H}):(o=g=>{const y=Math.exp(-g*e),E=(g-n)*e+1;return-mp+y*E},u=g=>{const y=Math.exp(-g*e),E=(n-g)*(e*e);return y*E});const d=5/e,m=g4(o,u,d);if(e=wi(e),isNaN(m))return{stiffness:me.stiffness,damping:me.damping,duration:e};{const g=Math.pow(m,2)*s;return{stiffness:g,damping:c*2*Math.sqrt(s*g),duration:e}}}const p4=12;function g4(e,t,n){let s=n;for(let o=1;o<p4;o++)s=s-e(s)/t(s);return s}function ig(e,t){return e*Math.sqrt(1-t*t)}const y4=["duration","bounce"],v4=["stiffness","damping","mass"];function eS(e,t){return t.some(n=>e[n]!==void 0)}function _4(e){let t={velocity:me.velocity,stiffness:me.stiffness,damping:me.damping,mass:me.mass,isResolvedFromDuration:!1,...e};if(!eS(e,v4)&&eS(e,y4))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),o=s*s,u=2*hs(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:me.mass,stiffness:o,damping:u}}else{const n=m4(e);t={...t,...n,mass:me.mass},t.isResolvedFromDuration=!0}return t}function _f(e=me.visualDuration,t=me.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:o}=n;const u=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:u},{stiffness:m,damping:g,mass:y,duration:E,velocity:S,isResolvedFromDuration:C}=_4({...n,velocity:-Ri(n.velocity||0)}),P=S||0,H=g/(2*Math.sqrt(m*y)),k=c-u,G=Ri(Math.sqrt(m/y)),Y=Math.abs(k)<5;s||(s=Y?me.restSpeed.granular:me.restSpeed.default),o||(o=Y?me.restDelta.granular:me.restDelta.default);let $;if(H<1){const it=ig(G,H);$=dt=>{const V=Math.exp(-H*G*dt);return c-V*((P+H*G*k)/it*Math.sin(it*dt)+k*Math.cos(it*dt))}}else if(H===1)$=it=>c-Math.exp(-G*it)*(k+(P+G*k)*it);else{const it=G*Math.sqrt(H*H-1);$=dt=>{const V=Math.exp(-H*G*dt),w=Math.min(it*dt,300);return c-V*((P+H*G*k)*Math.sinh(w)+it*k*Math.cosh(w))/it}}const lt={calculatedDuration:C&&E||null,next:it=>{const dt=$(it);if(C)d.done=it>=E;else{let V=it===0?P:0;H<1&&(V=it===0?wi(P):mw($,it,dt));const w=Math.abs(V)<=s,R=Math.abs(c-dt)<=o;d.done=w&&R}return d.value=d.done?c:dt,d},toString:()=>{const it=Math.min(Dy(lt),vf),dt=dw(V=>lt.next(it*V).value,it,30);return it+"ms "+dt},toTransition:()=>{}};return lt}_f.applyToOptions=e=>{const t=f4(e,100,_f);return e.ease=t.ease,e.duration=wi(t.duration),e.type="keyframes",e};function sg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:d,max:m,restDelta:g=.5,restSpeed:y}){const E=e[0],S={done:!1,value:E},C=w=>d!==void 0&&w<d||m!==void 0&&w>m,P=w=>d===void 0?m:m===void 0||Math.abs(d-w)<Math.abs(m-w)?d:m;let H=n*t;const k=E+H,G=c===void 0?k:c(k);G!==k&&(H=G-E);const Y=w=>-H*Math.exp(-w/s),$=w=>G+Y(w),lt=w=>{const R=Y(w),D=$(w);S.done=Math.abs(R)<=g,S.value=S.done?G:D};let it,dt;const V=w=>{C(S.value)&&(it=w,dt=_f({keyframes:[S.value,P(S.value)],velocity:mw($,w,S.value),damping:o,stiffness:u,restDelta:g,restSpeed:y}))};return V(0),{calculatedDuration:null,next:w=>{let R=!1;return!dt&&it===void 0&&(R=!0,lt(w),V(w)),it!==void 0&&w>=it?dt.next(w-it):(!R&&lt(w),S)}}}function T4(e,t,n){const s=[],o=n||fs.mix||fw,u=e.length-1;for(let c=0;c<u;c++){let d=o(e[c],e[c+1]);if(t){const m=Array.isArray(t)?t[c]||qn:t;d=$u(m,d)}s.push(d)}return s}function E4(e,t,{clamp:n=!0,ease:s,mixer:o}={}){const u=e.length;if(Ty(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[u-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=T4(t,s,o),m=d.length,g=y=>{if(c&&y<e[0])return t[0];let E=0;if(m>1)for(;E<e.length-2&&!(y<e[E+1]);E++);const S=Du(e[E],e[E+1],y);return d[E](S)};return n?y=>g(hs(e[0],e[u-1],y)):g}function S4(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const o=Du(0,t,s);e.push(le(n,1,o))}}function A4(e){const t=[0];return S4(t,e.length-1),t}function b4(e,t){return e.map(n=>n*t)}function w4(e,t){return e.map(()=>t||nw).splice(0,e.length-1)}function vu({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const o=LP(s)?s.map(XE):XE(s),u={done:!1,value:t[0]},c=b4(n&&n.length===t.length?n:A4(t),e),d=E4(c,t,{ease:Array.isArray(o)?o:w4(t,o)});return{calculatedDuration:e,next:m=>(u.value=d(m),u.done=m>=e,u)}}const R4=e=>e!==null;function My(e,{repeat:t,repeatType:n="loop"},s,o=1){const u=e.filter(R4),d=o<0||t&&n!=="loop"&&t%2===1?0:u.length-1;return!d||s===void 0?u[d]:s}const C4={decay:sg,inertia:sg,tween:vu,keyframes:vu,spring:_f};function pw(e){typeof e.type=="string"&&(e.type=C4[e.type])}class Vy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const I4=e=>e/100;class Ny extends Vy{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==gn.now()&&this.tick(gn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;pw(t);const{type:n=vu,repeat:s=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:d}=t;const m=n||vu;m!==vu&&typeof d[0]!="number"&&(this.mixKeyframes=$u(I4,fw(d[0],d[1])),d=[0,100]);const g=m({...t,keyframes:d});u==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...d].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=Dy(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=g}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:y,repeat:E,repeatType:S,repeatDelay:C,type:P,onUpdate:H,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const G=this.currentTime-g*(this.playbackSpeed>=0?1:-1),Y=this.playbackSpeed>=0?G<0:G>o;this.currentTime=Math.max(G,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let $=this.currentTime,lt=s;if(E){const w=Math.min(this.currentTime,o)/d;let R=Math.floor(w),D=w%1;!D&&w>=1&&(D=1),D===1&&R--,R=Math.min(R,E+1),!!(R%2)&&(S==="reverse"?(D=1-D,C&&(D-=C/d)):S==="mirror"&&(lt=c)),$=hs(0,1,D)*d}const it=Y?{done:!1,value:y[0]}:lt.next($);u&&(it.value=u(it.value));let{done:dt}=it;!Y&&m!==null&&(dt=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&dt);return V&&P!==sg&&(it.value=My(y,this.options,k,this.speed)),H&&H(it.value),V&&this.finish(),it}then(t,n){return this.finished.then(t,n)}get duration(){return Ri(this.calculatedDuration)}get time(){return Ri(this.currentTime)}set time(t){t=wi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(gn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ri(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=h4,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(gn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function x4(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ta=e=>e*180/Math.PI,rg=e=>{const t=ta(Math.atan2(e[1],e[0]));return ag(t)},D4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:rg,rotateZ:rg,skewX:e=>ta(Math.atan(e[1])),skewY:e=>ta(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},ag=e=>(e=e%360,e<0&&(e+=360),e),nS=rg,iS=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),sS=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),M4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:iS,scaleY:sS,scale:e=>(iS(e)+sS(e))/2,rotateX:e=>ag(ta(Math.atan2(e[6],e[5]))),rotateY:e=>ag(ta(Math.atan2(-e[2],e[0]))),rotateZ:nS,rotate:nS,skewX:e=>ta(Math.atan(e[4])),skewY:e=>ta(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function og(e){return e.includes("scale")?1:0}function lg(e,t){if(!e||e==="none")return og(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(n)s=M4,o=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=D4,o=d}if(!o)return og(t);const u=s[t],c=o[1].split(",").map(N4);return typeof u=="function"?u(c):c[u]}const V4=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return lg(n,t)};function N4(e){return parseFloat(e.trim())}const Ko=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Yo=new Set(Ko),rS=e=>e===Go||e===Et,O4=new Set(["x","y","z"]),P4=Ko.filter(e=>!O4.has(e));function L4(e){const t=[];return P4.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const sa={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>lg(t,"x"),y:(e,{transform:t})=>lg(t,"y")};sa.translateX=sa.x;sa.translateY=sa.y;const ra=new Set;let ug=!1,cg=!1,hg=!1;function gw(){if(cg){const e=Array.from(ra).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const o=L4(s);o.length&&(n.set(s,o),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const o=n.get(s);o&&o.forEach(([u,c])=>{s.getValue(u)?.set(c)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}cg=!1,ug=!1,ra.forEach(e=>e.complete(hg)),ra.clear()}function yw(){ra.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(cg=!0)})}function k4(){hg=!0,yw(),gw(),hg=!1}class Oy{constructor(t,n,s,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(ra.add(this),ug||(ug=!0,re.read(yw),re.resolveKeyframes(gw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:o}=this;if(t[0]===null){const u=o?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(s&&n){const d=s.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}x4(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ra.delete(this)}cancel(){this.state==="scheduled"&&(ra.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const U4=e=>e.startsWith("--");function B4(e,t,n){U4(t)?e.style.setProperty(t,n):e.style[t]=n}const z4=Ey(()=>window.ScrollTimeline!==void 0),j4={};function q4(e,t){const n=Ey(e);return()=>j4[t]??n()}const vw=q4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),cu=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,aS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cu([0,.65,.55,1]),circOut:cu([.55,0,1,.45]),backIn:cu([.31,.01,.66,-.59]),backOut:cu([.33,1.53,.69,.99])};function _w(e,t){if(e)return typeof e=="function"?vw()?dw(e,t):"ease-out":iw(e)?cu(e):Array.isArray(e)?e.map(n=>_w(n,t)||aS.easeOut):aS[e]}function H4(e,t,n,{delay:s=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:d="easeOut",times:m}={},g=void 0){const y={[t]:n};m&&(y.offset=m);const E=_w(d,o);Array.isArray(E)&&(y.easing=E);const S={delay:s,duration:o,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return g&&(S.pseudoElement=g),e.animate(y,S)}function Tw(e){return typeof e=="function"&&"applyToOptions"in e}function F4({type:e,...t}){return Tw(e)&&vw()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class G4 extends Vy{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:d,onComplete:m}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,Ty(typeof t.type!="string");const g=F4(t);this.animation=H4(n,s,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const y=My(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):B4(n,s,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Ri(Number(t))}get time(){return Ri(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=wi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&z4()?(this.animation.timeline=t,qn):n(this)}}const Ew={anticipate:Jb,backInOut:Zb,circInOut:ew};function K4(e){return e in Ew}function Y4(e){typeof e.ease=="string"&&K4(e.ease)&&(e.ease=Ew[e.ease])}const oS=10;class $4 extends G4{constructor(t){Y4(t),pw(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:o,element:u,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new Ny({...c,autoplay:!1}),m=wi(this.finishedTime??this.time);n.setWithVelocity(d.sample(m-oS).value,d.sample(m).value,oS),d.stop()}}const lS=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(lr.test(e)||e==="0")&&!e.startsWith("url("));function Q4(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function X4(e,t,n,s){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=e[e.length-1],c=lS(o,t),d=lS(u,t);return!c||!d?!1:Q4(e)||(n==="spring"||Tw(n))&&s}function fg(e){e.duration=0,e.type}const W4=new Set(["opacity","clipPath","filter","transform"]),Z4=Ey(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function J4(e){const{motionValue:t,name:n,repeatDelay:s,repeatType:o,damping:u,type:c}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=t.owner.getProps();return Z4()&&n&&W4.has(n)&&(n!=="transform"||!g)&&!m&&!s&&o!=="mirror"&&u!==0&&c!=="inertia"}const tL=40;class eL extends Vy{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:d,name:m,motionValue:g,element:y,...E}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=gn.now();const S={autoplay:t,delay:n,type:s,repeat:o,repeatDelay:u,repeatType:c,name:m,motionValue:g,element:y,...E},C=y?.KeyframeResolver||Oy;this.keyframeResolver=new C(d,(P,H,k)=>this.onKeyframesResolved(P,H,S,!k),m,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,s,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:d,delay:m,isHandoff:g,onUpdate:y}=s;this.resolvedAt=gn.now(),X4(t,u,c,d)||((fs.instantAnimations||!m)&&y?.(My(t,s,n)),t[0]=t[t.length-1],fg(s),s.repeat=0);const S={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>tL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},C=!g&&J4(S)?new $4({...S,element:S.motionValue.owner.current}):new Ny(S);C.finished.then(()=>this.notifyFinished()).catch(qn),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),k4()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const nL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function iL(e){const t=nL.exec(e);if(!t)return[,];const[,n,s,o]=t;return[`--${n??s}`,o]}function Sw(e,t,n=1){const[s,o]=iL(e);if(!s)return;const u=window.getComputedStyle(t).getPropertyValue(s);if(u){const c=u.trim();return Fb(c)?parseFloat(c):c}return Ry(o)?Sw(o,t,n+1):o}function Py(e,t){return e?.[t]??e?.default??e}const Aw=new Set(["width","height","top","left","right","bottom",...Ko]),sL={test:e=>e==="auto",parse:e=>e},bw=e=>t=>t.test(e),ww=[Go,Et,Ci,Fs,QP,$P,sL],uS=e=>ww.find(bw(e));function rL(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Kb(e):!0}const aL=new Set(["brightness","contrast","saturate","opacity"]);function oL(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Cy)||[];if(!s)return e;const o=n.replace(s,"");let u=aL.has(t)?1:0;return s!==n&&(u*=100),t+"("+u+o+")"}const lL=/\b([a-z-]*)\(.*?\)/gu,dg={...lr,getAnimatableNone:e=>{const t=e.match(lL);return t?t.map(oL).join(" "):e}},cS={...Go,transform:Math.round},uL={rotate:Fs,rotateX:Fs,rotateY:Fs,rotateZ:Fs,scale:Ph,scaleX:Ph,scaleY:Ph,scaleZ:Ph,skew:Fs,skewX:Fs,skewY:Fs,distance:Et,translateX:Et,translateY:Et,translateZ:Et,x:Et,y:Et,z:Et,perspective:Et,transformPerspective:Et,opacity:Mu,originX:WE,originY:WE,originZ:Et},Ly={borderWidth:Et,borderTopWidth:Et,borderRightWidth:Et,borderBottomWidth:Et,borderLeftWidth:Et,borderRadius:Et,radius:Et,borderTopLeftRadius:Et,borderTopRightRadius:Et,borderBottomRightRadius:Et,borderBottomLeftRadius:Et,width:Et,maxWidth:Et,height:Et,maxHeight:Et,top:Et,right:Et,bottom:Et,left:Et,padding:Et,paddingTop:Et,paddingRight:Et,paddingBottom:Et,paddingLeft:Et,margin:Et,marginTop:Et,marginRight:Et,marginBottom:Et,marginLeft:Et,backgroundPositionX:Et,backgroundPositionY:Et,...uL,zIndex:cS,fillOpacity:Mu,strokeOpacity:Mu,numOctaves:cS},cL={...Ly,color:Re,backgroundColor:Re,outlineColor:Re,fill:Re,stroke:Re,borderColor:Re,borderTopColor:Re,borderRightColor:Re,borderBottomColor:Re,borderLeftColor:Re,filter:dg,WebkitFilter:dg},Rw=e=>cL[e];function Cw(e,t){let n=Rw(e);return n!==dg&&(n=lr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const hL=new Set(["auto","none","0"]);function fL(e,t,n){let s=0,o;for(;s<e.length&&!o;){const u=e[s];typeof u=="string"&&!hL.has(u)&&Vu(u).values.length&&(o=e[s]),s++}if(o&&n)for(const u of t)e[u]=Cw(n,o)}class dL extends Oy{constructor(t,n,s,o,u){super(t,n,s,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let g=t[m];if(typeof g=="string"&&(g=g.trim(),Ry(g))){const y=Sw(g,n.current);y!==void 0&&(t[m]=y),m===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!Aw.has(s)||t.length!==2)return;const[o,u]=t,c=uS(o),d=uS(u);if(c!==d)if(rS(c)&&rS(d))for(let m=0;m<t.length;m++){const g=t[m];typeof g=="string"&&(t[m]=parseFloat(g))}else sa[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let o=0;o<t.length;o++)(t[o]===null||rL(t[o]))&&s.push(o);s.length&&fL(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=sa[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(s,o).jump(o,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const u=s.length-1,c=s[u];s[u]=sa[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{t.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function mL(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const o=n?.[e]??s.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const Iw=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function pL(e){return Gb(e)&&"offsetHeight"in e}const hS=30,gL=e=>!isNaN(parseFloat(e));class yL{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const o=gn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=gn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=gL(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Sy);const s=this.events[t].add(n);return t==="change"?()=>{s(),re.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=gn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>hS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,hS);return Yb(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Mo(e,t){return new yL(e,t)}const{schedule:ky}=sw(queueMicrotask,!1),Qn={x:!1,y:!1};function xw(){return Qn.x||Qn.y}function vL(e){return e==="x"||e==="y"?Qn[e]?null:(Qn[e]=!0,()=>{Qn[e]=!1}):Qn.x||Qn.y?null:(Qn.x=Qn.y=!0,()=>{Qn.x=Qn.y=!1})}function Dw(e,t){const n=mL(e),s=new AbortController,o={passive:!0,...t,signal:s.signal};return[n,o,()=>s.abort()]}function fS(e){return!(e.pointerType==="touch"||xw())}function _L(e,t,n={}){const[s,o,u]=Dw(e,n),c=d=>{if(!fS(d))return;const{target:m}=d,g=t(m,d);if(typeof g!="function"||!m)return;const y=E=>{fS(E)&&(g(E),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,o)};return s.forEach(d=>{d.addEventListener("pointerenter",c,o)}),u}const Mw=(e,t)=>t?e===t?!0:Mw(e,t.parentElement):!1,Uy=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,TL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function EL(e){return TL.has(e.tagName)||e.tabIndex!==-1}const Xh=new WeakSet;function dS(e){return t=>{t.key==="Enter"&&e(t)}}function pp(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const SL=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=dS(()=>{if(Xh.has(n))return;pp(n,"down");const o=dS(()=>{pp(n,"up")}),u=()=>pp(n,"cancel");n.addEventListener("keyup",o,t),n.addEventListener("blur",u,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function mS(e){return Uy(e)&&!xw()}function AL(e,t,n={}){const[s,o,u]=Dw(e,n),c=d=>{const m=d.currentTarget;if(!mS(d))return;Xh.add(m);const g=t(m,d),y=(C,P)=>{window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",S),Xh.has(m)&&Xh.delete(m),mS(C)&&typeof g=="function"&&g(C,{success:P})},E=C=>{y(C,m===window||m===document||n.useGlobalTarget||Mw(m,C.target))},S=C=>{y(C,!1)};window.addEventListener("pointerup",E,o),window.addEventListener("pointercancel",S,o)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,o),pL(d)&&(d.addEventListener("focus",g=>SL(g,o)),!EL(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),u}function Vw(e){return Gb(e)&&"ownerSVGElement"in e}function bL(e){return Vw(e)&&e.tagName==="svg"}const nn=e=>!!(e&&e.getVelocity),wL=[...ww,Re,lr],RL=e=>wL.find(bw(e)),Nw=B.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function CL(e=!0){const t=B.useContext(yy);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=t,u=B.useId();B.useEffect(()=>{if(e)return o(u)},[e]);const c=B.useCallback(()=>e&&s&&s(u),[u,s,e]);return!n&&s?[!1,c]:[!0]}const Ow=B.createContext({strict:!1}),pS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Vo={};for(const e in pS)Vo[e]={isEnabled:t=>pS[e].some(n=>!!t[n])};function IL(e){for(const t in e)Vo[t]={...Vo[t],...e[t]}}const xL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Tf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||xL.has(e)}let Pw=e=>!Tf(e);function DL(e){typeof e=="function"&&(Pw=t=>t.startsWith("on")?!Tf(t):e(t))}try{DL(require("@emotion/is-prop-valid").default)}catch{}function ML(e,t,n){const s={};for(const o in e)o==="values"&&typeof e.values=="object"||(Pw(o)||n===!0&&Tf(o)||!t&&!Tf(o)||e.draggable&&o.startsWith("onDrag"))&&(s[o]=e[o]);return s}const zf=B.createContext({});function jf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Nu(e){return typeof e=="string"||Array.isArray(e)}const By=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],zy=["initial",...By];function qf(e){return jf(e.animate)||zy.some(t=>Nu(e[t]))}function Lw(e){return!!(qf(e)||e.variants)}function VL(e,t){if(qf(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Nu(n)?n:void 0,animate:Nu(s)?s:void 0}}return e.inherit!==!1?t:{}}function NL(e){const{initial:t,animate:n}=VL(e,B.useContext(zf));return B.useMemo(()=>({initial:t,animate:n}),[gS(t),gS(n)])}function gS(e){return Array.isArray(e)?e.join(" "):e}const Ou={};function OL(e){for(const t in e)Ou[t]=e[t],wy(t)&&(Ou[t].isCSSVariable=!0)}function kw(e,{layout:t,layoutId:n}){return Yo.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ou[e]||e==="opacity")}const PL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},LL=Ko.length;function kL(e,t,n){let s="",o=!0;for(let u=0;u<LL;u++){const c=Ko[u],d=e[c];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(c.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||n){const g=Iw(d,Ly[c]);if(!m){o=!1;const y=PL[c]||c;s+=`${y}(${g}) `}n&&(t[c]=g)}}return s=s.trim(),n?s=n(t,o?"":s):o&&(s="none"),s}function jy(e,t,n){const{style:s,vars:o,transformOrigin:u}=e;let c=!1,d=!1;for(const m in t){const g=t[m];if(Yo.has(m)){c=!0;continue}else if(wy(m)){o[m]=g;continue}else{const y=Iw(g,Ly[m]);m.startsWith("origin")?(d=!0,u[m]=y):s[m]=y}}if(t.transform||(c||n?s.transform=kL(t,e.transform,n):s.transform&&(s.transform="none")),d){const{originX:m="50%",originY:g="50%",originZ:y=0}=u;s.transformOrigin=`${m} ${g} ${y}`}}const qy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Uw(e,t,n){for(const s in t)!nn(t[s])&&!kw(s,n)&&(e[s]=t[s])}function UL({transformTemplate:e},t){return B.useMemo(()=>{const n=qy();return jy(n,t,e),Object.assign({},n.vars,n.style)},[t])}function BL(e,t){const n=e.style||{},s={};return Uw(s,n,e),Object.assign(s,UL(e,t)),s}function zL(e,t){const n={},s=BL(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const jL={offset:"stroke-dashoffset",array:"stroke-dasharray"},qL={offset:"strokeDashoffset",array:"strokeDasharray"};function HL(e,t,n=1,s=0,o=!0){e.pathLength=1;const u=o?jL:qL;e[u.offset]=Et.transform(-s);const c=Et.transform(t),d=Et.transform(n);e[u.array]=`${c} ${d}`}function Bw(e,{attrX:t,attrY:n,attrScale:s,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...d},m,g,y){if(jy(e,d,g),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:E,style:S}=e;E.transform&&(S.transform=E.transform,delete E.transform),(S.transform||E.transformOrigin)&&(S.transformOrigin=E.transformOrigin??"50% 50%",delete E.transformOrigin),S.transform&&(S.transformBox=y?.transformBox??"fill-box",delete E.transformBox),t!==void 0&&(E.x=t),n!==void 0&&(E.y=n),s!==void 0&&(E.scale=s),o!==void 0&&HL(E,o,u,c,!1)}const zw=()=>({...qy(),attrs:{}}),jw=e=>typeof e=="string"&&e.toLowerCase()==="svg";function FL(e,t,n,s){const o=B.useMemo(()=>{const u=zw();return Bw(u,t,jw(s),e.transformTemplate,e.style),{...u.attrs,style:{...u.style}}},[t]);if(e.style){const u={};Uw(u,e.style,e),o.style={...u,...o.style}}return o}const GL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Hy(e){return typeof e!="string"||e.includes("-")?!1:!!(GL.indexOf(e)>-1||/[A-Z]/u.test(e))}function KL(e,t,n,{latestValues:s},o,u=!1){const d=(Hy(e)?FL:zL)(t,s,o,e),m=ML(t,typeof e=="string",u),g=e!==B.Fragment?{...m,...d,ref:n}:{},{children:y}=t,E=B.useMemo(()=>nn(y)?y.get():y,[y]);return B.createElement(e,{...g,children:E})}function yS(e){const t=[{},{}];return e?.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function Fy(e,t,n,s){if(typeof t=="function"){const[o,u]=yS(s);t=t(n!==void 0?n:e.custom,o,u)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,u]=yS(s);t=t(n!==void 0?n:e.custom,o,u)}return t}function Wh(e){return nn(e)?e.get():e}function YL({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,o){return{latestValues:$L(n,s,o,e),renderState:t()}}function $L(e,t,n,s){const o={},u=s(e,{});for(const S in u)o[S]=Wh(u[S]);let{initial:c,animate:d}=e;const m=qf(e),g=Lw(e);t&&g&&!m&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const E=y?d:c;if(E&&typeof E!="boolean"&&!jf(E)){const S=Array.isArray(E)?E:[E];for(let C=0;C<S.length;C++){const P=Fy(e,S[C]);if(P){const{transitionEnd:H,transition:k,...G}=P;for(const Y in G){let $=G[Y];if(Array.isArray($)){const lt=y?$.length-1:0;$=$[lt]}$!==null&&(o[Y]=$)}for(const Y in H)o[Y]=H[Y]}}}return o}const qw=e=>(t,n)=>{const s=B.useContext(zf),o=B.useContext(yy),u=()=>YL(e,t,s,o);return n?u():IP(u)};function Gy(e,t,n){const{style:s}=e,o={};for(const u in s)(nn(s[u])||t.style&&nn(t.style[u])||kw(u,e)||n?.getValue(u)?.liveStyle!==void 0)&&(o[u]=s[u]);return o}const QL=qw({scrapeMotionValuesFromProps:Gy,createRenderState:qy});function Hw(e,t,n){const s=Gy(e,t,n);for(const o in e)if(nn(e[o])||nn(t[o])){const u=Ko.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[u]=e[o]}return s}const XL=qw({scrapeMotionValuesFromProps:Hw,createRenderState:zw}),WL=Symbol.for("motionComponentSymbol");function uo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function ZL(e,t,n){return B.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):uo(n)&&(n.current=s))},[t,n])}const Ky=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),JL="framerAppearId",Fw="data-"+Ky(JL),Gw=B.createContext({});function tk(e,t,n,s,o){const{visualElement:u}=B.useContext(zf),c=B.useContext(Ow),d=B.useContext(yy),m=B.useContext(Nw).reducedMotion,g=B.useRef(null);s=s||c.renderer,!g.current&&s&&(g.current=s(e,{visualState:t,parent:u,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const y=g.current,E=B.useContext(Gw);y&&!y.projection&&o&&(y.type==="html"||y.type==="svg")&&ek(g.current,n,o,E);const S=B.useRef(!1);B.useInsertionEffect(()=>{y&&S.current&&y.update(n,d)});const C=n[Fw],P=B.useRef(!!C&&!window.MotionHandoffIsComplete?.(C)&&window.MotionHasOptimisedAnimation?.(C));return xP(()=>{y&&(S.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),P.current&&y.animationState&&y.animationState.animateChanges())}),B.useEffect(()=>{y&&(!P.current&&y.animationState&&y.animationState.animateChanges(),P.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(C)}),P.current=!1),y.enteringChildren=void 0)}),y}function ek(e,t,n,s){const{layoutId:o,layout:u,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:g,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Kw(e.parent)),e.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||d&&uo(d),visualElement:e,animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:g})}function Kw(e){if(e)return e.options.allowProjection!==!1?e.projection:Kw(e.parent)}function gp(e,{forwardMotionProps:t=!1}={},n,s){n&&IL(n);const o=Hy(e)?XL:QL;function u(d,m){let g;const y={...B.useContext(Nw),...d,layoutId:nk(d)},{isStatic:E}=y,S=NL(d),C=o(d,E);if(!E&&gy){ik();const P=sk(y);g=P.MeasureLayout,S.visualElement=tk(e,C,y,s,P.ProjectionNode)}return tt.jsxs(zf.Provider,{value:S,children:[g&&S.visualElement?tt.jsx(g,{visualElement:S.visualElement,...y}):null,KL(e,d,ZL(C,S.visualElement,m),C,E,t)]})}u.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=B.forwardRef(u);return c[WL]=e,c}function nk({layoutId:e}){const t=B.useContext(Hb).id;return t&&e!==void 0?t+"-"+e:e}function ik(e,t){B.useContext(Ow).strict}function sk(e){const{drag:t,layout:n}=Vo;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function rk(e,t){if(typeof Proxy>"u")return gp;const n=new Map,s=(u,c)=>gp(u,c,e,t),o=(u,c)=>s(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?s:(n.has(c)||n.set(c,gp(c,void 0,e,t)),n.get(c))})}function Yw({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function ak({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function ok(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function yp(e){return e===void 0||e===1}function mg({scale:e,scaleX:t,scaleY:n}){return!yp(e)||!yp(t)||!yp(n)}function Wr(e){return mg(e)||$w(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function $w(e){return vS(e.x)||vS(e.y)}function vS(e){return e&&e!=="0%"}function Ef(e,t,n){const s=e-n,o=t*s;return n+o}function _S(e,t,n,s,o){return o!==void 0&&(e=Ef(e,o,s)),Ef(e,n,s)+t}function pg(e,t=0,n=1,s,o){e.min=_S(e.min,t,n,s,o),e.max=_S(e.max,t,n,s,o)}function Qw(e,{x:t,y:n}){pg(e.x,t.translate,t.scale,t.originPoint),pg(e.y,n.translate,n.scale,n.originPoint)}const TS=.999999999999,ES=1.0000000000001;function lk(e,t,n,s=!1){const o=n.length;if(!o)return;t.x=t.y=1;let u,c;for(let d=0;d<o;d++){u=n[d],c=u.projectionDelta;const{visualElement:m}=u.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ho(e,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,Qw(e,c)),s&&Wr(u.latestValues)&&ho(e,u.latestValues))}t.x<ES&&t.x>TS&&(t.x=1),t.y<ES&&t.y>TS&&(t.y=1)}function co(e,t){e.min=e.min+t,e.max=e.max+t}function SS(e,t,n,s,o=.5){const u=le(e.min,e.max,o);pg(e,t,n,u,s)}function ho(e,t){SS(e.x,t.x,t.scaleX,t.scale,t.originX),SS(e.y,t.y,t.scaleY,t.scale,t.originY)}function Xw(e,t){return Yw(ok(e.getBoundingClientRect(),t))}function uk(e,t,n){const s=Xw(e,n),{scroll:o}=t;return o&&(co(s.x,o.offset.x),co(s.y,o.offset.y)),s}const AS=()=>({translate:0,scale:1,origin:0,originPoint:0}),fo=()=>({x:AS(),y:AS()}),bS=()=>({min:0,max:0}),ve=()=>({x:bS(),y:bS()}),gg={current:null},Ww={current:!1};function ck(){if(Ww.current=!0,!!gy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>gg.current=e.matches;e.addEventListener("change",t),t()}else gg.current=!1}const hk=new WeakMap;function fk(e,t,n){for(const s in t){const o=t[s],u=n[s];if(nn(o))e.addValue(s,o);else if(nn(u))e.addValue(s,Mo(o,{owner:e}));else if(u!==o)if(e.hasValue(s)){const c=e.getValue(s);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=e.getStaticValue(s);e.addValue(s,Mo(c!==void 0?c:o,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const wS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class dk{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Oy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=gn.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,re.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=g,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!u,this.isControllingVariants=qf(n),this.isVariantNode=Lw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...E}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in E){const C=E[S];m[S]!==void 0&&nn(C)&&C.set(m[S])}}mount(t){this.current=t,hk.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),Ww.current||ck(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:gg.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),or(this.notifyUpdate),or(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Yo.has(t);s&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&re.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Vo){const n=Vo[t];if(!n)continue;const{isEnabled:s,Feature:o}=n;if(!this.features[t]&&o&&s(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ve()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<wS.length;s++){const o=wS[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=fk(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Mo(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(Fb(s)||Kb(s))?s=parseFloat(s):!RL(s)&&lr.test(n)&&(s=Cw(t,n)),this.setBaseTarget(t,nn(s)?s.get():s)),nn(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const u=Fy(this.props,n,this.presenceContext?.custom);u&&(s=u[t])}if(n&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!nn(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Sy),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){ky.render(this.render)}}class Zw extends dk{constructor(){super(...arguments),this.KeyframeResolver=dL}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;nn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Jw(e,{style:t,vars:n},s,o){const u=e.style;let c;for(c in t)u[c]=t[c];o?.applyProjectionStyles(u,s);for(c in n)u.setProperty(c,n[c])}function mk(e){return window.getComputedStyle(e)}class pk extends Zw{constructor(){super(...arguments),this.type="html",this.renderInstance=Jw}readValueFromInstance(t,n){if(Yo.has(n))return this.projection?.isProjecting?og(n):V4(t,n);{const s=mk(t),o=(wy(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Xw(t,n)}build(t,n,s){jy(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return Gy(t,n,s)}}const tR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function gk(e,t,n,s){Jw(e,t,void 0,s);for(const o in t.attrs)e.setAttribute(tR.has(o)?o:Ky(o),t.attrs[o])}class yk extends Zw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ve}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Yo.has(n)){const s=Rw(n);return s&&s.default||0}return n=tR.has(n)?n:Ky(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return Hw(t,n,s)}build(t,n,s){Bw(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,o){gk(t,n,s,o)}mount(t){this.isSVGTag=jw(t.tagName),super.mount(t)}}const vk=(e,t)=>Hy(e)?new yk(t):new pk(t,{allowProjection:e!==B.Fragment});function So(e,t,n){const s=e.getProps();return Fy(s,t,n!==void 0?n:s.custom,e)}const yg=e=>Array.isArray(e);function _k(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Mo(n))}function Tk(e){return yg(e)?e[e.length-1]||0:e}function Ek(e,t){const n=So(e,t);let{transitionEnd:s={},transition:o={},...u}=n||{};u={...u,...s};for(const c in u){const d=Tk(u[c]);_k(e,c,d)}}function Sk(e){return!!(nn(e)&&e.add)}function vg(e,t){const n=e.getValue("willChange");if(Sk(n))return n.add(t);if(!n&&fs.WillChange){const s=new fs.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function eR(e){return e.props[Fw]}const Ak=e=>e!==null;function bk(e,{repeat:t,repeatType:n="loop"},s){const o=e.filter(Ak),u=t&&n!=="loop"&&t%2===1?0:o.length-1;return o[u]}const wk={type:"spring",stiffness:500,damping:25,restSpeed:10},Rk=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Ck={type:"keyframes",duration:.8},Ik={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},xk=(e,{keyframes:t})=>t.length>2?Ck:Yo.has(e)?e.startsWith("scale")?Rk(t[1]):wk:Ik;function Dk({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:d,from:m,elapsed:g,...y}){return!!Object.keys(y).length}const Yy=(e,t,n,s={},o,u)=>c=>{const d=Py(s,e)||{},m=d.delay||s.delay||0;let{elapsed:g=0}=s;g=g-wi(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:S=>{t.set(S),d.onUpdate&&d.onUpdate(S)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:u?void 0:o};Dk(d)||Object.assign(y,xk(e,y)),y.duration&&(y.duration=wi(y.duration)),y.repeatDelay&&(y.repeatDelay=wi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let E=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(fg(y),y.delay===0&&(E=!0)),(fs.instantAnimations||fs.skipAnimations)&&(E=!0,fg(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,E&&!u&&t.get()!==void 0){const S=bk(y.keyframes,d);if(S!==void 0){re.update(()=>{y.onUpdate(S),y.onComplete()});return}}return d.isSync?new Ny(y):new eL(y)};function Mk({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function nR(e,t,{delay:n=0,transitionOverride:s,type:o}={}){let{transition:u=e.getDefaultTransition(),transitionEnd:c,...d}=t;s&&(u=s);const m=[],g=o&&e.animationState&&e.animationState.getState()[o];for(const y in d){const E=e.getValue(y,e.latestValues[y]??null),S=d[y];if(S===void 0||g&&Mk(g,y))continue;const C={delay:n,...Py(u||{},y)},P=E.get();if(P!==void 0&&!E.isAnimating&&!Array.isArray(S)&&S===P&&!C.velocity)continue;let H=!1;if(window.MotionHandoffAnimation){const G=eR(e);if(G){const Y=window.MotionHandoffAnimation(G,y,re);Y!==null&&(C.startTime=Y,H=!0)}}vg(e,y),E.start(Yy(y,E,S,e.shouldReduceMotion&&Aw.has(y)?{type:!1}:C,e,H));const k=E.animation;k&&m.push(k)}return c&&Promise.all(m).then(()=>{re.update(()=>{c&&Ek(e,c)})}),m}function iR(e,t,n,s=0,o=1){const u=Array.from(e).sort((g,y)=>g.sortNodePosition(y)).indexOf(t),c=e.size,d=(c-1)*s;return typeof n=="function"?n(u,c):o===1?u*s:d-u*s}function _g(e,t,n={}){const s=So(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const u=s?()=>Promise.all(nR(e,s,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:E}=o;return Vk(e,t,m,g,y,E,n)}:()=>Promise.resolve(),{when:d}=o;if(d){const[m,g]=d==="beforeChildren"?[u,c]:[c,u];return m().then(()=>g())}else return Promise.all([u(),c(n.delay)])}function Vk(e,t,n=0,s=0,o=0,u=1,c){const d=[];for(const m of e.variantChildren)m.notify("AnimationStart",t),d.push(_g(m,t,{...c,delay:n+(typeof s=="function"?0:s)+iR(e.variantChildren,m,s,o,u)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(d)}function Nk(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const o=t.map(u=>_g(e,u,n));s=Promise.all(o)}else if(typeof t=="string")s=_g(e,t,n);else{const o=typeof t=="function"?So(e,t,n.custom):t;s=Promise.all(nR(e,o,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function sR(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const Ok=zy.length;function rR(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?rR(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Ok;n++){const s=zy[n],o=e.props[s];(Nu(o)||o===!1)&&(t[s]=o)}return t}const Pk=[...By].reverse(),Lk=By.length;function kk(e){return t=>Promise.all(t.map(({animation:n,options:s})=>Nk(e,n,s)))}function Uk(e){let t=kk(e),n=RS(),s=!0;const o=m=>(g,y)=>{const E=So(e,y,m==="exit"?e.presenceContext?.custom:void 0);if(E){const{transition:S,transitionEnd:C,...P}=E;g={...g,...P,...C}}return g};function u(m){t=m(e)}function c(m){const{props:g}=e,y=rR(e.parent)||{},E=[],S=new Set;let C={},P=1/0;for(let k=0;k<Lk;k++){const G=Pk[k],Y=n[G],$=g[G]!==void 0?g[G]:y[G],lt=Nu($),it=G===m?Y.isActive:null;it===!1&&(P=k);let dt=$===y[G]&&$!==g[G]&&lt;if(dt&&s&&e.manuallyAnimateOnMount&&(dt=!1),Y.protectedKeys={...C},!Y.isActive&&it===null||!$&&!Y.prevProp||jf($)||typeof $=="boolean")continue;const V=Bk(Y.prevProp,$);let w=V||G===m&&Y.isActive&&!dt&&lt||k>P&&lt,R=!1;const D=Array.isArray($)?$:[$];let N=D.reduce(o(G),{});it===!1&&(N={});const{prevResolvedValues:L={}}=Y,x={...L,...N},ce=st=>{w=!0,S.has(st)&&(R=!0,S.delete(st)),Y.needsAnimating[st]=!0;const ct=e.getValue(st);ct&&(ct.liveStyle=!1)};for(const st in x){const ct=N[st],Ct=L[st];if(C.hasOwnProperty(st))continue;let M=!1;yg(ct)&&yg(Ct)?M=!sR(ct,Ct):M=ct!==Ct,M?ct!=null?ce(st):S.add(st):ct!==void 0&&S.has(st)?ce(st):Y.protectedKeys[st]=!0}Y.prevProp=$,Y.prevResolvedValues=N,Y.isActive&&(C={...C,...N}),s&&e.blockInitialAnimation&&(w=!1);const te=dt&&V;w&&(!te||R)&&E.push(...D.map(st=>{const ct={type:G};if(typeof st=="string"&&s&&!te&&e.manuallyAnimateOnMount&&e.parent){const{parent:Ct}=e,M=So(Ct,st);if(Ct.enteringChildren&&M){const{delayChildren:nt}=M.transition||{};ct.delay=iR(Ct.enteringChildren,e,nt)}}return{animation:st,options:ct}}))}if(S.size){const k={};if(typeof g.initial!="boolean"){const G=So(e,Array.isArray(g.initial)?g.initial[0]:g.initial);G&&G.transition&&(k.transition=G.transition)}S.forEach(G=>{const Y=e.getBaseTarget(G),$=e.getValue(G);$&&($.liveStyle=!0),k[G]=Y??null}),E.push({animation:k})}let H=!!E.length;return s&&(g.initial===!1||g.initial===g.animate)&&!e.manuallyAnimateOnMount&&(H=!1),s=!1,H?t(E):Promise.resolve()}function d(m,g){if(n[m].isActive===g)return Promise.resolve();e.variantChildren?.forEach(E=>E.animationState?.setActive(m,g)),n[m].isActive=g;const y=c(m);for(const E in n)n[E].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:u,getState:()=>n,reset:()=>{n=RS(),s=!0}}}function Bk(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!sR(t,e):!1}function Qr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function RS(){return{animate:Qr(!0),whileInView:Qr(),whileHover:Qr(),whileTap:Qr(),whileDrag:Qr(),whileFocus:Qr(),exit:Qr()}}class hr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class zk extends hr{constructor(t){super(t),t.animationState||(t.animationState=Uk(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();jf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let jk=0;class qk extends hr{constructor(){super(...arguments),this.id=jk++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Hk={animation:{Feature:zk},exit:{Feature:qk}};function Pu(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function Wu(e){return{point:{x:e.pageX,y:e.pageY}}}const Fk=e=>t=>Uy(t)&&e(t,Wu(t));function _u(e,t,n,s){return Pu(e,t,Fk(n),s)}const aR=1e-4,Gk=1-aR,Kk=1+aR,oR=.01,Yk=0-oR,$k=0+oR;function cn(e){return e.max-e.min}function Qk(e,t,n){return Math.abs(e-t)<=n}function CS(e,t,n,s=.5){e.origin=s,e.originPoint=le(t.min,t.max,e.origin),e.scale=cn(n)/cn(t),e.translate=le(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Gk&&e.scale<=Kk||isNaN(e.scale))&&(e.scale=1),(e.translate>=Yk&&e.translate<=$k||isNaN(e.translate))&&(e.translate=0)}function Tu(e,t,n,s){CS(e.x,t.x,n.x,s?s.originX:void 0),CS(e.y,t.y,n.y,s?s.originY:void 0)}function IS(e,t,n){e.min=n.min+t.min,e.max=e.min+cn(t)}function Xk(e,t,n){IS(e.x,t.x,n.x),IS(e.y,t.y,n.y)}function xS(e,t,n){e.min=t.min-n.min,e.max=e.min+cn(t)}function Eu(e,t,n){xS(e.x,t.x,n.x),xS(e.y,t.y,n.y)}function zn(e){return[e("x"),e("y")]}const lR=({current:e})=>e?e.ownerDocument.defaultView:null,DS=(e,t)=>Math.abs(e-t);function Wk(e,t){const n=DS(e.x,t.x),s=DS(e.y,t.y);return Math.sqrt(n**2+s**2)}class uR{constructor(t,n,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=_p(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,P=Wk(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!P)return;const{point:H}=S,{timestamp:k}=Ye;this.history.push({...H,timestamp:k});const{onStart:G,onMove:Y}=this.handlers;C||(G&&G(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),Y&&Y(this.lastMoveEvent,S)},this.handlePointerMove=(S,C)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=vp(C,this.transformPagePoint),re.update(this.updatePoint,!0)},this.handlePointerUp=(S,C)=>{this.end();const{onEnd:P,onSessionEnd:H,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const G=_p(S.type==="pointercancel"?this.lastMoveEventInfo:vp(C,this.transformPagePoint),this.history);this.startEvent&&P&&P(S,G),H&&H(S,G)},!Uy(t))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=o||window;const d=Wu(t),m=vp(d,this.transformPagePoint),{point:g}=m,{timestamp:y}=Ye;this.history=[{...g,timestamp:y}];const{onSessionStart:E}=n;E&&E(t,_p(m,this.history)),this.removeListeners=$u(_u(this.contextWindow,"pointermove",this.handlePointerMove),_u(this.contextWindow,"pointerup",this.handlePointerUp),_u(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),or(this.updatePoint)}}function vp(e,t){return t?{point:t(e.point)}:e}function MS(e,t){return{x:e.x-t.x,y:e.y-t.y}}function _p({point:e},t){return{point:e,delta:MS(e,cR(t)),offset:MS(e,Zk(t)),velocity:Jk(t,.1)}}function Zk(e){return e[0]}function cR(e){return e[e.length-1]}function Jk(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const o=cR(e);for(;n>=0&&(s=e[n],!(o.timestamp-s.timestamp>wi(t)));)n--;if(!s)return{x:0,y:0};const u=Ri(o.timestamp-s.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-s.x)/u,y:(o.y-s.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function t3(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?le(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?le(n,e,s.max):Math.min(e,n)),e}function VS(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function e3(e,{top:t,left:n,bottom:s,right:o}){return{x:VS(e.x,n,o),y:VS(e.y,t,s)}}function NS(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function n3(e,t){return{x:NS(e.x,t.x),y:NS(e.y,t.y)}}function i3(e,t){let n=.5;const s=cn(e),o=cn(t);return o>s?n=Du(t.min,t.max-s,e.min):s>o&&(n=Du(e.min,e.max-o,t.min)),hs(0,1,n)}function s3(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Tg=.35;function r3(e=Tg){return e===!1?e=0:e===!0&&(e=Tg),{x:OS(e,"left","right"),y:OS(e,"top","bottom")}}function OS(e,t,n){return{min:PS(e,t),max:PS(e,n)}}function PS(e,t){return typeof e=="number"?e:e[t]||0}const a3=new WeakMap;class o3{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ve(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=E=>{const{dragSnapToOrigin:S}=this.getProps();S?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Wu(E).point)},c=(E,S)=>{const{drag:C,dragPropagation:P,onDragStart:H}=this.getProps();if(C&&!P&&(this.openDragLock&&this.openDragLock(),this.openDragLock=vL(C),!this.openDragLock))return;this.latestPointerEvent=E,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zn(G=>{let Y=this.getAxisMotionValue(G).get()||0;if(Ci.test(Y)){const{projection:$}=this.visualElement;if($&&$.layout){const lt=$.layout.layoutBox[G];lt&&(Y=cn(lt)*(parseFloat(Y)/100))}}this.originPoint[G]=Y}),H&&re.postRender(()=>H(E,S)),vg(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},d=(E,S)=>{this.latestPointerEvent=E,this.latestPanInfo=S;const{dragPropagation:C,dragDirectionLock:P,onDirectionLock:H,onDrag:k}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:G}=S;if(P&&this.currentDirection===null){this.currentDirection=l3(G),this.currentDirection!==null&&H&&H(this.currentDirection);return}this.updateAxis("x",S.point,G),this.updateAxis("y",S.point,G),this.visualElement.render(),k&&k(E,S)},m=(E,S)=>{this.latestPointerEvent=E,this.latestPanInfo=S,this.stop(E,S),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>zn(E=>this.getAnimationState(E)==="paused"&&this.getAxisMotionValue(E).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new uR(t,{onSessionStart:u,onStart:c,onMove:d,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:lR(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,o=n||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!s)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&re.postRender(()=>d(s,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:o}=this.getProps();if(!s||!Lh(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=t3(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&uo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=e3(s.layoutBox,t):this.constraints=!1,this.elastic=r3(n),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&zn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=s3(s.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!uo(t))return!1;const s=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=uk(s,o.root,this.visualElement.getTransformPagePoint());let c=n3(o.layout.layoutBox,u);if(n){const d=n(ak(c));this.hasMutatedConstraints=!!d,d&&(c=Yw(d))}return c}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},g=zn(y=>{if(!Lh(y,n,this.currentDirection))return;let E=m&&m[y]||{};c&&(E={min:0,max:0});const S=o?200:1e6,C=o?40:1e7,P={type:"inertia",velocity:s?t[y]:0,bounceStiffness:S,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...u,...E};return this.startAxisValueAnimation(y,P)});return Promise.all(g).then(d)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return vg(this.visualElement,t),s.start(Yy(t,s,0,n,this.visualElement,!1))}stopAnimation(){zn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){zn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){zn(n=>{const{drag:s}=this.getProps();if(!Lh(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(n);if(o&&o.layout){const{min:c,max:d}=o.layout.layoutBox[n];u.set(t[n]-le(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!uo(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};zn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();o[c]=i3({min:m,max:m},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),zn(c=>{if(!Lh(c,t,null))return;const d=this.getAxisMotionValue(c),{min:m,max:g}=this.constraints[c];d.set(le(m,g,o[c]))})}addListeners(){if(!this.visualElement.current)return;a3.set(this.visualElement,this);const t=this.visualElement.current,n=_u(t,"pointerdown",m=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();uo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),re.read(s);const c=Pu(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(zn(y=>{const E=this.getAxisMotionValue(y);E&&(this.originPoint[y]+=m[y].translate,E.set(E.get()+m[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),u(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=Tg,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:d}}}function Lh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function l3(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class u3 extends hr{constructor(t){super(t),this.removeGroupControls=qn,this.removeListeners=qn,this.controls=new o3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||qn}unmount(){this.removeGroupControls(),this.removeListeners()}}const LS=e=>(t,n)=>{e&&re.postRender(()=>e(t,n))};class c3 extends hr{constructor(){super(...arguments),this.removePointerDownListener=qn}onPointerDown(t){this.session=new uR(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:lR(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:LS(t),onStart:LS(n),onMove:s,onEnd:(u,c)=>{delete this.session,o&&re.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=_u(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Zh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function kS(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ru={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Et.test(e))e=parseFloat(e);else return e;const n=kS(e,t.target.x),s=kS(e,t.target.y);return`${n}% ${s}%`}},h3={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,o=lr.parse(e);if(o.length>5)return s;const u=lr.createTransformer(e),c=typeof o[0]!="number"?1:0,d=n.x.scale*t.x,m=n.y.scale*t.y;o[0+c]/=d,o[1+c]/=m;const g=le(d,m,.5);return typeof o[2+c]=="number"&&(o[2+c]/=g),typeof o[3+c]=="number"&&(o[3+c]/=g),u(o)}};let Tp=!1;class f3 extends B.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:u}=t;OL(d3),u&&(n.group&&n.group.add(u),s&&s.register&&o&&s.register(u),Tp&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Zh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:o,isPresent:u}=this.props,{projection:c}=s;return c&&(c.isPresent=u,Tp=!0,o||t.layoutDependency!==n||n===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||re.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),ky.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=t;Tp=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function hR(e){const[t,n]=CL(),s=B.useContext(Hb);return tt.jsx(f3,{...e,layoutGroup:s,switchLayoutGroup:B.useContext(Gw),isPresent:t,safeToRemove:n})}const d3={borderRadius:{...ru,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ru,borderTopRightRadius:ru,borderBottomLeftRadius:ru,borderBottomRightRadius:ru,boxShadow:h3};function m3(e,t,n){const s=nn(e)?e:Mo(e);return s.start(Yy("",s,t,n)),s.animation}const p3=(e,t)=>e.depth-t.depth;class g3{constructor(){this.children=[],this.isDirty=!1}add(t){vy(this.children,t),this.isDirty=!0}remove(t){_y(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(p3),this.isDirty=!1,this.children.forEach(t)}}function y3(e,t){const n=gn.now(),s=({timestamp:o})=>{const u=o-n;u>=t&&(or(s),e(u-t))};return re.setup(s,!0),()=>or(s)}const fR=["TopLeft","TopRight","BottomLeft","BottomRight"],v3=fR.length,US=e=>typeof e=="string"?parseFloat(e):e,BS=e=>typeof e=="number"||Et.test(e);function _3(e,t,n,s,o,u){o?(e.opacity=le(0,n.opacity??1,T3(s)),e.opacityExit=le(t.opacity??1,0,E3(s))):u&&(e.opacity=le(t.opacity??1,n.opacity??1,s));for(let c=0;c<v3;c++){const d=`border${fR[c]}Radius`;let m=zS(t,d),g=zS(n,d);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||BS(m)===BS(g)?(e[d]=Math.max(le(US(m),US(g),s),0),(Ci.test(g)||Ci.test(m))&&(e[d]+="%")):e[d]=g}(t.rotate||n.rotate)&&(e.rotate=le(t.rotate||0,n.rotate||0,s))}function zS(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const T3=dR(0,.5,tw),E3=dR(.5,.95,qn);function dR(e,t,n){return s=>s<e?0:s>t?1:n(Du(e,t,s))}function jS(e,t){e.min=t.min,e.max=t.max}function Bn(e,t){jS(e.x,t.x),jS(e.y,t.y)}function qS(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function HS(e,t,n,s,o){return e-=t,e=Ef(e,1/n,s),o!==void 0&&(e=Ef(e,1/o,s)),e}function S3(e,t=0,n=1,s=.5,o,u=e,c=e){if(Ci.test(t)&&(t=parseFloat(t),t=le(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=le(u.min,u.max,s);e===u&&(d-=t),e.min=HS(e.min,t,n,d,o),e.max=HS(e.max,t,n,d,o)}function FS(e,t,[n,s,o],u,c){S3(e,t[n],t[s],t[o],t.scale,u,c)}const A3=["x","scaleX","originX"],b3=["y","scaleY","originY"];function GS(e,t,n,s){FS(e.x,t,A3,n?n.x:void 0,s?s.x:void 0),FS(e.y,t,b3,n?n.y:void 0,s?s.y:void 0)}function KS(e){return e.translate===0&&e.scale===1}function mR(e){return KS(e.x)&&KS(e.y)}function YS(e,t){return e.min===t.min&&e.max===t.max}function w3(e,t){return YS(e.x,t.x)&&YS(e.y,t.y)}function $S(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function pR(e,t){return $S(e.x,t.x)&&$S(e.y,t.y)}function QS(e){return cn(e.x)/cn(e.y)}function XS(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class R3{constructor(){this.members=[]}add(t){vy(this.members,t),t.scheduleRender()}remove(t){if(_y(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){s=u;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function C3(e,t,n){let s="";const o=e.x.translate/t.x,u=e.y.translate/t.y,c=n?.z||0;if((o||u||c)&&(s=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:g,rotate:y,rotateX:E,rotateY:S,skewX:C,skewY:P}=n;g&&(s=`perspective(${g}px) ${s}`),y&&(s+=`rotate(${y}deg) `),E&&(s+=`rotateX(${E}deg) `),S&&(s+=`rotateY(${S}deg) `),C&&(s+=`skewX(${C}deg) `),P&&(s+=`skewY(${P}deg) `)}const d=e.x.scale*t.x,m=e.y.scale*t.y;return(d!==1||m!==1)&&(s+=`scale(${d}, ${m})`),s||"none"}const Ep=["","X","Y","Z"],I3=1e3;let x3=0;function Sp(e,t,n,s){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),s&&(s[e]=0))}function gR(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=eR(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:u}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",re,!(o||u))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&gR(s)}function yR({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(c={},d=t?.()){this.id=x3++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(V3),this.nodes.forEach(L3),this.nodes.forEach(k3),this.nodes.forEach(N3)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new g3)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Sy),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Vw(c)&&!bL(c),this.instance=c;const{layoutId:d,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),e){let y,E=0;const S=()=>this.root.updateBlockedByResize=!1;re.read(()=>{E=window.innerWidth}),e(c,()=>{const C=window.innerWidth;C!==E&&(E=C,this.root.updateBlockedByResize=!0,y&&y(),y=y3(S,250),Zh.hasAnimatedSinceResize&&(Zh.hasAnimatedSinceResize=!1,this.nodes.forEach(JS)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:E,hasRelativeLayoutChanged:S,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const P=this.options.transition||g.getDefaultTransition()||q3,{onLayoutAnimationStart:H,onLayoutAnimationComplete:k}=g.getProps(),G=!this.targetLayout||!pR(this.targetLayout,C),Y=!E&&S;if(this.options.layoutRoot||this.resumeFrom||Y||E&&(G||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const $={...Py(P,"layout"),onPlay:H,onComplete:k};(g.shouldReduceMotion||this.options.layoutRoot)&&($.delay=0,$.type=!1),this.startAnimation($),this.setAnimationOrigin(y,Y)}else E||JS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),or(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(U3),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&gR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const E=this.path[y];E.shouldResetTransform=!0,E.updateScroll("snapshot"),E.options.layoutRoot&&E.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(WS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(ZS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(P3),this.nodes.forEach(D3),this.nodes.forEach(M3)):this.nodes.forEach(ZS),this.clearAllSnapshots();const d=gn.now();Ye.delta=hs(0,1e3/60,d-Ye.timestamp),Ye.timestamp=d,Ye.isProcessing=!0,cp.update.process(Ye),cp.preRender.process(Ye),cp.render.process(Ye),Ye.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ky.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(O3),this.sharedNodes.forEach(B3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,re.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){re.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!cn(this.snapshot.measuredBox.x)&&!cn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ve(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!mR(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;c&&this.instance&&(d||Wr(this.latestValues)||y)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),H3(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return ve();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(F3))){const{scroll:g}=this.root;g&&(co(d.x,g.offset.x),co(d.y,g.offset.y))}return d}removeElementScroll(c){const d=ve();if(Bn(d,c),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:y,options:E}=g;g!==this.root&&y&&E.layoutScroll&&(y.wasRoot&&Bn(d,c),co(d.x,y.offset.x),co(d.y,y.offset.y))}return d}applyTransform(c,d=!1){const m=ve();Bn(m,c);for(let g=0;g<this.path.length;g++){const y=this.path[g];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&ho(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Wr(y.latestValues)&&ho(m,y.latestValues)}return Wr(this.latestValues)&&ho(m,this.latestValues),m}removeTransform(c){const d=ve();Bn(d,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!Wr(g.latestValues))continue;mg(g.latestValues)&&g.updateSnapshot();const y=ve(),E=g.measurePageBox();Bn(y,E),GS(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return Wr(this.latestValues)&&GS(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ye.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:E}=this.options;if(!(!this.layout||!(y||E))){if(this.resolvedRelativeTargetAt=Ye.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),Eu(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),Bn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ve(),this.targetWithTransforms=ve()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Xk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bn(this.target,this.layout.layoutBox),Qw(this.target,this.targetDelta)):Bn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),Eu(this.relativeTargetOrigin,this.target,S.target),Bn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||mg(this.parent.latestValues)||$w(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Ye.timestamp&&(m=!1),m)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;Bn(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,S=this.treeScale.y;lk(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ve());const{target:C}=c;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(qS(this.prevProjectionDelta.x,this.projectionDelta.x),qS(this.prevProjectionDelta.y,this.projectionDelta.y)),Tu(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==S||!XS(this.projectionDelta.x,this.prevProjectionDelta.x)||!XS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=fo(),this.projectionDelta=fo(),this.projectionDeltaWithTransform=fo()}setAnimationOrigin(c,d=!1){const m=this.snapshot,g=m?m.latestValues:{},y={...this.latestValues},E=fo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const S=ve(),C=m?m.source:void 0,P=this.layout?this.layout.source:void 0,H=C!==P,k=this.getStack(),G=!k||k.members.length<=1,Y=!!(H&&!G&&this.options.crossfade===!0&&!this.path.some(j3));this.animationProgress=0;let $;this.mixTargetDelta=lt=>{const it=lt/1e3;tA(E.x,c.x,it),tA(E.y,c.y,it),this.setTargetDelta(E),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Eu(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),z3(this.relativeTarget,this.relativeTargetOrigin,S,it),$&&w3(this.relativeTarget,$)&&(this.isProjectionDirty=!1),$||($=ve()),Bn($,this.relativeTarget)),H&&(this.animationValues=y,_3(y,g,this.latestValues,it,Y,G)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=it},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(or(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=re.update(()=>{Zh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Mo(0)),this.currentAnimation=m3(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(I3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:g,latestValues:y}=c;if(!(!d||!m||!g)){if(this!==c&&this.layout&&g&&vR(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||ve();const E=cn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+E;const S=cn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+S}Bn(d,m),ho(d,y),Tu(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new R3),this.sharedNodes.get(c).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const g={};m.z&&Sp("z",c,g,this.animationValues);for(let y=0;y<Ep.length;y++)Sp(`rotate${Ep[y]}`,c,g,this.animationValues),Sp(`skew${Ep[y]}`,c,g,this.animationValues);c.render();for(const y in g)c.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Wh(d?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Wh(d?.pointerEvents)||""),this.hasProjected&&!Wr(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let E=C3(this.projectionDeltaWithTransform,this.treeScale,y);m&&(E=m(y,E)),c.transform=E;const{x:S,y:C}=this.projectionDelta;c.transformOrigin=`${S.origin*100}% ${C.origin*100}% 0`,g.animationValues?c.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const P in Ou){if(y[P]===void 0)continue;const{correct:H,applyTo:k,isCSSVariable:G}=Ou[P],Y=E==="none"?y[P]:H(y[P],g);if(k){const $=k.length;for(let lt=0;lt<$;lt++)c[k[lt]]=Y}else G?this.options.visualElement.renderState.vars[P]=Y:c[P]=Y}this.options.layoutId&&(c.pointerEvents=g===this?Wh(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(WS),this.root.sharedNodes.clear()}}}function D3(e){e.updateLayout()}function M3(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:o}=e.options,u=t.source!==e.layout.source;o==="size"?zn(y=>{const E=u?t.measuredBox[y]:t.layoutBox[y],S=cn(E);E.min=n[y].min,E.max=E.min+S}):vR(o,t.layoutBox,n)&&zn(y=>{const E=u?t.measuredBox[y]:t.layoutBox[y],S=cn(n[y]);E.max=E.min+S,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+S)});const c=fo();Tu(c,n,t.layoutBox);const d=fo();u?Tu(d,e.applyTransform(s,!0),t.measuredBox):Tu(d,n,t.layoutBox);const m=!mR(c);let g=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:E,layout:S}=y;if(E&&S){const C=ve();Eu(C,t.layoutBox,E.layoutBox);const P=ve();Eu(P,n,S.layoutBox),pR(C,P)||(g=!0),y.options.layoutRoot&&(e.relativeTarget=P,e.relativeTargetOrigin=C,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function V3(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function N3(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function O3(e){e.clearSnapshot()}function WS(e){e.clearMeasurements()}function ZS(e){e.isLayoutDirty=!1}function P3(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function JS(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function L3(e){e.resolveTargetDelta()}function k3(e){e.calcProjection()}function U3(e){e.resetSkewAndRotation()}function B3(e){e.removeLeadSnapshot()}function tA(e,t,n){e.translate=le(t.translate,0,n),e.scale=le(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function eA(e,t,n,s){e.min=le(t.min,n.min,s),e.max=le(t.max,n.max,s)}function z3(e,t,n,s){eA(e.x,t.x,n.x,s),eA(e.y,t.y,n.y,s)}function j3(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const q3={duration:.45,ease:[.4,0,.1,1]},nA=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),iA=nA("applewebkit/")&&!nA("chrome/")?Math.round:qn;function sA(e){e.min=iA(e.min),e.max=iA(e.max)}function H3(e){sA(e.x),sA(e.y)}function vR(e,t,n){return e==="position"||e==="preserve-aspect"&&!Qk(QS(t),QS(n),.2)}function F3(e){return e!==e.root&&e.scroll?.wasRoot}const G3=yR({attachResizeListener:(e,t)=>Pu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ap={current:void 0},_R=yR({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ap.current){const e=new G3({});e.mount(window),e.setOptions({layoutScroll:!0}),Ap.current=e}return Ap.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),K3={pan:{Feature:c3},drag:{Feature:u3,ProjectionNode:_R,MeasureLayout:hR}};function rA(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,u=s[o];u&&re.postRender(()=>u(t,Wu(t)))}class Y3 extends hr{mount(){const{current:t}=this.node;t&&(this.unmount=_L(t,(n,s)=>(rA(this.node,s,"Start"),o=>rA(this.node,o,"End"))))}unmount(){}}class $3 extends hr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=$u(Pu(this.node.current,"focus",()=>this.onFocus()),Pu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function aA(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),u=s[o];u&&re.postRender(()=>u(t,Wu(t)))}class Q3 extends hr{mount(){const{current:t}=this.node;t&&(this.unmount=AL(t,(n,s)=>(aA(this.node,s,"Start"),(o,{success:u})=>aA(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Eg=new WeakMap,bp=new WeakMap,X3=e=>{const t=Eg.get(e.target);t&&t(e)},W3=e=>{e.forEach(X3)};function Z3({root:e,...t}){const n=e||document;bp.has(n)||bp.set(n,{});const s=bp.get(n),o=JSON.stringify(t);return s[o]||(s[o]=new IntersectionObserver(W3,{root:e,...t})),s[o]}function J3(e,t,n){const s=Z3(t);return Eg.set(e,n),s.observe(e),()=>{Eg.delete(e),s.unobserve(e)}}const t6={some:0,all:1};class e6 extends hr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:u}=t,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:t6[o]},d=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:E}=this.node.getProps(),S=g?y:E;S&&S(m)};return J3(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(n6(t,n))&&this.startObserver()}unmount(){}}function n6({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const i6={inView:{Feature:e6},tap:{Feature:Q3},focus:{Feature:$3},hover:{Feature:Y3}},s6={layout:{ProjectionNode:_R,MeasureLayout:hR}},r6={...Hk,...i6,...K3,...s6},No=rk(r6,vk),oA=[5,6,7,8];function a6({active:e,onSelect:t}){const n=Math.max(oA.indexOf(e),0);return tt.jsx("nav",{className:"fixed bottom-6 left-1/2 z-50 w-[80%] -translate-x-1/2",children:tt.jsxs("div",{className:"relative mx-auto h-16 rounded-3xl bg-neutral-900 shadow-lg px-4",children:[tt.jsx("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 flex flex-col items-center",children:tt.jsx("div",{className:"h-12 w-28 rounded-full bg-neutral-900 flex items-center justify-center",children:tt.jsx("span",{className:"text-sm font-medium text-white",children:"Snf Seimi"})})}),tt.jsx(No.div,{layoutId:"notch",className:"absolute -top-3 h-16 w-16 rounded-full bg-neutral-900",style:{left:`calc(${n*25}% + 12.5% - 2rem)`},transition:{type:"spring",stiffness:500,damping:30}}),tt.jsx("ul",{className:"relative z-10 grid h-full grid-cols-4",children:oA.map(s=>tt.jsx("li",{className:"flex items-center justify-center",children:tt.jsx("button",{"aria-label":`${s}. snf`,onClick:()=>t(s),className:"relative flex h-full w-full items-center justify-center text-gray-400",children:e===s?tt.jsx(No.span,{layoutId:"pill",className:"absolute -top-4 flex h-14 w-14 items-center justify-center rounded-full bg-blue-500 text-lg font-semibold text-white shadow-xl",transition:{type:"spring",stiffness:500,damping:30},children:s}):tt.jsx("span",{className:"text-lg font-medium",children:s})})},s))})]})})}function au({size:e=24,label:t,className:n=""}){return tt.jsxs("div",{className:`flex items-center gap-2 ${n}`,role:"status","aria-live":"polite",children:[tt.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",className:"animate-spin","aria-label":t||"Ykleniyor",children:[tt.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none",opacity:"0.25"}),tt.jsx("path",{d:"M22 12a10 10 0 0 0-10-10",stroke:"currentColor",strokeWidth:"4",fill:"none",strokeLinecap:"round"})]}),t?tt.jsx("span",{className:"text-sm",children:t}):null]})}const o6={indigo:"bg-indigo-500/10 text-indigo-300 ring-indigo-400/20",emerald:"bg-emerald-500/10 text-emerald-300 ring-emerald-400/20",rose:"bg-rose-500/10 text-rose-300 ring-rose-400/20",slate:"bg-white/5 text-slate-200 ring-white/10"},TR={indigo:"text-indigo-300",emerald:"text-emerald-300",rose:"text-rose-300"},Zu=({color:e="indigo",children:t,className:n=""})=>tt.jsx("span",{className:`inline-flex m-1 h-7 w-7 items-center justify-center rounded-full ring-1 ${o6[e]} ${n}`,children:t}),lA=({icon:e,color:t="indigo",children:n})=>tt.jsxs("div",{className:"mb-3 flex items-center gap-2",children:[tt.jsx(Zu,{color:t,children:tt.jsx(e,{className:"h-4 w-4"})}),tt.jsx("h2",{className:`text-base font-semibold ${TR[t]}`,children:n})]}),Sg=({className:e="",children:t})=>tt.jsx("div",{className:`rounded-xl border border-white/10 bg-neutral-900 shadow-sm ${e}`,children:t}),uA=({title:e,icon:t,color:n="indigo",children:s})=>{const[o,u]=B.useState(!1),[c,d]=B.useState(0),m=B.useRef(null);return B.useEffect(()=>{const g=m.current;if(!g)return;const y=()=>d(g.scrollHeight);y();const E=new ResizeObserver(y);E.observe(g);const S=setTimeout(y,50);return()=>{E.disconnect(),clearTimeout(S)}},[s,o]),tt.jsxs(Sg,{children:[tt.jsxs("button",{onClick:()=>u(g=>!g),"aria-expanded":o,className:"flex w-full items-center justify-between rounded-xl border-b border-white/10 px-4 py-3 text-left text-[15px] font-semibold text-slate-200 hover:bg-white/5 focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400",children:[tt.jsxs("span",{className:"inline-flex items-center gap-2",children:[tt.jsx(Zu,{color:n,children:tt.jsx(t,{className:"h-4 w-4"})}),e]}),tt.jsx(No.span,{animate:{rotate:o?180:0},transition:{duration:.25},className:"text-slate-400",children:""})]}),tt.jsx(No.div,{initial:!1,animate:o?{maxHeight:c,opacity:1}:{maxHeight:0,opacity:0},transition:{duration:.28,ease:[.22,1,.36,1]},className:"overflow-hidden",children:tt.jsx("div",{ref:m,className:"max-h-72 overflow-y-auto px-4 pb-4 pt-3",children:s})})]})},ER=({title:e,icon:t,color:n="indigo",children:s,defaultOpen:o=!1})=>{const[u,c]=B.useState(o),[d,m]=B.useState(0),g=B.useRef(null);return B.useEffect(()=>{const y=g.current;if(!y)return;const E=()=>m(y.scrollHeight);E();const S=new ResizeObserver(E);S.observe(y);const C=setTimeout(E,50);return()=>{S.disconnect(),clearTimeout(C)}},[s,u]),tt.jsxs("div",{className:"rounded-lg border border-white/10 bg-neutral-900/60",children:[tt.jsxs("button",{onClick:()=>c(y=>!y),"aria-expanded":u,className:"flex w-full items-center justify-between gap-2 rounded-lg px-3 py-2 text-left text-sm font-semibold text-slate-200 hover:bg-white/5 focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400",children:[tt.jsxs("span",{className:"inline-flex items-center gap-2",children:[tt.jsx(Zu,{color:n,children:tt.jsx(t,{className:"h-4 w-4"})}),tt.jsx("span",{className:TR[n],children:e})]}),tt.jsx(No.span,{animate:{rotate:u?180:0},transition:{duration:.22},className:"text-slate-400",children:tt.jsx(gN,{className:"h-4 w-4"})})]}),tt.jsx(No.div,{initial:!1,animate:u?{maxHeight:d,opacity:1}:{maxHeight:0,opacity:0},transition:{duration:.28,ease:[.22,1,.36,1]},className:"overflow-hidden",children:tt.jsx("div",{ref:g,className:"px-3 pb-3 pt-1",children:s})})]})},cA=({items:e=[]})=>e.length?tt.jsx("div",{className:"space-y-2",children:e.map(t=>tt.jsx(ER,{title:t.category,icon:ab,color:"indigo",defaultOpen:!1,children:tt.jsx("ul",{className:"space-y-1.5 text-sm leading-6 text-slate-300",children:t.slides.map((n,s)=>tt.jsxs("li",{className:"flex items-center gap-2",children:[tt.jsx(Zu,{color:"indigo",className:"h-6 w-6",children:tt.jsx(EN,{className:"h-3.5 w-3.5"})}),n.link?tt.jsxs("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 underline decoration-indigo-700/40 underline-offset-2 hover:text-indigo-300",children:[n.name,tt.jsx(ob,{className:"h-3.5 w-3.5"})]}):n.name]},s))})},t.category))}):tt.jsx("p",{className:"text-xs text-slate-400",children:"Bu snf iin slayt yok."}),hA=({items:e=[]})=>e.length?tt.jsx("div",{className:"space-y-2",children:e.map(t=>tt.jsx(ER,{title:t.category,icon:lb,color:"emerald",defaultOpen:!1,children:tt.jsx("ul",{className:"space-y-1.5 text-sm leading-6 text-slate-300",children:t.tests.map((n,s)=>tt.jsxs("li",{className:"flex items-center gap-2",children:[tt.jsx(Zu,{color:"emerald",className:"h-6 w-6",children:tt.jsx(vN,{className:"h-3.5 w-3.5"})}),n.link?tt.jsxs("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 underline decoration-emerald-700/40 underline-offset-2 hover:text-emerald-300",children:[n.name,tt.jsx(ob,{className:"h-3.5 w-3.5"})]}):n.name]},s))})},t.category))}):tt.jsx("p",{className:"text-xs text-slate-400",children:"Bu snf iin test yok."}),l6=new Intl.Collator("tr",{sensitivity:"base",numeric:!0}),kh=(e="",t="")=>l6.compare(e,t),fA=e=>String(e??"").trim().toLowerCase(),u6="Europe/Istanbul",c6=(e,t)=>{const n=new Intl.DateTimeFormat("en-CA",{timeZone:t,year:"numeric",month:"2-digit",day:"2-digit"}).formatToParts(e),s=Number(n.find(c=>c.type==="year")?.value),o=Number(n.find(c=>c.type==="month")?.value),u=Number(n.find(c=>c.type==="day")?.value);return Math.floor(Date.UTC(s,o-1,u)/864e5)},h6=Math.floor(Date.UTC(2025,8,17)/864e5);function f6(){const[e,t]=B.useState([]),[n,s]=B.useState([]),[o,u]=B.useState(5),[c,d]=B.useState(!1),[m,g]=B.useState(null),[y,E]=B.useState(!1),[S,C]=B.useState(null);return B.useEffect(()=>{(async()=>{d(!0);try{const k=(await Mh(xh(Nh,"slaytKategoriAdlari"))).docs.map(R=>R.data().name).filter(Boolean),G=async R=>(await Mh(IE(xh(Nh,R),xE("grade","==",o)))).docs.flatMap(N=>{const L=N.data();return fA(L.type)!=="slayt"?[]:[{name:L.name??"Adsz",link:L.link||void 0}]}),$=(await Promise.all(k.map(async R=>({category:R,slides:await G(R)})))).map(R=>({...R,slides:[...R.slides].sort((D,N)=>kh(D.name,N.name))})).filter(R=>R.slides.length).sort((R,D)=>kh(R.category,D.category));t($);const it=(await Mh(xh(Nh,"kategoriAdlari"))).docs.map(R=>R.data().name).filter(Boolean),dt=async R=>(await Mh(IE(xh(Nh,R),xE("grade","==",o)))).docs.flatMap(N=>{const L=N.data();if(fA(L.type)!=="test")return[];const x=L.createdAt?.toDate?.()??null,ce=x?new Date(x.getTime()+(L.duration??0)*6e4):null;return[{name:L.name??"Adsz",link:L.link||void 0,closing:ce}]}),w=(await Promise.all(it.map(async R=>({category:R,tests:await dt(R)})))).map(R=>({...R,tests:[...R.tests].sort((D,N)=>kh(D.name,N.name))})).filter(R=>R.tests.length).sort((R,D)=>kh(R.category,D.category));s(w)}catch(H){console.error("Firestore veri ekme hatas:",H)}finally{d(!1)}})()},[o]),B.useEffect(()=>{let P=!1;return(async()=>{try{E(!0),C(null);const H=await fetch("/stdSC/sozler.json",{cache:"no-store"});if(!H.ok)throw new Error(`sozler.json yklenemedi (HTTP ${H.status})`);const k=await H.json();if(!Array.isArray(k)||k.length===0)throw new Error("sozler.json bo veya hatal.");const G=c6(new Date,u6),$=Math.max(0,G-h6)%k.length;P||g(k[$])}catch(H){P||C(H?.message??"Gnn sz yklenirken bir hata olutu.")}finally{P||E(!1)}})(),()=>{P=!0}},[]),tt.jsxs("section",{className:"relative min-h-screen bg-neutral-950 px-4 py-6 pb-[calc(88px+env(safe-area-inset-bottom))] text-slate-200",children:[tt.jsx("div",{className:"mx-auto mb-6 w-full max-w-6xl",children:tt.jsxs("div",{className:"flex flex-wrap items-start gap-3 md:gap-6",children:[tt.jsx("img",{src:CP,alt:"Site Logosu",className:"h-14 w-auto opacity-90 md:h-21 shrink-0"}),tt.jsxs("div",{className:"min-w-0 flex-1",children:[tt.jsx("div",{className:"mb-1 text-xs font-semibold uppercase tracking-wide text-indigo-300/80",children:"Gnn Sz"}),y?tt.jsx("div",{className:"py-2",children:tt.jsx(au,{label:"Sz ykleniyor..."})}):S?tt.jsx("p",{className:"text-sm text-rose-300",children:S}):m?tt.jsxs("div",{className:"flex items-start gap-3",children:[tt.jsx("span",{className:"mt-1 h-8 w-1 rounded-full bg-indigo-400/40 md:h-10"}),tt.jsxs("div",{className:"min-w-0",children:[tt.jsxs("p",{className:"text-[15px] leading-7 text-slate-200",children:[tt.jsx("span",{className:"mr-1 text-rose-300",children:""}),m.quote,tt.jsx("span",{className:"ml-1 text-rose-300",children:""})]}),tt.jsxs("p",{className:"mt-1 text-sm text-slate-400",children:[" ",m.author]}),m.source?tt.jsxs("p",{className:"text-xs text-slate-500",children:["Kaynak:"," ",/^https?:\/\//i.test(m.source)?tt.jsx("a",{href:m.source,target:"_blank",rel:"noopener noreferrer",className:"underline decoration-rose-700/40 underline-offset-2 hover:text-rose-300",children:m.source}):m.source]}):null]})]}):tt.jsx("p",{className:"text-sm text-slate-400",children:"Bugn iin gsterilecek sz bulunamad."})]})]})}),tt.jsxs("div",{className:"mx-auto grid w-full max-w-6xl items-stretch gap-6 md:grid-cols-2",children:[tt.jsxs(Sg,{className:"hidden md:flex md:h-[400px] flex-col p-4",children:[tt.jsx(lA,{icon:wN,color:"indigo",children:"Konu Anlatm Slaytlar"}),tt.jsx("div",{className:"mt-1 min-h-0 flex-1 overflow-y-auto pr-1",children:c?tt.jsx(au,{label:"Slaytlar ykleniyor..."}):tt.jsx(cA,{items:e})})]}),tt.jsxs(Sg,{className:"hidden md:flex md:h-[400px] flex-col p-4",children:[tt.jsx(lA,{icon:AN,color:"emerald",children:"Testler"}),tt.jsx("div",{className:"mt-1 min-h-0 flex-1 overflow-y-auto pr-1",children:c?tt.jsx(au,{label:"Testler ykleniyor..."}):tt.jsx(hA,{items:n})})]})]}),tt.jsxs("div",{className:"mx-auto mt-4 w-full max-w-md space-y-3 md:hidden",children:[tt.jsx(uA,{title:"Konu Anlatm Slaytlar",icon:ab,color:"indigo",children:c?tt.jsx(au,{label:"Slaytlar ykleniyor..."}):tt.jsx(cA,{items:e})}),tt.jsx(uA,{title:"Testler",icon:lb,color:"emerald",children:c?tt.jsx(au,{label:"Testler ykleniyor..."}):tt.jsx(hA,{items:n})})]}),tt.jsx("div",{className:"mx-auto mt-4 max-w-6xl",children:tt.jsx(a6,{active:o,onSelect:u})})]})}function d6(){return tt.jsx(p2,{children:tt.jsx("main",{className:"min-h-screen bg-[#0d0d0d]",children:tt.jsx(B.Suspense,{fallback:null,children:tt.jsxs(KI,{children:[tt.jsx(Rp,{path:"/",element:tt.jsx(f6,{})}),tt.jsx(Rp,{path:"*",element:tt.jsx(FI,{to:"/",replace:!0})})]})})})})}eI.createRoot(document.getElementById("root")).render(tt.jsx(B.StrictMode,{children:tt.jsx(d6,{})}));
